<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>第 4 页 | output stream</title>
  <meta name="author" content="yakun.cyk">
  
  <meta name="description" content="主要内容可能关于 web 技术，感慨心得...">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="output stream"/>

  
    <meta property="og:image" content="undefined"/>
  

  
  
    <link href="/favicon.png" rel="icon">
  
  
  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  



</head>

 <body>  
  <nav id="main-nav" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
	    <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
	  <a class="navbar-brand" href="/">output stream</a>
      <div class="collapse navbar-collapse nav-menu">
		    <ul class="nav navbar-nav">
    		  
    		  <li>
    			 <a href="/demos" title="Demos.">
            <i class="fa fa-flask"></i>Demos
    			 </a>
    		  </li>
    		  
    		  <li>
    			 <a href="/archives" title="All the articles.">
            <i class="fa fa-archive"></i>归档
    			 </a>
    		  </li>
    		  
    		  <li>
    			 <a href="/about" title="About me.">
            <i class="fa fa-user"></i>关于我
    			 </a>
    		  </li>
    		  
    		  <li>
    			 <a href="/#" title="Search Posts.">
            <i class="fa fa-search"></i>搜索
    			 </a>
    		  </li>
    		  
    		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 <div class="row page">

	
	<div class="col-md-9">
	

		<div class="slogan">
      <!--
        <i class="fa fa-heart"></i> 
      -->
      
</div>    
		<div id="top_search"></div>
		<div class="mypage">
		
		<!-- title and entry -->
		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2015-10-23 </div>
			<div class="article-title"><a href="/2015/10/23/测试工具-Mock-的使用-资料整理中/" >测试工具 Mock 的使用(资料整理中)</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
	
	
		<p>因为重构，所以需要测试。</p>
<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>###单元测试<br>单元测试主要包含断言，测试框架，测试用例，测试覆盖率，mock，持续集成等几个方面：</p>
<p>Mocha 支持你用任何一种断言库，无论是should.js、chai、expect.js、better-assert等等。也可以用node原始的assert。</p>
<p>###测试风格<br>Mocha支持BDD（行为驱动开发）和TDD（测试驱动开发）两种测试风格，BDD对于TDD来说在关注点更关注整体行为是否符合预期，在表达方式上更接近于自然语言的习惯。Mocha的默认模式是BDD，在此我们只关注BDD模式。</p>
<p>###钩子函数<br>BDD风格的钩子函数有：before, after, beforeEach, afterEach 典型BDD风格测试：</p>

	
	</div>
  <a type="button" href="/2015/10/23/测试工具-Mock-的使用-资料整理中/#more" class="btn btn-default more">阅读此文</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2015-10-23 </div>
			<div class="article-title"><a href="/2015/10/23/怎么写出好代码/" >怎么写出好代码</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
	
           
              <div class="thumbnail"><a href="/2015/10/23/怎么写出好代码/"><img src="http://7i7gr4.com1.z0.glb.clouddn.com/2017-04-23-14929312889535.jpg" alt="怎么写出好代码"  class="nofancybox"></a>
           
		</div>
	
	
		<blockquote>
<p>很难定义什么是好代码，但是坏代码是显而易见的。</p>
</blockquote>
<p>##良性循环</p>
<p>对已经具有可测试性、可维护性、可理解性的代码进行测试和维护，可以让工作更简单。有了这个基础，可以让我们更富有成效，富有成效的人时快乐的，快乐的人也是富有成效的。这是一个良性循环。 </p>
<h2 id="理论摘录"><a href="#理论摘录" class="headerlink" title="理论摘录"></a>理论摘录</h2><ol>
<li>重构的基本技巧: 小步前进，频繁测试。</li>
<li>对象技术的要点在于：将数据和对数据的操作行为包装在一起。</li>
<li>封装：对外部世界隐藏内部细节。 </li>
<li>可以让函数保持最小代码量的一个方法是让命令（Command）和查询（Query）保持分离。命令函数表示 do something, 而查询函数表示 return something。</li>
</ol>
<p>##代码的坏味道</p>
<ol>
<li>Duplicated Code（重复的代码）<ul>
<li>合并重复的代码，提取，使之独立出来</li>
</ul>
</li>
<li>Long Method（长函数）<ul>
<li>一个函数越长，圈复杂度就越大，容易出问题的点就越多，并且需要的脑容量也更大，还会导致在修复 bug 的时候，产生新 bug 的概率加大。</li>
<li>原则：每当感觉需要使用注释说明点什么的时候，就把需要说明的东西写入到一个独立的函数中。</li>
</ul>
</li>
<li>Long Parameter List（过长参数列）</li>
<li>Divergent Change（发散式变化）<ul>
<li>一个类受多种变化的影响</li>
<li>一旦需要修改，最好只修改一处</li>
</ul>
</li>
<li>Shotgun Surgery（散弹式修改）<ul>
<li>一种变化引发多个类需要修改</li>
<li>每遇到某种变化，都必须在许多不同的类内做出许多小修改</li>
</ul>
</li>
<li>Feature Envy（依恋情节）<ul>
<li>某个函数为了计算某个值，从另一个对象那调用了多个取值函数</li>
</ul>
</li>
<li>Data Clumps（数据泥团）<ul>
<li>两个类中相同的字段，许多函数中相同的参数等绑在一起出现的数据，提炼成对象</li>
</ul>
</li>
<li>Switch Statement<ul>
<li>面向对象程序的一个显著特征：少用 switch 语句，多用多态。</li>
</ul>
</li>
<li>Complicated Condition（复杂的条件判断）<ul>
<li>把需要注释说明的分支条件，提炼成单独的一个函数</li>
</ul>
</li>
<li>Proper Iterator（合理使用循环）<ul>
<li>如果有些代码实际上是重复性的工作，那么合理的使用循环会使代码量更少</li>
</ul>
</li>
<li>Only One Return（函数只有一个出口）<ul>
<li>提前让函数退出，代替嵌套条件分支</li>
<li>避免 if 分支的左右括号之间相隔 500 米</li>
</ul>
</li>
</ol>

	
	</div>
  <a type="button" href="/2015/10/23/怎么写出好代码/#more" class="btn btn-default more">阅读此文</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2015-10-23 </div>
			<div class="article-title"><a href="/2015/10/23/node-stream/" >node stream</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
	
	
		<p>##引子<br>最近编写 gulp-gaea 插件时用到了遇到了 <code>stream</code> 的问题， 在这里总结一下。在node中，流可以帮助我们将事情的重点分为几份，因为使用流可以帮助我们将实现接口的部分分割成一些连续的接口，这些接口都是可重用的。接着，你可以将一个流的输出口接到另一个流的输入口，然后使用使用一些库来对流实现高级别的控制。相比 java 的复杂庞大的 IO 接口，node 的接口简单了很多。</p>
<p>##使用流的好处</p>
<p>在node中，I/O都是异步的，所以在和硬盘以及网络的交互过程中会涉及到传递回调函数的过程。你之前可能会写出这样的代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">'http'</span>);</div><div class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</div><div class="line"></div><div class="line"><span class="keyword">var</span> server = http.createServer(<span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</div><div class="line">    fs.readFile(__dirname + <span class="string">'/data.txt'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">err, data</span>) </span>&#123;</div><div class="line">        res.end(data);</div><div class="line">    &#125;);</div><div class="line">&#125;);</div><div class="line">server.listen(<span class="number">8000</span>);</div></pre></td></tr></table></figure>
<p>上面的这段代码并没有什么问题，但是在每次请求时，我们都会把整个data.txt文件读入到内存中，然后再把结果返回给客户端。如果data.txt文件非常大，在响应大量用户的并发请求时，程序可能会消耗大量的内存，这样很可能会造成用户连接缓慢的问题。</p>
<p>所幸的是，(req,res)参数都是流对象，这意味着我们可以使用一种更好的方法来实现上面的需求：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">'http'</span>);</div><div class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</div><div class="line"></div><div class="line"><span class="keyword">var</span> server = http.createServer(<span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> stream = fs.createReadStream(__dirname + <span class="string">'/data.txt'</span>);</div><div class="line">    stream.pipe(res);</div><div class="line">&#125;);</div><div class="line">server.listen(<span class="number">8000</span>);</div></pre></td></tr></table></figure>
<p>在这里，.pipe()方法会自动帮助我们监听data和end事件。上面的这段代码不仅简洁，而且data.txt文件中每一小段数据都将源源不断的发送到客户端, 还有一个好处就是，如果流出的慢了， 那么会自动减少数据的读入，减少对内存的压力。</p>
<p>##node的流模块</p>
<p>在node中，一共有五种类型的流：readable,writable,transform,duplex以及”classic”。</p>
<p>###pipe</p>
<p>无论哪一种流，都会使用.pipe()方法来实现输入和输出。</p>
<p><code>.pipe()</code> 函数很简单，它仅仅是接受一个源头<code>src</code>并将数据输出到一个可写的流<code>dst</code>中：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">src</span><span class="selector-class">.pipe</span>(<span class="selector-tag">dst</span>)</div><div class="line"><span class="selector-class">.pipe</span>(<span class="selector-tag">dst</span>)</div></pre></td></tr></table></figure>
<p>将会返回dst因此你可以链式调用多个流:</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">a</span><span class="selector-class">.pipe</span>(<span class="selector-tag">b</span>)<span class="selector-class">.pipe</span>(<span class="selector-tag">c</span>)<span class="selector-class">.pipe</span>(<span class="selector-tag">d</span>)</div></pre></td></tr></table></figure>
<p>上面的代码也可以等价为：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">a</span><span class="selector-class">.pipe</span>(<span class="selector-tag">b</span>);</div><div class="line"><span class="selector-tag">b</span><span class="selector-class">.pipe</span>(<span class="selector-tag">c</span>);</div><div class="line"><span class="selector-tag">c</span><span class="selector-class">.pipe</span>(<span class="selector-tag">d</span>);</div></pre></td></tr></table></figure></p>
<p>类似 unix 中编写流代码很类似：<br><figure class="highlight coq"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">a | <span class="type">b</span> | <span class="type">c</span> | <span class="type">d</span></div></pre></td></tr></table></figure></p>
<p>###readable流</p>
<p><code>Readable</code> 流可以产出数据，你可以将这些数据传送到一个 <code>writable</code>，<code>transform</code> 或者 <code>duplex</code> 流中，只需要调用<code>pipe()</code>方法:</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">readableStream</span><span class="selector-class">.pipe</span>(<span class="selector-tag">dst</span>)</div></pre></td></tr></table></figure>
<p>创建一个readable流</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> Readable = <span class="built_in">require</span>(<span class="string">'stream'</span>).Readable;</div><div class="line"></div><div class="line"><span class="keyword">var</span> rs = <span class="keyword">new</span> Readable;</div><div class="line">rs.push(<span class="string">'beep '</span>);</div><div class="line">rs.push(<span class="string">'boop\n'</span>);</div><div class="line">rs.push(<span class="literal">null</span>);</div><div class="line">rs.pipe(process.stdout);</div></pre></td></tr></table></figure>
<p>下面运行代码：</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">beep</span> boop</div></pre></td></tr></table></figure>
<p><strong>在上面的代码中rs.push(null)的作用是告诉rs输出数据应该结束了。</strong></p>
<p>需要注意的一点是我们在将数据输出到 process.stdout 之前已经将内容推送进readable流rs中，但是所有的数据依然是可写的。</p>
<p>这是因为在你使用.push()将数据推进一个readable流中时，一直要到另一个东西来消耗数据之前，数据都会存在一个缓存中。</p>
<p>可以使用util.inherit()来继承一个Readable流。</p>
<p>###消耗一个readable流</p>
<p>大部分时候，将一个readable流直接 pipe 到另一种类型的流或者使用<code>through</code> 创建的流中，是一件很容易的事情。但是有时我们也会需要直接来消耗一个readable流。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">process.stdin.on(<span class="string">'readable'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> buf = process.stdin.read();</div><div class="line">    <span class="built_in">console</span>.dir(buf);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>当数据可用时，readable事件将会被触发，可以调用.read()方法来从缓存中获取这些数据。</p>
<p>当流结束时，.read()将返回null，因为此时已经没有更多的字节可以供我们获取了。</p>
<p>也可以告诉.read()方法来返回n个字节的数据。</p>
<p>下面是一个例子，在这里我们制定每次读取3个字节的数据：</p>
<p>process.stdin.on(‘readable’, function () {<br>    var buf = process.stdin.read(3);<br>    console.dir(buf);<br>});</p>
<p>###writable流</p>
<p>一个writable流指的是只能流进不能流出的流:</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">src</span><span class="selector-class">.pipe</span>(<span class="selector-tag">writableStream</span>)</div></pre></td></tr></table></figure>
<p>####创建一个writable流</p>
<p>只需要定义一个._write(chunk,enc,next)函数，你就可以将一个readable流的数据释放到其中：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> Writable = <span class="built_in">require</span>(<span class="string">'stream'</span>).Writable;</div><div class="line"><span class="keyword">var</span> ws = Writable();</div><div class="line">ws._write = <span class="function"><span class="keyword">function</span> (<span class="params">chunk, enc, next</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.dir(chunk);</div><div class="line">    next();</div><div class="line">&#125;;</div><div class="line"></div><div class="line">process.stdin.pipe(ws);</div></pre></td></tr></table></figure>
<p>第一个参数，chunk代表写进来的数据。</p>
<p>第二个参数enc代表编码的字符串，但是只有在opts.decodeString为false的时候你才可以写一个字符串。</p>
<p>第三个参数，next(err)是一个回调函数，使用这个回调函数你可以告诉数据消耗者可以写更多的数据。你可以有选择性的传递一个错误对象error，这时会在流实体上触发一个emit事件。</p>
<p><strong>在从一个readable流向一个writable流传数据的过程中，数据会自动被转换为Buffer对象</strong>，除非你在创建writable流的时候制定了<code>decodeStrings</code>参数为false,  <code>Writable({decodeStrings: false})</code>。</p>
<p>如果你需要传递对象，需要指定objectMode参数为true，<code>Writable({ objectMode: true })</code>。</p>
<p>####向一个writable流中写东西</p>
<p>如果需要向一个writable流中写东西，只需要调用.write(data)即可。</p>
<figure class="highlight arduino"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">process</span>.stdout.<span class="built_in">write</span>(<span class="string">'beep boop\n'</span>);</div></pre></td></tr></table></figure>
<p>为了告诉一个writable流你已经写完毕了，只需要调用.end()方法。<strong>你也可以使用.end(data)在结束前再写一些数据。</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</div><div class="line"><span class="keyword">var</span> ws = fs.createWriteStream(<span class="string">'message.txt'</span>);</div><div class="line"></div><div class="line">ws.write(<span class="string">'beep '</span>);</div><div class="line"></div><div class="line">setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    ws.end(<span class="string">'boop\n'</span>);</div><div class="line">&#125;, <span class="number">1000</span>);</div></pre></td></tr></table></figure>
<p>###transform流</p>
<p>你可以将 <code>transform</code> 流想象成一个流的中间部分，它可以读也可写，但是并不保存数据，它只负责处理流经它的数据。 gulp 中接触的流就是 transform 流。</p>
<p>###duplex流</p>
<p>Duplex 流是一个可读也可写的流，就好像一个电话，可以接收也可以发送语音。一个rpc交换是一个duplex流的最好的例子。如果你看到过下面这样的代码：</p>
<p>a.pipe(b).pipe(a)<br>那么你需要处理的就是一个duplex流对象。</p>

	
	</div>
  <a type="button" href="/2015/10/23/node-stream/#more" class="btn btn-default more">阅读此文</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2015-10-23 </div>
			<div class="article-title"><a href="/2015/10/23/js中的编码转换/" >js中的编码转换</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
	
	
		<p>#js 的码</p>
<p>#1. btoa, atob</p>
<p>WindowBase64.btoa()</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> encodedData = <span class="built_in">window</span>.btoa(stringToEncode);</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> encodedData = <span class="built_in">window</span>.btoa(<span class="string">"Hello, world"</span>); <span class="comment">// encode a string</span></div><div class="line"><span class="keyword">var</span> decodedData = <span class="built_in">window</span>.atob(encodedData); <span class="comment">// decode the string</span></div></pre></td></tr></table></figure>
<p>Notes<br>You can use this method to encode data which may otherwise cause communication problems, transmit it, then use the window.atob() method to decode the data again. For example, you can encode control characters such as ASCII values 0 through 31.</p>
<p>btoa() is also available to XPCOM components implemented in JavaScript, even though window is not the global object in components.</p>
<p>Unicode Strings<br>In most browsers, calling window.btoa() on a Unicode string will cause a Character Out Of Range exception.</p>
<p>To avoid this, consider this pattern, noted by Johan Sundström:</p>
<pre><code>function utf8_to_b64(str) {
    return window.btoa(unescape(encodeURIComponent(str)));
}

function b64_to_utf8(str) {
    return decodeURIComponent(escape(window.atob(str)));
}
</code></pre><p>// Usage:<br>utf8_to_b64(‘✓ à la mode’); // JTI1dTI3MTMlMjUyMCUyNUUwJTI1MjBsYSUyNTIwbW9kZQ==<br>b64_to_utf8(‘JTI1dTI3MTMlMjUyMCUyNUUwJTI1MjBsYSUyNTIwbW9kZQ==’); // “✓ à la mode”</p>
<p>utf8_to_b64(‘I \u2661 Unicode!’); // SSUyNTIwJTI1dTI2NjElMjUyMFVuaWNvZGUlMjUyMQ==<br>b64_to_utf8(‘SSUyNTIwJTI1dTI2NjElMjUyMFVuaWNvZGUlMjUyMQ==’); // “I ♡ Unicode!”<br>A better, more faithful and less expensive solution is to convert the DOMString to a UTF-8 encoded string passing for typed arrays. In order to do this, please, read this paragraph.</p>
<p>##2. escape</p>
<p>##. encodeURIComponent</p>

	
	</div>
  <a type="button" href="/2015/10/23/js中的编码转换/#more" class="btn btn-default more">阅读此文</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2015-10-23 </div>
			<div class="article-title"><a href="/2015/10/23/Genymotion-使用-charles-代理/" >Genymotion 使用 charles 代理</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
	
	
		<p>在 Genymotion 模拟器中：</p>
<ol>
<li>Settings -&gt; Wifi -&gt; Press and hold your active network</li>
<li>Select “Modify Network”</li>
<li>Select “Show Advanced Options”</li>
<li>Select “Proxy Settings -&gt; Manual”</li>
<li>Set your Proxy to: 10.0.3.2 (Genymotion’s special code for the local workstation)</li>
<li>Set your Port to: 8888</li>
<li>ok</li>
</ol>

	
	</div>
  <a type="button" href="/2015/10/23/Genymotion-使用-charles-代理/#more" class="btn btn-default more">阅读此文</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2015-10-23 </div>
			<div class="article-title"><a href="/2015/10/23/视口/" >视口</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
	
	
		<p>##1. 像素<br>一个像素就是计算机屏幕能显示一种特定颜色的最小区域， 屏幕上的像素越多，同一时间你可以看到的就越多。 当设备尺寸相同但像素变得更密集时，屏幕上能显示的画面的过渡更细致。<br>实际上， 有以下两种像素：</p>
<ol>
<li>设备像素： 设备屏幕的物理像素，任何设备的物理像素的数量都是固定的。</li>
<li>css 像素：为 web 开发者创造的，在 css/js 中使用的一个抽象层。</li>
</ol>
<p>加入设置一个元素 width: 100px， 是设置元素跨越了 200 个 css 元素。 200个 css 像素相当于多少个物理像素取决于屏幕特性和用户的缩放行为。放大的越大，一个 css 像素覆盖的物理像素的就越多。</p>
<p>##2. 页面缩放<br>假设一个桌面端浏览器的宽度是 1024px， 这意味着桌面上有 1024个 css 像素。</p>
<p>##3. 设备像素比<br>javascript 中有一个属性 <code>window.devicePixelRatio</code>, css 中也有 <code>device-pixel-ratio</code> 属性，称为设备像素比(Device Pixel Ratio, DPR),<br>设备像素和理想视口的比。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">meat</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width"</span>&gt;</span></div></pre></td></tr></table></figure>

	
	</div>
  <a type="button" href="/2015/10/23/视口/#more" class="btn btn-default more">阅读此文</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2015-03-16 </div>
			<div class="article-title"><a href="/2015/03/16/2015-02-16-requirejs 与 seajs 的不同/" >requirejs 与 seajs 的不同</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
	
	
		<h2 id="require"><a href="#require" class="headerlink" title="require"></a>require</h2><p>脚本加载顺序与下面的引用声明顺序有关，与 factory 函数里的 require 次序无关, 与 seajs 不同的是, 虽然使用了 require, 但是下面不声明引用，requier 无效, 感觉这样好鸡肋</p>
<p>requirejs 中 require 的用法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">define([<span class="string">"require"</span>,<span class="string">"./values"</span>,<span class="string">"./functionOnly"</span>], <span class="function"><span class="keyword">function</span>(<span class="params">require</span>) </span>&#123;</div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">// 报错，脚本不再执行, 说明脚本加载了, 但是还没被执行</span></div><div class="line">    <span class="comment">//console.log(1,nameModue.color);</span></div><div class="line"></div><div class="line">    <span class="keyword">var</span> nameModue = <span class="built_in">require</span>(<span class="string">"./functionOnly"</span>);</div><div class="line"></div><div class="line">    <span class="comment">// 脚本的最终加载顺序与 require 顺序无关</span></div><div class="line">    <span class="keyword">var</span> mod = <span class="built_in">require</span>(<span class="string">"./values"</span>);</div><div class="line"></div><div class="line">    <span class="built_in">console</span>.log(<span class="number">2</span>,nameModue,mod);</div><div class="line">    <span class="comment">//console.log(mod);</span></div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>seajs 中用法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">define(<span class="function"><span class="keyword">function</span> (<span class="params">require, exports, module</span>) </span>&#123;</div><div class="line"><span class="meta">    'use strict'</span>;</div><div class="line">    <span class="keyword">var</span> mod1 = <span class="built_in">require</span>(<span class="string">'./mod1'</span>),</div><div class="line">        mod2 = <span class="built_in">require</span>(<span class="string">'./mod2'</span>);</div><div class="line"></div><div class="line">    mod1.hello();</div><div class="line">    mod2.hello();</div><div class="line"></div><div class="line">    <span class="keyword">return</span> &#123;</div><div class="line">        <span class="attr">hello</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">            <span class="built_in">console</span>.log(<span class="string">'hello main'</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>

	
	</div>
  <a type="button" href="/2015/03/16/2015-02-16-requirejs 与 seajs 的不同/#more" class="btn btn-default more">阅读此文</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2015-03-16 </div>
			<div class="article-title"><a href="/2015/03/16/2015-03-16-懒加载/" >说说 requirejs 与 seajs 的懒加载</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
	
	
		<p>LazyLoad的优势体现在：仅当资源需要被使用前加载资源。在RequireJS和Sea.js中表现为，在回调函数调用前加载js脚本资源。</p>
<p>RequireJS 和 Sea.js 在资源加载的时间点都是一样的，所以论“懒”的程度都是一样的。<br>差别仅仅在于加载的脚本什么时候执行。<br>RequireJS的依赖模块在回调函数执行前执行完毕，而Sea.js的依赖模块在回调函数执行require时执行。</p>
<h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><ul>
<li>知乎, <a href="http://www.zhihu.com/question/20342350" target="_blank" rel="external">模块加载</a></li>
</ul>

	
	</div>
  <a type="button" href="/2015/03/16/2015-03-16-懒加载/#more" class="btn btn-default more">阅读此文</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2015-02-22 </div>
			<div class="article-title"><a href="/2015/02/22/2015-02-22-polymer体验/" >上手 polymer</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
	
	
		<p>先把代码粘出来。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div><div class="line">223</div><div class="line">224</div><div class="line">225</div><div class="line">226</div><div class="line">227</div><div class="line">228</div><div class="line">229</div><div class="line">230</div><div class="line">231</div><div class="line">232</div><div class="line">233</div><div class="line">234</div><div class="line">235</div><div class="line">236</div><div class="line">237</div><div class="line">238</div><div class="line">239</div><div class="line">240</div><div class="line">241</div><div class="line">242</div><div class="line">243</div><div class="line">244</div><div class="line">245</div><div class="line">246</div><div class="line">247</div><div class="line">248</div><div class="line">249</div><div class="line">250</div><div class="line">251</div><div class="line">252</div><div class="line">253</div><div class="line">254</div><div class="line">255</div><div class="line">256</div><div class="line">257</div><div class="line">258</div><div class="line">259</div><div class="line">260</div><div class="line">261</div><div class="line">262</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../polymer-tutorial-master/components/polymer/polymer.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line"><span class="comment">&lt;!--demo1--&gt;</span></div><div class="line"><span class="comment">&lt;!--如果没有 &lt;script&gt;Polymer()&lt;/script&gt; 不行的--&gt;</span></div><div class="line"><span class="comment">&lt;!--在polymer-elemnet上设置的其他 attribute 将会自动添加到元素实例上。例如：--&gt;</span></div><div class="line"><span class="comment">&lt;!--如果没有 js 构造函数,noscript 是必须的--&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">polymer-element</span> <span class="attr">name</span>=<span class="string">"x-element_1"</span> <span class="attr">noscript</span> <span class="attr">a</span>=<span class="string">"1"</span> <span class="attr">b</span>=<span class="string">"2"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">template</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">p</span>&gt;</span>Hello World<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">template</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">polymer-element</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">x-element_1</span>&gt;</span><span class="tag">&lt;/<span class="name">x-element_1</span>&gt;</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">&lt;!--demo2--&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">polymer-element</span> <span class="attr">name</span>=<span class="string">"x-element_2"</span>&gt;</span></div><div class="line">	<span class="comment">&lt;!--可以没有 template--&gt;</span></div><div class="line">	<span class="comment">&lt;!--&lt;template&gt;--&gt;</span></div><div class="line">	<span class="comment">&lt;!--&lt;/template&gt;--&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">		Polymer(<span class="string">'x-element_2'</span>,&#123;</div><div class="line"></div><div class="line">			<span class="attr">message</span>: <span class="string">"Hello"</span>,</div><div class="line">			get greeting() &#123;</div><div class="line">				<span class="keyword">return</span> <span class="keyword">this</span>.message;</div><div class="line">			&#125;,</div><div class="line">			<span class="attr">getGreet</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">				<span class="keyword">return</span> <span class="keyword">this</span>.message;</div><div class="line">			&#125;,</div><div class="line">			<span class="attr">foo</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">				<span class="built_in">console</span>.log(<span class="string">"getter"</span>,<span class="keyword">this</span>.greeting);</div><div class="line">				<span class="built_in">console</span>.log(<span class="string">"function"</span>,<span class="keyword">this</span>.getGreet());</div><div class="line">			&#125;,</div><div class="line">			<span class="attr">ready</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">				<span class="keyword">this</span>.foo();</div><div class="line">			&#125;</div><div class="line">		&#125;)</div><div class="line">	<span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">polymer-element</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">x-element_2</span>&gt;</span><span class="tag">&lt;/<span class="name">x-element_2</span>&gt;</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">&lt;!--demo3--&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">polymer-element</span> <span class="attr">name</span>=<span class="string">"app-globals"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"><span class="comment">//		(function() &#123;</span></div><div class="line"><span class="comment">//			var firstName = 'John';</span></div><div class="line"><span class="comment">//			var lastName = 'Smith';</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">//			Polymer('app-globals', &#123;</span></div><div class="line"><span class="comment">//				ready: function() &#123;</span></div><div class="line"><span class="comment">//					this.firstName = firstName;</span></div><div class="line"><span class="comment">//					this.lastName = lastName;</span></div><div class="line"><span class="comment">//				&#125;</span></div><div class="line"><span class="comment">//			&#125;);</span></div><div class="line"><span class="comment">//		&#125;)();</span></div><div class="line"></div><div class="line"></div><div class="line">	(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">		<span class="comment">// 可以在外面通过`属性`配置全局变量</span></div><div class="line">		<span class="keyword">var</span> values = &#123;&#125;;</div><div class="line"></div><div class="line">		Polymer(<span class="string">'app-globals'</span>,&#123;</div><div class="line">			<span class="attr">ready</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">				<span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.attributes.length; ++i) &#123;</div><div class="line">					<span class="keyword">var</span> attr = <span class="keyword">this</span>.attributes[i];</div><div class="line">					<span class="built_in">console</span>.log(<span class="string">'--'</span>,attr.nodeName,attr.value)</div><div class="line">					values[attr.nodeName] = attr.value;</div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line"></div><div class="line">		&#125;);</div><div class="line">	&#125;());</div><div class="line">	<span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">polymer-element</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">polymer-element</span> <span class="attr">name</span>=<span class="string">"x-element_3"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">template</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">app-globals</span> <span class="attr">id</span>=<span class="string">"globalApp"</span> <span class="attr">firstName2</span>=<span class="string">"Addy"</span> <span class="attr">lastName</span>=<span class="string">"Osmani"</span>&gt;</span><span class="tag">&lt;/<span class="name">app-globals</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"firstname"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"lastname"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">template</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">		Polymer(<span class="string">'x-element_3'</span>, &#123;</div><div class="line">			<span class="attr">ready</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">				<span class="keyword">this</span>.globals = <span class="keyword">this</span>.$.globalApp;</div><div class="line">				<span class="built_in">console</span>.dir(<span class="keyword">this</span>.globals.getAttribute(<span class="string">'firstName2'</span>));</div><div class="line">			&#125;</div><div class="line">		&#125;);</div><div class="line">	<span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">polymer-element</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">x-element_3</span>&gt;</span><span class="tag">&lt;/<span class="name">x-element_3</span>&gt;</span></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">&lt;!--demo4--&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">polymer-element</span> <span class="attr">name</span>=<span class="string">"x-element_4"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">		Polymer(<span class="string">'x-element_4'</span>,&#123;</div><div class="line">			<span class="attr">ready</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">				<span class="built_in">console</span>.log(<span class="string">'ready'</span>,<span class="string">'可能还包括图片,样式等外链加载,加载完毕'</span>);</div><div class="line">			&#125;,</div><div class="line">			<span class="attr">created</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">				<span class="built_in">console</span>.log(<span class="string">'created'</span>,<span class="string">'一个元素的实例被创建'</span>);</div><div class="line">			&#125;,</div><div class="line">			<span class="attr">attached</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line"></div><div class="line">				<span class="built_in">console</span>.log(<span class="string">'attached'</span>,<span class="string">'当一个元素的实例被插入到DOM中'</span>);</div><div class="line">			&#125;,</div><div class="line">			<span class="attr">domReady</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">				<span class="built_in">console</span>.log(<span class="string">'domReady'</span>);</div><div class="line">			&#125;,</div><div class="line">			<span class="attr">detached</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">				<span class="built_in">console</span>.log(<span class="string">'detached'</span>,<span class="string">'当实例从DOM中移除'</span>);</div><div class="line">			&#125;,</div><div class="line">			<span class="attr">attributeChanged</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">				<span class="built_in">console</span>.log(<span class="string">'attributeChanged'</span>,attrName, <span class="string">'old: '</span> + oldVal, <span class="string">'new:'</span>, newVal);</div><div class="line">			&#125;</div><div class="line">		&#125;)</div><div class="line">	<span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">polymer-element</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">x-element_4</span>&gt;</span><span class="tag">&lt;/<span class="name">x-element_4</span>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">&lt;!--</span></div><div class="line">	attributes="foo bar baz" 元素实例显示为 undefined,语句表示设置三个元素实例对象,</div><div class="line">	可作为 html标签 x-element_5 的属性使用,默认情况是由标签像实例内部传值, 在设置对象的</div><div class="line">	reflect 可实现对象的property 与 标签attribute值的双向绑定</div><div class="line">--&gt;</div><div class="line"><span class="tag">&lt;<span class="name">polymer-element</span> <span class="attr">name</span>=<span class="string">"x-element_5"</span> <span class="attr">attributes</span>=<span class="string">"foo bar baz"</span> <span class="attr">lorem</span>=<span class="string">"abc"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">template</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>5<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">template</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">	Polymer(<span class="string">'x-element_5'</span>,&#123;</div><div class="line">		<span class="attr">ready</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">			<span class="built_in">console</span>.log(<span class="keyword">this</span>.foo);</div><div class="line"></div><div class="line">			<span class="keyword">var</span> e = <span class="built_in">document</span>.querySelector(<span class="string">"x-element_5"</span>);</div><div class="line">			<span class="built_in">console</span>.log(e.foo, e.bar, e.privateMethod);</div><div class="line">			<span class="keyword">this</span>.baz = <span class="string">"changed,double bind"</span></div><div class="line">			<span class="built_in">console</span>.dir(e);</div><div class="line"></div><div class="line">		&#125;,</div><div class="line">		<span class="attr">privateMethod</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">			<span class="comment">// 挂载在 prototype 对象上</span></div><div class="line">		&#125;,</div><div class="line">		<span class="attr">publish</span>:&#123;</div><div class="line">			<span class="attr">foo</span>: <span class="string">'I am foo!'</span>,</div><div class="line">			<span class="attr">bar</span>: &#123;</div><div class="line">				<span class="attr">x</span>: <span class="number">1</span>,</div><div class="line">				<span class="attr">y</span>: <span class="number">2</span>,</div><div class="line">				<span class="attr">z</span>: &#123;</div><div class="line">					<span class="attr">zIndex</span>: <span class="string">"100"</span>,</div><div class="line">					<span class="attr">arr</span>: [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</div><div class="line">				&#125;</div><div class="line">			&#125;,</div><div class="line">			<span class="attr">baz</span>: &#123;</div><div class="line">				<span class="attr">value</span>: <span class="literal">false</span>,</div><div class="line">				<span class="attr">reflect</span>: <span class="literal">false</span>  <span class="comment">// 双向绑定</span></div><div class="line">			&#125;,</div><div class="line">			<span class="attr">publicMethod</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">				<span class="comment">// 挂载在元素实例上</span></div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	&#125;);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">polymer-element</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">x-element_5</span> <span class="attr">foo</span>=<span class="string">"I am not foo!"</span>&gt;</span><span class="tag">&lt;/<span class="name">x-element_5</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">x-element_5</span> <span class="attr">foo</span>=<span class="string">"I am a coder"</span> <span class="attr">baz</span>=<span class="string">"true"</span>&gt;</span><span class="tag">&lt;/<span class="name">x-element_5</span>&gt;</span></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">&lt;!--</span></div><div class="line">	demo 6</div><div class="line">	template</div><div class="line">	双向数据绑定 observe</div><div class="line">--&gt;</div><div class="line"><span class="tag">&lt;<span class="name">polymer-element</span> <span class="attr">name</span>=<span class="string">"greeting-tag"</span>&gt;</span></div><div class="line">	<span class="comment">&lt;!-- 最外面的 template 定义了 element 的 shadow DOM --&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">template</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line"></div><div class="line">			<span class="tag">&lt;<span class="name">span</span>&gt;</span> 这里会根据下面的 input 而变化：&#123;&#123; ngModel &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span>  <span class="attr">value</span>=<span class="string">"&#123;&#123;ngModel&#125;&#125;"</span> <span class="attr">placeholder</span>=<span class="string">"体验双向绑定"</span>&gt;</span></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">			<span class="tag">&lt;<span class="name">template</span> <span class="attr">repeat</span>=<span class="string">"&#123;&#123;s in salutations&#125;&#125;"</span>&gt;</span></div><div class="line">				<span class="tag">&lt;<span class="name">li</span>&gt;</span>&#123;&#123;s.what&#125;&#125;: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">value</span>=<span class="string">"&#123;&#123;s.who&#125;&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">			<span class="tag">&lt;/<span class="name">template</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">button</span> <span class="attr">on-click</span>=<span class="string">"&#123;&#123;updateModel&#125;&#125;"</span>&gt;</span>Update model<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">template</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">		Polymer(<span class="string">'greeting-tag'</span>, &#123;</div><div class="line">			<span class="attr">ngModel</span>: <span class="string">''</span>,</div><div class="line"></div><div class="line">			<span class="comment">// 观察者, 数据有变化会触发</span></div><div class="line">			observe: &#123;</div><div class="line">				<span class="attr">ngModel</span>: <span class="string">'onChangeCallback'</span></div><div class="line">			&#125;,</div><div class="line">			<span class="attr">ready</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">				<span class="comment">// 植入 element 的数据模型 (数组 salutations)</span></div><div class="line">				<span class="keyword">this</span>.salutations = [</div><div class="line">					&#123;<span class="attr">what</span>: <span class="string">'Hello'</span>, <span class="attr">who</span>: <span class="string">'World'</span>&#125;,</div><div class="line">					&#123;<span class="attr">what</span>: <span class="string">'GoodBye'</span>, <span class="attr">who</span>: <span class="string">'DOM APIs'</span>&#125;,</div><div class="line">					&#123;<span class="attr">what</span>: <span class="string">'Hello'</span>, <span class="attr">who</span>: <span class="string">'Declarative'</span>&#125;,</div><div class="line">					&#123;<span class="attr">what</span>: <span class="string">'GoodBye'</span>, <span class="attr">who</span>: <span class="string">'Imperative'</span>&#125;</div><div class="line">				];</div><div class="line">			&#125;,</div><div class="line">			<span class="attr">updateModel</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line"><span class="comment">//				console.log();</span></div><div class="line">				<span class="comment">//this.salutations.reverse();</span></div><div class="line">			&#125;,</div><div class="line">			<span class="attr">onChangeCallback</span>: <span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;</div><div class="line">				<span class="built_in">console</span>.log(a,b);</div><div class="line">			&#125;</div><div class="line">		&#125;);</div><div class="line">	<span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">polymer-element</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">greeting-tag</span>&gt;</span><span class="tag">&lt;/<span class="name">greeting-tag</span>&gt;</span></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">&lt;!--</span></div><div class="line">	demo 7</div><div class="line">	事件触发</div><div class="line">	http://docs.polymerchina.org/docs/polymer/polymer.html#declarative-event-mapping</div><div class="line">--&gt;</div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">polymer-element</span> <span class="attr">name</span>=<span class="string">"ouch-button"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">template</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">button</span> <span class="attr">on-click</span>=<span class="string">"&#123;&#123;onClick&#125;&#125;"</span>&gt;</span>伤自尊<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">template</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line">		Polymer(<span class="string">'ouch-button'</span>, &#123;</div><div class="line">			onClick: <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</div><div class="line">				<span class="comment">// fire(inType, inDetail, inToNode)</span></div><div class="line">				<span class="comment">//	触发外部的事件</span></div><div class="line">				<span class="keyword">this</span>.fire(<span class="string">'ouch'</span>, &#123;msg: <span class="string">'又伤自尊了！'</span>&#125;);</div><div class="line">			&#125;</div><div class="line">		&#125;);</div><div class="line">	<span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">polymer-element</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">ouch-button</span>&gt;</span><span class="tag">&lt;/<span class="name">ouch-button</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">	<span class="built_in">document</span>.querySelector(<span class="string">'ouch-button'</span>).addEventListener(<span class="string">'ouch'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</div><div class="line">		<span class="built_in">console</span>.log(e.type, e.detail.msg); <span class="comment">// "嗷" "又伤自尊了！"</span></div><div class="line">	&#125;);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>

	
	</div>
  <a type="button" href="/2015/02/22/2015-02-22-polymer体验/#more" class="btn btn-default more">阅读此文</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2015-02-21 </div>
			<div class="article-title"><a href="/2015/02/21/2015-02-21-模拟polymer/" >从底层了解 polymer</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
	
	
		<h2 id="实现机制"><a href="#实现机制" class="headerlink" title="实现机制"></a>实现机制</h2><p>下面是写的例子， 先占坑，后面补上。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></div><div class="line">		<span class="selector-tag">h1</span> &#123;</div><div class="line">			<span class="attribute">color</span>: red;</div><div class="line">		&#125;</div><div class="line">	<span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line">	</div><div class="line">	<span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">"sdtemplate"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></div><div class="line">			<span class="selector-tag">p</span> &#123; <span class="attribute">color</span>: orange; &#125;</div><div class="line">		<span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">p</span>&gt;</span>I'm in Shadow DOM. My markup was stamped from a &amp;lt;template&amp;gt;.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">template</span>&gt;</span></div><div class="line"></div><div class="line">	<span class="tag">&lt;<span class="name">template</span> <span class="attr">type</span>=<span class="string">"text/x-template"</span> <span class="attr">id</span>=<span class="string">"forCustomElement"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">p</span>&gt;</span> good night !<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">template</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"custom-component"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>in host<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"></div><div class="line"><span class="comment">//	demo 1</span></div><div class="line">	<span class="keyword">var</span> host2 = <span class="built_in">document</span>.querySelector(<span class="string">'.custom-component'</span>);</div><div class="line">	<span class="keyword">var</span> root = host2.createShadowRoot();</div><div class="line">	<span class="comment">// :host 指为 root 的宿主元素-&gt; &lt;div class="custom-component"&gt;&lt;/div&gt;</span></div><div class="line">	root.innerHTML = <span class="string">"&lt;style&gt; :host &#123;border:2px solid dodgerblue; width:200px;&#125; div &#123; color: green; &#125;&lt;/style&gt;&lt;div&gt;in shadow tree&lt;/div&gt;"</span>; <span class="comment">// ok</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">//	demo 2</span></div><div class="line"><span class="comment">//	root.innerHTML = "&lt;h1 style='color: green'&gt;hello&lt;/h1&gt;"; // ok</span></div><div class="line"></div><div class="line">	<span class="keyword">var</span> XFooProto = <span class="built_in">Object</span>.create(HTMLElement.prototype);</div><div class="line"></div><div class="line">	XFooProto.createdCallback = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line"></div><div class="line">		<span class="built_in">console</span>.log(<span class="string">'created'</span>);</div><div class="line"></div><div class="line">		<span class="keyword">var</span> root = <span class="keyword">this</span>.createShadowRoot();</div><div class="line">		<span class="keyword">var</span> tpl = <span class="built_in">document</span>.querySelector(<span class="string">"#forCustomElement"</span>);</div><div class="line">		<span class="keyword">var</span> cloneNode = tpl.content.cloneNode(<span class="literal">true</span>);</div><div class="line">		root.appendChild(cloneNode);</div><div class="line"></div><div class="line">	&#125;</div><div class="line">	XFooProto.enteredViewCallback = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">		<span class="built_in">console</span>.log(<span class="string">'enteredView'</span>);</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	XFooProto.attributeChangedCallback = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">		<span class="built_in">console</span>.log(<span class="string">'attribute changed'</span>);</div><div class="line">	&#125;</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">//	XFooProto.createdCallback = function() &#123;</span></div><div class="line"><span class="comment">//		this.innerHTML = "&lt;h1&gt;via js append&lt;/h1&gt;";</span></div><div class="line"><span class="comment">//	&#125;;</span></div><div class="line"></div><div class="line"></div><div class="line">	<span class="comment">// 注册 x-foo 的定义</span></div><div class="line">	<span class="keyword">var</span> XFoo2 = <span class="built_in">document</span>.registerElement(<span class="string">'x-foo-with-markup'</span>, &#123;<span class="attr">prototype</span>: XFooProto&#125;);</div><div class="line">	<span class="comment">// 创建一个 x-foo 实例</span></div><div class="line">	<span class="keyword">var</span> xfoo = <span class="built_in">document</span>.createElement(<span class="string">'x-foo-with-markup'</span>);</div><div class="line">	<span class="comment">// 插入页面</span></div><div class="line">	<span class="built_in">document</span>.body.appendChild(xfoo);</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">//	xBarPrototype = Object.create(HTMLButtonElement.prototype); // 即使继承了它，也没画出 button</span></div><div class="line">	xBarPrototype = <span class="built_in">Object</span>.create(HTMLElement.prototype, &#123;</div><div class="line">				<span class="attr">createdCallback</span>: &#123;</div><div class="line">					<span class="attr">value</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">						<span class="keyword">var</span> t = <span class="built_in">document</span>.querySelector(<span class="string">'#sdtemplate'</span>);</div><div class="line"><span class="comment">//						var clone = document.importNode(t.content, true);</span></div><div class="line">						<span class="keyword">var</span> clone = t.content.cloneNode(<span class="literal">true</span>); <span class="comment">// deep is true</span></div><div class="line">						<span class="keyword">this</span>.createShadowRoot().appendChild(clone);</div><div class="line">					&#125;</div><div class="line">				&#125;</div><div class="line">			&#125;);</div><div class="line"></div><div class="line">	<span class="built_in">document</span>.registerElement(<span class="string">'x-bar'</span>, &#123;</div><div class="line">		<span class="attr">prototype</span>: xBarPrototype</div><div class="line">	&#125;);</div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">x-bar</span>&gt;</span><span class="tag">&lt;/<span class="name">x-bar</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<p>##参考链接<br><a href="http://blog.bingo929.com/custom-elements-html-web-components.html" target="_blank" rel="external">http://blog.bingo929.com/custom-elements-html-web-components.html</a></p>

	
	</div>
  <a type="button" href="/2015/02/21/2015-02-21-模拟polymer/#more" class="btn btn-default more">阅读此文</a>
</div>

		

		</div>

		<!-- pagination -->
		<div>
  		<center>
		<div class="pagination">
<ul class="pagination">
	 
		
    	<li class="prev"><a href="/page/3/" class="alignleft prev"><i class="fa fa-arrow-circle-o-left"></i> 上一页</a></li>
  		

        <li><a href="/"><i class="fa fa-home"></i>Home</a></li>

		
		   <li class="next"> <a href="/page/5/" class="alignright next">下一页<i class="fa fa-arrow-circle-o-right"></i></a> </li>          
        
	
</ul>
</div>

  		</center>
		</div>

		
		
	</div> <!-- col-md-9 -->

	
		<div class="col-md-3">
	<div id="sidebar">
	
			 

		
			
	<div class="widget">
		<h4>分类</h4>
		<ul class="tag_box inline list-unstyled">
		
			<li><a href="/categories/bom/">bom<span>1</span></a></li>
		
			<li><a href="/categories/css/code/">code<span>1</span></a></li>
		
			<li><a href="/categories/collection/">collection<span>1</span></a></li>
		
			<li><a href="/categories/css/">css<span>2</span></a></li>
		
			<li><a href="/categories/tools/debug/">debug<span>1</span></a></li>
		
			<li><a href="/categories/default/">default<span>1</span></a></li>
		
			<li><a href="/categories/http/">http<span>1</span></a></li>
		
			<li><a href="/categories/javascript-template/">javascript template<span>1</span></a></li>
		
			<li><a href="/categories/javascript-test/">javascript test<span>1</span></a></li>
		
			<li><a href="/categories/jquery/">jquery<span>1</span></a></li>
		
			<li><a href="/categories/js/">js<span>1</span></a></li>
		
			<li><a href="/categories/library/">library<span>2</span></a></li>
		
			<li><a href="/categories/note/">note<span>1</span></a></li>
		
			<li><a href="/categories/note-vim/">note vim<span>2</span></a></li>
		
			<li><a href="/categories/tool/">tool<span>3</span></a></li>
		
			<li><a href="/categories/tools/">tools<span>1</span></a></li>
		
		</ul>
	</div>

		
			
	<div class="widget">
		<h4>标签云</h4>
		<ul class="tag_box inline list-unstyled">		
		
			<li><a href="/tags/demo/">demo<span>1</span></a></li>
		
			<li><a href="/tags/default/">default<span>2</span></a></li>
		
			<li><a href="/tags/jquery/">jquery<span>3</span></a></li>
		
			<li><a href="/tags/vim/">vim<span>3</span></a></li>
		
			<li><a href="/tags/javascript-regexp/">javascript regexp<span>1</span></a></li>
		
			<li><a href="/tags/html/">html<span>2</span></a></li>
		
			<li><a href="/tags/javascript-test/">javascript test<span>1</span></a></li>
		
			<li><a href="/tags/document/">document<span>1</span></a></li>
		
			<li><a href="/tags/tools/">tools<span>2</span></a></li>
		
			<li><a href="/tags/linux/">linux<span>5</span></a></li>
		
			<li><a href="/tags/Genymotion/">Genymotion<span>1</span></a></li>
		
			<li><a href="/tags/module/">module<span>2</span></a></li>
		
			<li><a href="/tags/git/">git<span>4</span></a></li>
		
			<li><a href="/tags/javascript/">javascript<span>9</span></a></li>
		
			<li><a href="/tags/test/">test<span>3</span></a></li>
		
			<li><a href="/tags/webcomponent/">webcomponent<span>2</span></a></li>
		
			<li><a href="/tags/javascript-template/">javascript template<span>1</span></a></li>
		
			<li><a href="/tags/hg/">hg<span>1</span></a></li>
		
			<li><a href="/tags/html-优化/">html 优化<span>1</span></a></li>
		
			<li><a href="/tags/shell/">shell<span>1</span></a></li>
		
		
		   <li><a href="/tags">...<span>41</span></a></li>
		 
		</ul>
	</div>


		
			
<div class="widget">
  <h4>最新文章</h4>
  <ul class="entry list-unstyled">
    
      <li>
        <a href="/2017/04/23/css书写规范/" ><i class="fa fa-file-o"></i>css 编写习惯</a>
      </li>
    
      <li>
        <a href="/2017/04/23/消除函数的术语歧义/" ><i class="fa fa-file-o"></i>消除函数的术语歧义</a>
      </li>
    
      <li>
        <a href="/2017/04/23/脚本的第一行/" ><i class="fa fa-file-o"></i>脚本语言的第一行</a>
      </li>
    
      <li>
        <a href="/2017/04/23/设计模式简介/" ><i class="fa fa-file-o"></i>设计模式简介</a>
      </li>
    
      <li>
        <a href="/2017/04/23/2013-11-09-requirejs/" ><i class="fa fa-file-o"></i></a>
      </li>
    
  </ul>
</div>

		
			
<div class="widget">
	<h4>链接</h4>
	<ul class="blogroll list-unstyled">
	
		<li><i class="fa fa-github"></i><a href="https://github.com/chenyakun" title="My Github repository." target="_blank"]);">My Github</a></li>
	
	</ul>
</div>


		
	</div> <!-- sidebar -->
</div> <!-- col-md-3 -->

	
	
</div> <!-- row-fluid -->
	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
  &copy; 2017 yakun.cyk
  
      with help from <a href="http://hexo.io/" target="_blank">Hexo</a> and <a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a>. Theme by <a href="http://github.com/wzpan/hexo-theme-freemind/">Freemind</a>.    
</p> </footer>
</div> <!-- container-narrow -->
  
  
<a id="gotop" href="#">   
  <span>▲</span> 
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>
<!-- <script src="/js/search.js"></script>  -->

<!-- 
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>
 -->

<!-- 
   <script type="text/javascript">      
     var search_path = "search.xml";
	 if (search_path.length == 0) {
	 	search_path = "search.xml";
	 }
	 var path = "/" + search_path;
     searchFunc(path, 'local-search-input', 'local-search-result');
   </script>
 -->

<div class="cb-search-tool" style="position: fixed; top: 0px ; bottom: 0px; left: 0px; right:  0px;
        opacity: 0.95; background-color: #111111; z-index: 9999; display: none;">

    <input type="text" class="cb-search-content" id="cb-search-content" style="position: fixed; top: 60px" placeholder="文章标题 日期 标签" />

    <div style="position: fixed; top: 16px; right: 16px;">
        <img src="/search/img/cb-close.png"  id="cb-close-btn"/>
    </div>
</div>

<!-- <div style="position: fixed; right: 16px; bottom: 20px;">
    <img src="/search/img/cb-search.png"  id="cb-search-btn"  title="双击ctrl试一下"/>
</div> -->

<link rel="stylesheet" href="/search/css/cb-search.css">
<script src="/search/js/bootstrap3-typeahead.min.js"></script>
<script src="/search/js/cb-search.js"></script>

</body>
   </html>
