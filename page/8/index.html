<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>第 8 页 | output stream</title>
  <meta name="author" content="yakun.cyk">
  
  <meta name="description" content="主要内容可能关于 web 技术，感慨心得...">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="output stream"/>

  
    <meta property="og:image" content="undefined"/>
  

  
  
    <link href="/favicon.png" rel="icon">
  
  
  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  



</head>

 <body>  
  <nav id="main-nav" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
		<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
	  <a class="navbar-brand" href="/">output stream</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
			<a href="/archives" title="All the articles.">
			  <i class="fa fa-archive"></i>Archives
			</a>
		  </li>
		  
		  <li>
			<a href="/categories" title="All the categories.">
			  <i class="fa fa-folder"></i>Categories
			</a>
		  </li>
		  
		  <li>
			<a href="/tags" title="All the tags.">
			  <i class="fa fa-tags"></i>Tags
			</a>
		  </li>
		  
		  <li>
			<a href="/about" title="About me.">
			  <i class="fa fa-user"></i>About
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 <div class="row page">

	
	<div class="col-md-9">
	

		<div class="slogan">
      <!--
        <i class="fa fa-heart"></i> 
      -->
      
</div>    
		<div id="top_search"></div>
		<div class="mypage">
		
		<!-- title and entry -->
		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2014-11-10 </div>
			<div class="article-title"><a href="/2014/11/10/2014-11-10-regexp-inaction/" >regexp-head-first</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
	
	
		<h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>正则表达式（regular expression）是一种表达文本模式的方法，常常用作按照“给定模式”匹配文本的工具，比如给定一个Email地址的模式，然后用来确定一个字符串是否为Email地址。JavaScript的正则表达式体系是参照Perl 5建立的。</p>
<p>新建正则表达式有两种方法。一种是使用字面量，以斜杠表示开始和结束。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> regex = <span class="regexp">/xyz/</span>;</div></pre></td></tr></table></figure>
<p>另一种是使用RegExp构造函数。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> regex = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"xyz"</span>);</div></pre></td></tr></table></figure>
<p>上面两种写法是等价的，都建立了一个内容为xyz的正则表达式对象。</p>
<p>RegExp构造函数还可以接受第二个参数，表示修饰符（详细解释见下文）。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> regex = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"xyz"</span>, <span class="string">"i"</span>);</div><div class="line"><span class="comment">// 等价于</span></div><div class="line"><span class="keyword">var</span> regex = <span class="regexp">/xyz/i</span>;</div></pre></td></tr></table></figure>
<p>这两种写法在运行时有一个细微的区别。采用字面量的写法，正则对象在代码载入时（即编译时）生成；采用构造函数的方法，正则对象在代码运行时生成。考虑到书写的便利和直观，实际应用中，基本上都采用字面量的写法。</p>
<p>正则对象生成以后，有两种使用方式：</p>
<ul>
<li><p>使用正则对象本身的方法，将字符串作为参数，比如regex.test(string)。</p>
</li>
<li><p>使用字符串对象的方法，将正则对象作为参数，比如string.match(regex)。</p>
</li>
</ul>
<p>下面逐一介绍这两种使用方式。</p>
<h2 id="正则对象的属性和方法"><a href="#正则对象的属性和方法" class="headerlink" title="正则对象的属性和方法"></a>正则对象的属性和方法</h2><h3 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h3><p>正则对象的属性主要如下：</p>
<ul>
<li><p><strong>ignoreCase</strong>：返回一个布尔值，表示是否设置了i修饰符，该属性只读。</p>
</li>
<li><p><strong>global</strong>：返回一个布尔值，表示是否设置了g修饰符，该属性只读。</p>
</li>
<li><p><strong>lastIndex</strong>：返回下一次开始搜索的位置。该属性可读写，但是只在设置了g修饰符时有意义。</p>
</li>
<li><p><strong>source</strong>：返回正则表达式的字符串形式（不包括反斜杠），该属性只读。</p>
</li>
<li><p><strong>multiline</strong>：返回一个布尔值，表示是否设置了m修饰符，该属性只读。</p>
</li>
</ul>
<p>下面是属性应用的实例。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> r = <span class="regexp">/abc/igm</span>;</div><div class="line"></div><div class="line">r.ignoreCase <span class="comment">// true</span></div><div class="line">r.global <span class="comment">// true</span></div><div class="line">r.multiline <span class="comment">// true</span></div><div class="line">r.lastIndex <span class="comment">// 0</span></div><div class="line">r.source <span class="comment">// "abc"</span></div></pre></td></tr></table></figure>
<h3 id="test方法"><a href="#test方法" class="headerlink" title="test方法"></a>test方法</h3><p>test方法返回布尔值，用来验证字符串是否符合某个模式。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">/cat/.test(<span class="string">'cats and dogs'</span>) <span class="comment">// true</span></div></pre></td></tr></table></figure>
<p>上面代码验证参数字符串之中是否包含cat，结果返回true。</p>
<p>如果正则表达式带有g修饰符，则每一次test方法都从上一次结束的位置开始向后匹配。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> r = <span class="regexp">/x/g</span>;</div><div class="line"><span class="keyword">var</span> s = <span class="string">'_x_x'</span>;</div><div class="line"></div><div class="line">r.lastIndex <span class="comment">// 0</span></div><div class="line">r.test(s) <span class="comment">// true</span></div><div class="line"></div><div class="line">r.lastIndex <span class="comment">// 2</span></div><div class="line">r.test(s) <span class="comment">// true</span></div><div class="line"></div><div class="line">r.lastIndex <span class="comment">// 4</span></div><div class="line">r.test(s) <span class="comment">// false</span></div></pre></td></tr></table></figure>
<p>上面代码的正则对象使用了g修饰符，表示要记录搜索位置。接着，三次使用test方法，每一次开始搜索的位置都是上一次匹配的后一个位置。</p>
<p>如果正则模式是一个空字符串，则匹配所有字符串。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">""</span>).test(<span class="string">"abc"</span>)</div><div class="line"><span class="comment">// true</span></div></pre></td></tr></table></figure>
<h3 id="exec方法"><a href="#exec方法" class="headerlink" title="exec方法"></a>exec方法</h3><p>exec方法返回匹配结果。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> s = <span class="string">'_x_x'</span>;</div><div class="line"><span class="keyword">var</span> r1 = <span class="regexp">/x/</span>;</div><div class="line"><span class="keyword">var</span> r2 = <span class="regexp">/y/</span>;</div><div class="line"></div><div class="line">r1.exec(s) <span class="comment">// ["x"]</span></div><div class="line">r2.exec(s) <span class="comment">// null</span></div></pre></td></tr></table></figure>
<p>上面代码表示，如果匹配成功，exec方法返回一个数组，里面是匹配结果。如果匹配失败，返回null。</p>
<p>如果正则表示式包含圆括号，则返回的数组会包括多个元素。其中，第一个元素是整个匹配成功的结果，后面的元素就是圆括号对应的匹配成功的组，也就是说第二个元素就对应第一个括号，第三个元素对应第二个括号，以此类推。整个返回数组的length属性等于匹配成功的组数+1。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> s = <span class="string">'_x_x'</span>;</div><div class="line"><span class="keyword">var</span> r = <span class="regexp">/_(x)/</span>;</div><div class="line"></div><div class="line">r.exec(s) <span class="comment">// ["_x", "x"]</span></div></pre></td></tr></table></figure>
<p>上面代码的exex方法，返回一个数组。第一个元素是整个匹配的结果，第二个元素是圆括号匹配的结果。</p>
<p>exec方法的返回数组还包含以下两个属性：</p>
<ul>
<li><strong>input</strong>：整个原字符串。</li>
<li><strong>index</strong>：整个模式匹配成功的开始位置。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> r = <span class="regexp">/a(b+)a/</span>;</div><div class="line"></div><div class="line"><span class="keyword">var</span> arr = regex.exec(<span class="string">"_abbba_aba_"</span>);</div><div class="line"></div><div class="line">arr</div><div class="line"><span class="comment">// ["abbba", "bbb"]</span></div><div class="line"></div><div class="line">arr.index</div><div class="line"><span class="comment">// 1</span></div><div class="line"></div><div class="line">arr.input</div><div class="line"><span class="comment">// "_abbba_aba_"</span></div></pre></td></tr></table></figure>
<p>上面代码中的index属性等于1，是因为从原字符串的第二个位置开始匹配成功。</p>
<p>如果正则表达式加上g修饰符，则可以使用多次exec方法，下一次搜索的位置从上一次匹配成功结束的位置开始。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> r = <span class="regexp">/a(b+)a/g</span>;</div><div class="line"></div><div class="line"><span class="keyword">var</span> a1 = r.exec(<span class="string">"_abbba_aba_"</span>);</div><div class="line">a1 <span class="comment">// ["abbba", "bbb"]</span></div><div class="line">a1.index <span class="comment">// 1</span></div><div class="line">r.lastIndex <span class="comment">// 6</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> a2 = r.exec(<span class="string">"_abbba_aba_"</span>);</div><div class="line">a2 <span class="comment">// ["aba", "b"]</span></div><div class="line">a2.index <span class="comment">// 7</span></div><div class="line">r.lastIndex <span class="comment">// 10</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> a3 = r.exec(<span class="string">"_abbba_aba_"</span>);</div><div class="line">a3 <span class="comment">// null</span></div><div class="line">a3.index <span class="comment">// TypeError: Cannot read property 'index' of null</span></div><div class="line">r.lastIndex <span class="comment">// 0</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> a4 = r.exec(<span class="string">"_abbba_aba_"</span>);</div><div class="line">a4 <span class="comment">// ["abbba", "bbb"]</span></div><div class="line">a4.index <span class="comment">// 1</span></div><div class="line">r.lastIndex <span class="comment">// 6</span></div></pre></td></tr></table></figure>
<p>上面代码连续用了四次exec方法，前三次都是从上一次匹配结束的位置向后匹配。当第三次匹配结束以后，整个字符串已经到达尾部，正则对象的lastIndex属性重置为0，意味着第四次匹配将从头开始。</p>
<p>利用g修饰符允许多次匹配的特点，可以用一个循环完成全部匹配。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> r = <span class="regexp">/a(b+)a/g</span>;</div><div class="line"></div><div class="line"><span class="keyword">var</span> s = <span class="string">"_abbba_aba_"</span>;</div><div class="line"></div><div class="line"><span class="keyword">while</span>(<span class="literal">true</span>) &#123;</div><div class="line">	<span class="keyword">var</span> match = r.exec(s);</div><div class="line">	<span class="keyword">if</span> (!match) <span class="keyword">break</span>;</div><div class="line">	<span class="built_in">console</span>.log(match[<span class="number">1</span>]);</div><div class="line">&#125;</div><div class="line"><span class="comment">// bbb</span></div><div class="line"><span class="comment">// b</span></div></pre></td></tr></table></figure>
<p>如果正则对象是一个空字符串，则exec方法会匹配成功，但返回的也是空字符串。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> r1 = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">""</span>);</div><div class="line"><span class="keyword">var</span> a1 = r1.exec(<span class="string">"abc"</span>);</div><div class="line">a1 <span class="comment">// [""]</span></div><div class="line">a1.index <span class="comment">// 0</span></div><div class="line">r1.lastIndex <span class="comment">// 0 </span></div><div class="line"></div><div class="line"><span class="keyword">var</span> r2 = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"()"</span>);</div><div class="line"><span class="keyword">var</span> a2 = r2.exec(<span class="string">"abc"</span>);</div><div class="line">a2 <span class="comment">// ["", ""]</span></div><div class="line">a2.index <span class="comment">// 0</span></div><div class="line">r2.lastIndex <span class="comment">// 0</span></div></pre></td></tr></table></figure>
<h2 id="字符串对象的方法"><a href="#字符串对象的方法" class="headerlink" title="字符串对象的方法"></a>字符串对象的方法</h2><p>字符串对象的方法之中，有4种与正则对象有关。</p>
<ul>
<li><p><strong>match</strong>：返回匹配的子字符串。</p>
</li>
<li><p><strong>search</strong>：按照给定的正则规则进行搜索。</p>
</li>
<li><p><strong>replace</strong>：按照给定的正则规则进行替换。</p>
</li>
<li><p><strong>split</strong>：按照给定规则进行字符串分割。</p>
</li>
</ul>
<p>下面逐一介绍。</p>
<h3 id="match方法"><a href="#match方法" class="headerlink" title="match方法"></a>match方法</h3><p>match方法对字符串进行正则匹配，返回匹配结果。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> s = <span class="string">'_x_x'</span>;</div><div class="line"><span class="keyword">var</span> r1 = <span class="regexp">/x/</span>;</div><div class="line"><span class="keyword">var</span> r2 = <span class="regexp">/y/</span>;</div><div class="line"></div><div class="line">s.match(r1) <span class="comment">// ["x"]</span></div><div class="line">s.match(r2) <span class="comment">// null</span></div></pre></td></tr></table></figure>
<p>从上面代码可以看到，字符串的match方法与正则对象的exec方法非常类似：匹配成功返回一个数组，匹配失败返回null。</p>
<p>如果正则表达式带有g修饰符，则该方法与正则对象的exec方法行为不同，会返回所有匹配成功的结果。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> s = <span class="string">"abba"</span>;</div><div class="line"><span class="keyword">var</span> r = <span class="regexp">/a/g</span>;</div><div class="line"></div><div class="line">s.match(r) <span class="comment">// ["a", "a"]</span></div><div class="line">r.exec(s) <span class="comment">// ["a"]</span></div></pre></td></tr></table></figure>
<h3 id="search方法"><a href="#search方法" class="headerlink" title="search方法"></a>search方法</h3><p>search方法返回第一个满足条件的匹配结果在整个字符串中的位置。如果没有任何匹配，则返回-1。该方法会忽略g参数。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="string">'_x_x'</span>.search(<span class="regexp">/x/</span>)</div><div class="line"><span class="comment">// 1</span></div></pre></td></tr></table></figure>
<h3 id="replace方法"><a href="#replace方法" class="headerlink" title="replace方法"></a>replace方法</h3><p>replace方法可以替换匹配的值，它接受两个参数，第一个是搜索模式，第二个是替换的内容。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">str.replace(search, replacement)</div></pre></td></tr></table></figure>
<p>搜索模式如果不加g修饰符，就替换第一个匹配成功的值，否则替换所有匹配成功的值。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="string">"aaa"</span>.replace(<span class="string">"a"</span>, <span class="string">"b"</span>)</div><div class="line"><span class="comment">// "baa"</span></div><div class="line"></div><div class="line"><span class="string">"aaa"</span>.replace(<span class="regexp">/a/</span>, <span class="string">"b"</span>)</div><div class="line"><span class="comment">// "baa"</span></div><div class="line"></div><div class="line"><span class="string">"aaa"</span>.replace(<span class="regexp">/a/g</span>, <span class="string">"b"</span>)</div><div class="line"><span class="comment">// "bbb"</span></div><div class="line"></div><div class="line"><span class="comment">// 去掉两边的空格</span></div><div class="line"><span class="string">"   a    b   "</span>.replace(<span class="regexp">/(?:^\s+)|(?:[\s]+$)/g</span>,<span class="string">''</span>)</div><div class="line"><span class="comment">// "a   b"</span></div></pre></td></tr></table></figure>
<p>replace方法的第二个参数可以使用美元符号$，(从匹配子串中提取替换使用的原料)用来指代所替换的内容。</p>
<blockquote>
<p>青出于蓝而胜于蓝</p>
</blockquote>
<figure class="highlight haml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">-<span class="ruby"> $&amp; 指代匹配的子字符串。</span></div><div class="line">-<span class="ruby"> $` 指代匹配结果前面的文本。</span></div><div class="line">-<span class="ruby"> $' 指代匹配结果后面的文本。</span></div><div class="line">-<span class="ruby"> $n 指代匹配成功的第n组内容，n从<span class="number">1</span>开始计数。</span></div><div class="line">-<span class="ruby"> $$ 指代美元符号$。</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="string">"abc"</span>.replace(<span class="string">"b"</span>, <span class="string">"[$`-$&amp;-$']"</span>)</div><div class="line"><span class="comment">// "a[a-b-c]c"</span></div><div class="line"></div><div class="line"><span class="string">"hello world"</span>.replace(<span class="regexp">/(\w+)\s(\w+)/</span>,<span class="string">"$2 $1"</span>)</div><div class="line"><span class="comment">// "world hello"</span></div></pre></td></tr></table></figure>
<p>第二个参数还可以是一个函数，将匹配内容替换为函数返回值。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="string">"3 and 5"</span>.replace(<span class="regexp">/[0-9]+/g</span>, <span class="function"><span class="keyword">function</span>(<span class="params">match</span>)</span>&#123;</div><div class="line">			<span class="keyword">return</span> <span class="number">2</span> * match; &#125;)</div><div class="line"><span class="comment">// "6 and 10"</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> a = <span class="string">"The quick brown fox jumped over the lazy dog."</span>;</div><div class="line"><span class="keyword">var</span> pattern = <span class="regexp">/quick|brown|lazy/ig</span>;</div><div class="line">a.replace( pattern, <span class="function"><span class="keyword">function</span> <span class="title">replacer</span>(<span class="params">match</span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> match.toUpperCase();</div><div class="line">&#125; );</div><div class="line"><span class="comment">// The QUICK BROWN fox jumped over the LAZY dog.</span></div></pre></td></tr></table></figure>
<p>作为replace方法第二个参数的替换函数，可以接受多个参数。它的第一个参数是捕捉到的内容，第二个参数是捕捉到的组匹配（有多少个组匹配，就有多少个对应的参数）。此外，最后还可以添加两个参数，倒数第二个参数是捕捉到的内容在整个字符串中的位置（比如从第五个位置开始），最后一个参数是原字符串。下面是一个网页模板替换的例子。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> prices = &#123;</div><div class="line">    <span class="string">"pr_1"</span>: <span class="string">"$1.99"</span>,</div><div class="line">    <span class="string">"pr_2"</span>: <span class="string">"$9.99"</span>,</div><div class="line">    <span class="string">"pr_3"</span>: <span class="string">"$5.00"</span></div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">var</span> template = <span class="string">".."</span>; <span class="comment">// some ecommerce page template</span></div><div class="line"></div><div class="line">template.replace(</div><div class="line">    <span class="regexp">/(&lt;span id=")(.*?)("&gt;)(&lt;\/span&gt;)/g</span>,</div><div class="line">    <span class="function"><span class="keyword">function</span>(<span class="params">match,$<span class="number">1</span>,$<span class="number">2</span>,$<span class="number">3</span>,$<span class="number">4</span></span>)</span>&#123;</div><div class="line">        <span class="keyword">return</span> $<span class="number">1</span> + $<span class="number">2</span> + $<span class="number">3</span> + prices[$<span class="number">2</span>] + $<span class="number">4</span>;</div><div class="line">    &#125;</div><div class="line">);</div></pre></td></tr></table></figure>
<p>上面代码的捕捉模式中，有四个括号，所以会产生四个组匹配，在匹配函数中用$1到$4表示。匹配函数的作用是将价格插入模板中。</p>
<h3 id="split方法"><a href="#split方法" class="headerlink" title="split方法"></a>split方法</h3><p>split方法按照正则规则分割字符串，返回一个由分割后的各个部分组成的数组。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">str.split(separator, [limit])</div></pre></td></tr></table></figure>
<p>该方法接受两个参数，第一个参数是分隔规则，第二个参数是返回数组的最大成员数。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="string">'a,  b,c, d'</span>.split(<span class="string">','</span>) </div><div class="line"><span class="comment">// [ 'a', '  b', 'c', ' d' ]</span></div><div class="line"></div><div class="line"><span class="string">'a,  b,c, d'</span>.split(<span class="regexp">/, */</span>)</div><div class="line"><span class="comment">// [ 'a', 'b', 'c', 'd' ]</span></div><div class="line"></div><div class="line"><span class="string">'a,  b,c, d'</span>.split(<span class="regexp">/, */</span>, <span class="number">2</span>)</div><div class="line">[ <span class="string">'a'</span>, <span class="string">'b'</span> ]</div></pre></td></tr></table></figure>
<p>上面代码使用正则表达式，去除了子字符串的逗号前面的空格。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="string">"aaa*a*"</span>.split(<span class="regexp">/a*/</span>)</div><div class="line"><span class="comment">// [ '', '*', '*' ]</span></div><div class="line"></div><div class="line"><span class="string">"aaa**a*"</span>.split(<span class="regexp">/a*/</span>)</div><div class="line"><span class="comment">// ["", "*", "*", "*"]</span></div></pre></td></tr></table></figure>
<p>上面代码的分割规则是出现0次或多次的a，所以第一个分隔符是“aaa”，第二个分割符是“a”，将整个字符串分成三个部分。出现0次的a，意味着只要没有a就可以分割，实际上就是按字符分割。</p>
<p>如果正则表达式带有括号，则括号匹配的部分也会作为数组成员返回。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="string">"aaa*a*"</span>.split(<span class="regexp">/(a*)/</span>)</div><div class="line"><span class="comment">// [ '', 'aaa', '*', 'a', '*' ]</span></div></pre></td></tr></table></figure>
<p>上面代码的正则表达式使用了括号，第一个组匹配是“aaa”，第二个组匹配是“a”，它们都作为数组成员返回。</p>
<p>下面是另一个组匹配的例子。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="string">'a,  b  ,  '</span>.split(<span class="regexp">/(,)/</span>)</div><div class="line"><span class="comment">// ["a", ",", "  b  ", ",", "  "]</span></div><div class="line"></div><div class="line"><span class="string">'a,  b  ,  '</span>.split(<span class="regexp">/ *(,) */</span>)</div><div class="line"><span class="comment">// ["a", ",", "b", ",", ""]</span></div></pre></td></tr></table></figure>
<h2 id="匹配规则"><a href="#匹配规则" class="headerlink" title="匹配规则"></a>匹配规则</h2><p>正则表达式对字符串的匹配有很复杂的规则。下面一一介绍这些规则。</p>
<h3 id="字面量字符和元字符"><a href="#字面量字符和元字符" class="headerlink" title="字面量字符和元字符"></a>字面量字符和元字符</h3><p>大部分字符在正则表达式中，就是字面的含义，比如/a/匹配a，/b/匹配b。它们都叫做“字面量字符”（literal characters）。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">/dog/.test(<span class="string">"old dog"</span>) <span class="comment">// true</span></div></pre></td></tr></table></figure>
<p>上面代码中正则表达式的dog，就是字面量字符，所以/dog/匹配old dog，因为它就表示d、o、g三个字母连在一起。</p>
<p>除了字面量字符以外，还有一部分字符有特殊含义，不代表字面的意思。它们叫做“元字符”（metacharacters），主要有以下几个。</p>
<p><strong>（1）点字符（.)</strong></p>
<p>点字符（.）匹配除回车（\r）、换行(\n) 、行分隔符（\u2028）和段分隔符（\u2029）以外的所有字符。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">/c.t/</div></pre></td></tr></table></figure>
<p>上面代码中的c.t匹配c和t之间包含任意一个字符的情况，只要这三个字符在同一行，比如cat、c2t、c-t等等，但是不匹配coot。</p>
<p><strong>（2）位置字符</strong></p>
<p>位置字符用来提示字符所处的位置，主要有两个字符。</p>
<ul>
<li>^ 表示字符串的起首。</li>
<li>$ 表示字符串的行尾。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">/^test/.test(<span class="string">"test123"</span>) <span class="comment">// true</span></div><div class="line">/test$/.test(<span class="string">"new test"</span>) <span class="comment">// true</span></div><div class="line">/^test$/.test(<span class="string">"test"</span>) <span class="comment">// true</span></div><div class="line">/^test$/.test(<span class="string">"test test"</span>) <span class="comment">// false</span></div></pre></td></tr></table></figure>
<p><strong>（3）选择符（|）</strong></p>
<p>竖线符号（|）在正则表达式中表示“或关系”（OR），即 cat|dog 表示匹配cat或dog。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">/<span class="number">11</span>|<span class="number">22</span>/.test(<span class="string">"911"</span>) <span class="comment">// true</span></div></pre></td></tr></table></figure>
<h3 id="字符类"><a href="#字符类" class="headerlink" title="字符类"></a>字符类</h3><p>字符类（class）表示有一系列字符可供选择，只要匹配其中一个就可以了。所有可供选择的字符都放在方括号内，比如[xyz] 表示x、y、z之中任选一个匹配。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">/[abc]/.test(<span class="string">"hello world"</span>) <span class="comment">// false</span></div><div class="line">/[abc]/.test(<span class="string">"apple"</span>) <span class="comment">// true</span></div></pre></td></tr></table></figure>
<p>上面代码表示，字符串hello world不包含abc这三个字母中的任一个，而字符串apple包含字母a。</p>
<p>有两个字符在字符类中有特殊含义。</p>
<p><strong>（1）脱字符（&#94;）</strong></p>
<p>如果方括号内的第一个字符是[&#94;]，则表示除了字符类之中的字符，其他字符都可以匹配。比如，[&#94;xyz] 表示除了x、y、z之外都可以匹配。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">/[^abc]/.test(<span class="string">"hello world"</span>) <span class="comment">// true</span></div><div class="line">/[^abc]/.test(<span class="string">"bbc"</span>) <span class="comment">// false</span></div></pre></td></tr></table></figure>
<p>上面代码表示，字符串hello world不包含字母abc中的任一个，所以返回true；字符串bbc不包含abc以外的字母，所以返回false。</p>
<blockquote>
<p>注意，脱字符只有在字符类的第一个位置才有特殊含义，否则就是字面含义。</p>
</blockquote>
<p><strong>（2）连字符（-）</strong></p>
<p>某些情况下，对于连续序列的字符，连字符（-）用来提供简写形式，表示字符的连续范围。比如，[abc]可以写成[a-c]，[0123456789]可以写成[0-9]，同理[A-Z]表示26个大写字母。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">/a-z/.test(<span class="string">"b"</span>) <span class="comment">// false</span></div><div class="line">/[a-z]/.test(<span class="string">"b"</span>) <span class="comment">// true</span></div></pre></td></tr></table></figure>
<p>上面代码中，当连字号（dash）不出现在方括号之中，就不具备简写的作用，只代表字面的含义，所以不匹配字符b。只有当连字号用在方括号之中，才表示连续的字符序列。</p>
<p>以下都是合法的字符类简写形式。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">[<span class="number">0</span><span class="number">-9.</span>,]</div><div class="line">[<span class="number">0</span><span class="number">-9</span>a-fA-F]</div><div class="line">[a-zA-Z0<span class="number">-9</span>-]</div><div class="line">[<span class="number">1</span><span class="number">-31</span>]</div></pre></td></tr></table></figure>
<p>上面代码中最后一个字符类[1-31]，不代表1到31，只代表1到3。</p>
<blockquote>
<p>注意，字符类的连字符必须在头尾两个字符中间，才有特殊含义，否则就是字面含义。</p>
</blockquote>
<h3 id="重复类"><a href="#重复类" class="headerlink" title="重复类"></a>重复类</h3><p>{} 表示模式的重复次数。{n}表示重复n次，{n,}表示至少重复n次，{n,m}表示重复不少于n次，不多于m次。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">/lo&#123;<span class="number">2</span>&#125;k/.test(<span class="string">"look"</span>) <span class="comment">// true</span></div><div class="line">/lo&#123;<span class="number">2</span>,<span class="number">5</span>&#125;k/.test(<span class="string">"looook"</span>) <span class="comment">// true</span></div></pre></td></tr></table></figure>
<h3 id="量词符"><a href="#量词符" class="headerlink" title="量词符"></a>量词符</h3><ul>
<li>? 表示某个模式出现1次或0次，等同于{0, 1}。</li>
<li>* 表示某个模式出现0次或多次，等同于 {0,}。</li>
<li>+ 表示某个模式出现1次或多次，等同于 {1,}。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">/t?est/.test(<span class="string">"test"</span>) <span class="comment">// true</span></div><div class="line">/t?est/.test(<span class="string">"est"</span>) <span class="comment">// true</span></div><div class="line"></div><div class="line">/t+est/.test(<span class="string">"test"</span>) <span class="comment">// true</span></div><div class="line">/t+est/.test(<span class="string">"ttest"</span>) <span class="comment">// true</span></div><div class="line">/t+est/.test(<span class="string">"tttest"</span>) <span class="comment">// true</span></div><div class="line">/t+est/.test(<span class="string">"est"</span>) <span class="comment">// false</span></div><div class="line"></div><div class="line">/t*est/.test(<span class="string">"test"</span>) <span class="comment">// true</span></div><div class="line">/t*est/.test(<span class="string">"ttest"</span>) <span class="comment">// true</span></div><div class="line">/t*est/.test(<span class="string">"tttest"</span>) <span class="comment">// true</span></div><div class="line">/t*est/.test(<span class="string">"est"</span>) <span class="comment">// true</span></div></pre></td></tr></table></figure>
<p>以上三个量词符，默认情况下的匹配规则都是贪婪模式，即最大可能匹配，直到下一个字符不满足匹配规则为止。比如，对于字符串“aaa”来说，/a+/将会匹配“aaa”，而不会匹配“aa”。为了将贪婪模式改为非贪婪模式，可以在量词符后面加一个问号，/a+?/将会只匹配“a”。</p>
<h3 id="转义符"><a href="#转义符" class="headerlink" title="转义符"></a>转义符</h3><p>正则表达式中那些有特殊含义的字符，如果要匹配它们本身，就需要在它们前面要加上反斜杠。比如要匹配加号，就要写成\+。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">/<span class="number">1</span>+<span class="number">1</span>/.test(<span class="string">"1+1"</span>)</div><div class="line"><span class="comment">// false</span></div><div class="line"></div><div class="line">/<span class="number">1</span>\+<span class="number">1</span>/.test(<span class="string">"1+1"</span>)</div><div class="line"><span class="comment">// true</span></div></pre></td></tr></table></figure>
<p>正则模式中，需要用斜杠转义的，一共有12个字符：&#94;、.、[、$、(、)、|、*、+、?、{和 \。需要特别注意的是，如果使用RegExp方法生成正则对象，转义需要使用两个斜杠，因为字符串内部会先转义一次。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">(<span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"1\+1"</span>)).test(<span class="string">"1+1"</span>) <span class="comment">// false</span></div><div class="line">(<span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"1\\+1"</span>)).test(<span class="string">"1+1"</span>) <span class="comment">// true</span></div></pre></td></tr></table></figure>
<h3 id="修饰符"><a href="#修饰符" class="headerlink" title="修饰符"></a>修饰符</h3><p>修饰符（modifier）表示模式的附加规则，放在正则模式的最尾部。</p>
<p><strong>（1）g修饰符</strong></p>
<p>默认情况下，第一次匹配成功后，正则对象就停止向下匹配了。g修饰符表示全局匹配（global），加上它以后，正则对象将匹配全部符合条件的结果，主要用于搜索和替换。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> regex = <span class="regexp">/b/</span>;</div><div class="line"></div><div class="line"><span class="keyword">var</span> str = <span class="string">'abba'</span>;</div><div class="line"></div><div class="line">regex.test(str); <span class="comment">// true</span></div><div class="line">regex.test(str); <span class="comment">// true</span></div><div class="line">regex.test(str); <span class="comment">// true</span></div></pre></td></tr></table></figure>
<p>上面代码连续做了三次匹配，都返回true。它的含义是如果不加g修饰符，每次匹配时都是从字符串头部开始匹配。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> regex = <span class="regexp">/b/g</span>;</div><div class="line"></div><div class="line"><span class="keyword">var</span> str = <span class="string">'abba'</span>;</div><div class="line"></div><div class="line">regex.test(str); <span class="comment">// true</span></div><div class="line">regex.test(str); <span class="comment">// true</span></div><div class="line">regex.test(str); <span class="comment">// false</span></div></pre></td></tr></table></figure>
<p>上面代码中，因为字符串“abba”只有两个“b”，所以前两次匹配结果为true，第三次匹配结果为false。它的含义是加上g修饰符以后，每次匹配都是从上一次匹配成功处开始往后匹配。</p>
<p><strong>（2）i修饰符</strong></p>
<p>默认情况下，正则对象区分字母的大小写，加上i修饰符以后表示忽略大小写（ignorecase）。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">/abc/.test(<span class="string">"ABC"</span>) <span class="comment">// false</span></div><div class="line">/abc/i.test(<span class="string">"ABC"</span>) <span class="comment">// true</span></div></pre></td></tr></table></figure>
<p>上面代码表示，加了i修饰符以后，不考虑大小写，所以模式abc匹配字符串ABC。</p>
<p><strong>（3）m修饰符</strong></p>
<p>有时，字符串的头部或尾部可能会有换行符。默认情况下，正则对象会将换行符当作算入字符串的开头或结尾。m修饰符表示多行模式（multiline），加上它以后，正则对象会忽略字符串头部或尾部的换行符，即&#94;和$会忽略换行符。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">/world$/.test(<span class="string">"hello world\n"</span>) <span class="comment">// false</span></div><div class="line">/world$/m.test(<span class="string">"hello world\n"</span>) <span class="comment">// true</span></div></pre></td></tr></table></figure>
<p>上面的代码中，字符串结尾处有一个换行符。如果不加m修饰符，匹配不成功，因为字符串的结尾不是world；加上以后，换行符被省略，匹配成功。</p>
<p>修饰符可以多个一起使用。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> regex = <span class="regexp">/test/ig</span>;</div></pre></td></tr></table></figure>
<h3 id="预定义模式"><a href="#预定义模式" class="headerlink" title="预定义模式"></a>预定义模式</h3><p>预定义模式指的是某些常见模式的简写方式。</p>
<ul>
<li>\d 匹配0-9之间的任一数字，相当于[0-9]。</li>
<li>\D 匹配所有0-9以外的字符，相当于[^0-9]。</li>
<li>\w 匹配任意的字母、数字和下划线，相当于[A-Za-z0-9_]。</li>
<li>\W 除所有字母、数字和下划线以外的字符，相当于/[&#94;A-Za-z0-9_]/ 。</li>
<li>\s 匹配空格（包括制表符、空格符、断行符等），相等于[\t\r\n\v\f]。</li>
<li>\S 匹配非空格的字符，相当于[&#94;\t\r\n\v\f]。</li>
<li>\b 匹配词的边界。</li>
<li>\B 匹配非词边界，即在词的内部。</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">/\s\w*/.exec("hello world") // [" world"]</div><div class="line"></div><div class="line">/\bworld/.test("hello world") // true</div><div class="line">/\bworld/.test("hello-world") // true</div><div class="line">/\bworld/.test("helloworld") // false</div><div class="line"></div><div class="line">/\Bworld/.test("hello-world") // false</div><div class="line">/\Bworld/.test("helloworld") // true</div></pre></td></tr></table></figure>
<h3 id="特殊字符"><a href="#特殊字符" class="headerlink" title="特殊字符"></a>特殊字符</h3><p>正则对象对一些不能打印的特殊字符，提供了表达形式。</p>
<ul>
<li>\cX 表示 Ctrl-X</li>
<li>[\b] 匹配退格键(U+0008)，不要与\b混淆。</li>
<li>\n 匹配换行键。</li>
<li>\r 匹配回车键。</li>
<li>\t 匹配制表符tab（U+0009）。</li>
<li>\v 匹配垂直制表符（U+000B）。</li>
<li>\f 匹配换页符（U+000C）。</li>
<li>\0 匹配null字符（U+0000）。</li>
<li>\xhh 匹配一个以两位十六进制数表示的字符。</li>
<li>\uhhhh 匹配一个以四位十六进制数表示的unicode字符。</li>
</ul>
<h3 id="组匹配"><a href="#组匹配" class="headerlink" title="组匹配"></a>组匹配</h3><p><strong>（1）概述</strong></p>
<p>正则表达式的括号表示分组匹配，括号中的模式可以用来捕获分组的内容。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> m = <span class="string">"abcabc"</span>.match(<span class="regexp">/(.)b(.)/</span>);</div><div class="line">m </div><div class="line"><span class="comment">// ["abc", "a", "c"]</span></div></pre></td></tr></table></figure>
<p>上面代码中，正则表达式/(.)b(.)/一共使用两个括号，第一个括号捕获a，第二个括号捕获c。</p>
<p>注意，使用组匹配时，不宜同时使用g修饰符，否则match方法不会捕获分组的内容。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> m = <span class="string">"abcabc"</span>.match(<span class="regexp">/(.)b(.)/g</span>);</div><div class="line">m</div><div class="line"><span class="comment">// ["abc", "abc"]</span></div></pre></td></tr></table></figure>
<p>上面代码使用带g修饰符的正则表达式，结果match方法只捕获了匹配整个表达式的部分。</p>
<p>在正则表达式内部，可以用\n引用括号匹配的内容，n是从1开始的自然数，表示对应顺序的括号。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">/(.)b(.)\<span class="number">1</span>b\<span class="number">2</span>/.test(<span class="string">"abcabc"</span>)</div><div class="line"><span class="comment">// true</span></div></pre></td></tr></table></figure>
<p>上面的代码中，\1表示前一个括号匹配的内容（即“a”），\2表示第二个括号匹配的内容（即“b”）。</p>
<p>组匹配非常有用，下面是一个匹配网页标签的例子。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> tagName = <span class="regexp">/&lt;([^&gt;]+)&gt;[^&lt;]*&lt;\/\1&gt;/</span>;</div><div class="line">tagName.exec(<span class="string">"&lt;b&gt;bold&lt;/b&gt;"</span>)[<span class="number">1</span>]</div><div class="line"><span class="comment">// 'b'</span></div></pre></td></tr></table></figure>
<p><strong>（2）非捕获组</strong></p>
<p>(?:x)称为非捕获组（Non-capturing group），表示不返回该组匹配的内容，即匹配的结果中不计入这个括号。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> m = <span class="string">"abc"</span>.match(<span class="regexp">/(?:.)b(.)/</span>);</div><div class="line"></div><div class="line">m[<span class="number">1</span>]</div><div class="line"><span class="comment">// "c"</span></div></pre></td></tr></table></figure>
<p>上面代码中的模式，一共使用了两个括号。其中第一个括号是非捕获组，所以返回的第一个被捕获的组是第二个括号所匹配的“c”。</p>
<p>下面是用来分解网址的正则表达式。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> url = <span class="regexp">/(http|ftp):\/\/([^/\r\n]+)(\/[^\r\n]*)?/</span>;</div><div class="line"></div><div class="line">url.exec(<span class="string">"http://google.com/"</span>);</div><div class="line"><span class="comment">// ["http://google.com/", "http", "google.com", "/"]</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> url = <span class="regexp">/(?:http|ftp):\/\/([^/\r\n]+)(\/[^\r\n]*)?/</span>;</div><div class="line"></div><div class="line">url.exec(<span class="string">"http://google.com/"</span>);</div><div class="line"><span class="comment">// ["http://google.com/", "google.com", "/"]</span></div></pre></td></tr></table></figure>
<p>上面的代码中，前一个正则表达式是正常匹配，第一个括号返回网络协议；后一个正则表达式是非捕获匹配，返回结果中不包括网络协议。</p>
<p><strong>（3）先行断言</strong></p>
<p>x(?=y)称为先行断言（Positive look-ahead），x只有在y前面才匹配，y不会被计入返回结果。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> m = <span class="string">"abc"</span>.match(<span class="regexp">/b(?=c)/</span>);</div><div class="line">m </div><div class="line"><span class="comment">// "b"</span></div></pre></td></tr></table></figure>
<p>上面的代码使用了先行断言，b在c前面所以被匹配，但是括号对应的c不会被返回。</p>
<p><strong>（4）后行断言</strong></p>
<p>x(?!y)称为后行断言（Negative look-ahead），x只有不在y前面才匹配，y不会被计入返回结果。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> m = <span class="string">"abd"</span>.match(<span class="regexp">/b(?!c)/</span>);</div><div class="line">m</div><div class="line"><span class="comment">// ["b"]</span></div></pre></td></tr></table></figure>
<p>上面的代码使用了后行断言，b不在c前面所以被匹配，而且括号对应的d不会被返回。</p>
<h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><ul>
<li>Axel Rauschmayer, <a href="http://www.2ality.com/2011/04/javascript-overview-of-regular.html" target="_blank" rel="external">JavaScript: an overview of the regular expression API</a></li>
<li>Mozilla Developer Network, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions" target="_blank" rel="external">Regular Expressions</a></li>
<li>Axel Rauschmayer, <a href="http://www.2ality.com/2013/08/regexp-g.html" target="_blank" rel="external">The flag /g of JavaScript’s regular expressions</a></li>
<li>Sam Hughes, <a href="http://qntm.org/files/re/re.html" target="_blank" rel="external">Learn regular expressions in about 55 minutes</a></li>
</ul>

	
	</div>
  <a type="button" href="/2014/11/10/2014-11-10-regexp-inaction/#more" class="btn btn-default more">阅读此文</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2014-11-09 </div>
			<div class="article-title"><a href="/2014/11/09/2014-11-09-length==+length/" >length==+length</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
	
	
		<p>读 underscroe 源码的时候看到了</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> length = obj.length;</div><div class="line"></div><div class="line"> <span class="keyword">if</span> (length === +length) &#123;</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line"> &#125;</div></pre></td></tr></table></figure>
<p>符号会尝试把后面的 length 转成数字，比如 +”1” =&gt; 1, 同样 -“1” =&gt; -1</p>
<p>所以，+length 的目的就是如果 length 不是数字的化，就要转成数字。</p>
<blockquote>
<p>NaN === NaN 返回false</p>
<p>null === null 返回 true</p>
</blockquote>
<p>但这还不是最终目的:</p>
<ol>
<li><p>如果 length 赋值为 undefined，</p>
<p>因为 +undefined =&gt; NaN, 并且 NaN 不等 NaN</p>
<p>所以 length==+length 可以排除 length 为 undefinde 的情况.</p>
</li>
<li><p>如果 length 赋值为 null，</p>
<p>因为 +null =&gt; 0,  从而，null === 0 同样返回false</p>
<p>所以 length==+length 可以排除 length 为 null 的情况.</p>
</li>
</ol>
<p>最终实现了 只有 length 是 <strong>数字</strong> 或者 <strong>数字字符串</strong> 的目的。</p>

	
	</div>
  <a type="button" href="/2014/11/09/2014-11-09-length==+length/#more" class="btn btn-default more">阅读此文</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2014-11-09 </div>
			<div class="article-title"><a href="/2014/11/09/2014-11-09-javascript协议限定符/" >javascript协议限定符</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
	
	
		<p>javascript: URL可以用在可以使用常规URL的任意地方, 比如<a>标记的href属性，</a></p>
<p><form>的action属性，甚至window.open() 方法的参数.</form></p>

	
	</div>
  <a type="button" href="/2014/11/09/2014-11-09-javascript协议限定符/#more" class="btn btn-default more">阅读此文</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2014-11-09 </div>
			<div class="article-title"><a href="/2014/11/09/2014-11-09-code-skill-collection/" >code-skill</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
	
	
		<h3 id="带前缀方法声明"><a href="#带前缀方法声明" class="headerlink" title="带前缀方法声明"></a>带前缀方法声明</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> thisFunc,</div><div class="line">		prefixList = [<span class="string">'webkit'</span>, <span class="string">'moz'</span>, <span class="string">'ms'</span>];</div><div class="line">	</div><div class="line">	<span class="comment">//check each method for availability, when one is found,</span></div><div class="line">	<span class="comment">//use that</span></div><div class="line">	<span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i &lt; <span class="number">2</span>; i++) &#123;</div><div class="line">		thisFunc = prefixList[i] + <span class="string">'RequestAnimationFrame'</span>;</div><div class="line"></div><div class="line">		<span class="keyword">if</span>(<span class="built_in">window</span>[thisFunc]) &#123;</div><div class="line">			<span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">callback</span>) </span>&#123;</div><div class="line">				<span class="built_in">window</span>[thisFunc](callback);</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	&#125;</div></pre></td></tr></table></figure>
<h3 id="Function-prototype-bind-创建函数"><a href="#Function-prototype-bind-创建函数" class="headerlink" title="Function.prototype.bind 创建函数"></a>Function.prototype.bind 创建函数</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">someFunction() &#123; </div><div class="line">   <span class="keyword">this</span>.x = <span class="number">54</span>;	</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> goOut = &#123;</div><div class="line">	<span class="attr">x</span>: <span class="number">722</span></div><div class="line">&#125; </div><div class="line"></div><div class="line"><span class="keyword">var</span> newLife = someFunction.bind(goOut);</div><div class="line">newLife(); <span class="comment">// this.x =&gt; 722</span></div><div class="line"></div><div class="line"><span class="comment">// another one </span></div><div class="line"><span class="comment">// 偷梁换柱</span></div><div class="line">[<span class="string">"log"</span>, <span class="string">"info"</span>, <span class="string">"warn"</span>, <span class="string">"error"</span>].forEach(<span class="function"><span class="keyword">function</span>(<span class="params">method</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>[method] = <span class="built_in">console</span>[method].bind(</div><div class="line">        <span class="built_in">console</span>, <span class="comment">// used for `this`</span></div><div class="line">        <span class="keyword">new</span> <span class="built_in">Date</span>().toISOString()</div><div class="line">    );</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="随机整数"><a href="#随机整数" class="headerlink" title="随机整数"></a>随机整数</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="comment">// '|' 对它的整型操作数逐位执行布尔或(OR) 操作。</span></div><div class="line"><span class="comment">// 如果其中一个操 作数相应的位为1 ，或者两个操作数相应位都是1 ，那么结果中的这一位就为1</span></div><div class="line"><span class="built_in">Math</span>.random()*<span class="number">10</span>|<span class="number">0</span> <span class="comment">// 按位或()</span></div><div class="line"><span class="built_in">Math</span>.random()*<span class="number">16</span>|<span class="number">0</span></div></pre></td></tr></table></figure>
<h3 id="数组转换"><a href="#数组转换" class="headerlink" title="数组转换"></a>数组转换</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 类数组转数组</span></div><div class="line"><span class="keyword">var</span> args = [].slice.call(<span class="built_in">arguments</span>);</div><div class="line"></div><div class="line"><span class="comment">// 数组转字符串(数组元素连到一块儿)</span></div><div class="line"><span class="keyword">var</span> strs = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>].join(<span class="string">","</span>);</div><div class="line"></div><div class="line"><span class="comment">// 字符串转数组</span></div><div class="line"><span class="keyword">var</span> arr = <span class="string">"1,2,3"</span>.split(<span class="string">","</span>);</div></pre></td></tr></table></figure>
<h3 id="改写setTimeout"><a href="#改写setTimeout" class="headerlink" title="改写setTimeout"></a>改写setTimeout</h3><p>改进setTimeout方法，让其返回一个deferred对象。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">doSomethingLater</span>(<span class="params">fn, time</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> dfd = $.Deferred();</div><div class="line">  setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    dfd.resolve(fn());</div><div class="line">  &#125;, time || <span class="number">0</span>);</div><div class="line">  <span class="keyword">return</span> dfd.promise();</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> promise = doSomethingLater(<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="built_in">console</span>.log( <span class="string">'已经延迟执行'</span> );</div><div class="line">&#125;, <span class="number">100</span>);</div></pre></td></tr></table></figure>
<h3 id="批量创建函数"><a href="#批量创建函数" class="headerlink" title="批量创建函数"></a>批量创建函数</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 引子,比 typeof运算符 更准的类型判断函数</span></div><div class="line"><span class="keyword">var</span> type = <span class="function"><span class="keyword">function</span> (<span class="params">o</span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> s = <span class="built_in">Object</span>.prototype.toString.call(o);</div><div class="line">    <span class="keyword">return</span> s.match(<span class="regexp">/\[object (.*?)\]/</span>)[<span class="number">1</span>].toLowerCase();</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="comment">// 主角</span></div><div class="line">[<span class="string">'Null'</span>,</div><div class="line"> <span class="string">'Undefined'</span>,</div><div class="line"> <span class="string">'Object'</span>,</div><div class="line"> <span class="string">'Array'</span>,</div><div class="line"> <span class="string">'String'</span>,</div><div class="line"> <span class="string">'Number'</span>,</div><div class="line"> <span class="string">'Boolean'</span>,</div><div class="line"> <span class="string">'Function'</span>,</div><div class="line"> <span class="string">'RegExp'</span>,</div><div class="line"> <span class="string">'Element'</span>,</div><div class="line"> <span class="string">'NaN'</span>,</div><div class="line"> <span class="string">'Infinite'</span></div><div class="line">].forEach(<span class="function"><span class="keyword">function</span> (<span class="params">t</span>) </span>&#123;</div><div class="line">    type[<span class="string">'is'</span> + t] = <span class="function"><span class="keyword">function</span> (<span class="params">o</span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> type(o) === t.toLowerCase();</div><div class="line">    &#125;;</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// =&gt;</span></div><div class="line">type(&#123;&#125;); <span class="comment">// "object"</span></div><div class="line">type([]); <span class="comment">// "array"</span></div><div class="line">type(<span class="number">5</span>); <span class="comment">// "number"</span></div><div class="line">type(<span class="literal">null</span>); <span class="comment">// "null"</span></div><div class="line">type(); <span class="comment">// "undefined"</span></div><div class="line">type(<span class="regexp">/abcd/</span>); <span class="comment">// "regex"</span></div><div class="line">type(<span class="keyword">new</span> <span class="built_in">Date</span>()); <span class="comment">// "date"</span></div></pre></td></tr></table></figure>
<h3 id="判断是否为对象"><a href="#判断是否为对象" class="headerlink" title="判断是否为对象"></a>判断是否为对象</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">   <span class="comment">// 如果 Object 函数的参数是对象，它总是返回原对象</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">isObject</span>(<span class="params">target</span>) </span>&#123;</div><div class="line">	<span class="keyword">return</span> target === <span class="built_in">Object</span>(target);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="length-lenght"><a href="#length-lenght" class="headerlink" title="length === +lenght"></a>length === +lenght</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"> <span class="keyword">if</span>(length === +length) &#123;</div><div class="line"><span class="comment">// 强调 length 只能是数字或者 数字字符串</span></div><div class="line"> &#125;</div></pre></td></tr></table></figure>
<h2 id="for"><a href="#for" class="headerlink" title="for"></a>for</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">arr = some array;</div><div class="line"></div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i, max = arr.length; i &lt; max; i++) &#123;</div><div class="line">	<span class="comment">// get length only once.	</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="while"><a href="#while" class="headerlink" title="while"></a>while</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> arr = some array, </div><div class="line">length = arr.length;</div><div class="line"></div><div class="line"><span class="keyword">while</span>( length-- ) &#123;</div><div class="line">     <span class="comment">// code </span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> A = &#123;</div><div class="line">    <span class="attr">a</span> : <span class="number">1</span>,</div><div class="line">    <span class="attr">b</span> : <span class="number">2</span>  </div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="利用-amp-amp-或者-替代-if"><a href="#利用-amp-amp-或者-替代-if" class="headerlink" title="利用 &amp;&amp; 或者 || 替代 if"></a>利用 &amp;&amp; 或者 || 替代 if</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">   <span class="built_in">Object</span>.prototype.abc = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;</div><div class="line">   </div><div class="line">   <span class="keyword">for</span> (<span class="keyword">var</span> i <span class="keyword">in</span> A) &#123;</div><div class="line">   </div><div class="line">       A.hasOwnProperty(i) &amp;&amp; <span class="built_in">console</span>.log(A[i],i); </div><div class="line">       <span class="comment">// 等同于 </span></div><div class="line">       <span class="keyword">if</span>(A.hasOwnProperty(i)) &#123;</div><div class="line">           <span class="built_in">console</span>.log(A[i],i); </div><div class="line">       &#125;    </div><div class="line">   &#125;</div><div class="line"></div><div class="line"><span class="comment">// 有则用,没有则初始化</span></div><div class="line"><span class="keyword">var</span> calls = <span class="keyword">this</span>._callbacks || (<span class="keyword">this</span>._callbacks = &#123;&#125;);</div><div class="line"></div><div class="line">(<span class="keyword">this</span>._callbacks[i] || (<span class="keyword">this</span>._callbacks[i]) = []).push(someCallback);</div></pre></td></tr></table></figure>
<h3 id="switch"><a href="#switch" class="headerlink" title="switch"></a>switch</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">switch</span> 和 <span class="keyword">case</span> 对齐，增加可读性</div><div class="line"></div><div class="line"></div><div class="line">    <span class="keyword">var</span> inspect_me = <span class="number">0</span>,</div><div class="line">        result;</div><div class="line">    </div><div class="line">    <span class="keyword">switch</span> (inspect_me) &#123;</div><div class="line">    <span class="keyword">case</span> <span class="number">0</span>: </div><div class="line">        result = <span class="string">'a'</span></div><div class="line">        <span class="keyword">break</span>;</div><div class="line">    <span class="keyword">case</span> <span class="number">1</span>:</div><div class="line">        result = <span class="string">'b'</span></div><div class="line">        <span class="keyword">break</span>;</div><div class="line">    <span class="keyword">default</span> : </div><div class="line">        result = <span class="string">'unknown'</span></div><div class="line">	&#125;</div><div class="line">	<span class="built_in">console</span>.log(result); <span class="comment">// a</span></div></pre></td></tr></table></figure>
<h3 id="关于编码规范-空格的使用位置"><a href="#关于编码规范-空格的使用位置" class="headerlink" title="关于编码规范 空格的使用位置"></a>关于编码规范 空格的使用位置</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i += <span class="number">1</span>) &#123; &#125;</div><div class="line"></div><div class="line">	<span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; max = <span class="number">10</span>; i &lt; max; i += <span class="number">1</span>) &#123;&#125;</div><div class="line"></div><div class="line">	<span class="keyword">var</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</div><div class="line"></div><div class="line">	<span class="keyword">var</span> o = &#123;<span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span>&#125;;</div><div class="line"></div><div class="line"></div><div class="line">	myFunc(a, b, c)</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">function</span> <span class="title">myFunc</span>(<span class="params"></span>) </span>&#123;&#125;</div><div class="line"></div><div class="line">	<span class="keyword">var</span> myFunc = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;</div><div class="line"></div><div class="line"><span class="comment">// 构造函数用大写</span></div><div class="line"></div><div class="line">	<span class="keyword">var</span> adam = <span class="keyword">new</span> Person();</div></pre></td></tr></table></figure>
<h2 id="设计模式"><a href="#设计模式" class="headerlink" title="设计模式"></a>设计模式</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// module 模式</span></div><div class="line"><span class="comment">// 1. 模块化</span></div><div class="line"><span class="comment">// 2. 封装了变量和function, 和全局的namespace</span></div><div class="line"><span class="comment">// 3. 只暴露了public方法,隐藏了私有方法</span></div><div class="line">	<span class="keyword">var</span> myModule = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    </div><div class="line">		<span class="keyword">var</span> name = <span class="string">'module A'</span>,</div><div class="line">			mou = &#123;&#125;;</div><div class="line">			</div><div class="line">		<span class="function"><span class="keyword">function</span> <span class="title">privateName</span> (<span class="params"></span>) </span>&#123;</div><div class="line">			<span class="built_in">console</span>.log(<span class="string">'moudle name is '</span>+ name)</div><div class="line">		&#125;</div><div class="line"></div><div class="line">		mou.pubName = name;</div><div class="line">		mou.pubFunc = privateName</div><div class="line">		</div><div class="line">		<span class="keyword">return</span> mou;</div><div class="line">		</div><div class="line">	&#125;)();</div><div class="line"></div><div class="line">	myModule.pubFunc();</div><div class="line">	<span class="built_in">console</span>.log(myModule,<span class="number">1</span>);</div></pre></td></tr></table></figure>
<h3 id="支持module扩展"><a href="#支持module扩展" class="headerlink" title="支持module扩展"></a>支持module扩展</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> myModule = (<span class="function"><span class="keyword">function</span> (<span class="params">my</span>) </span>&#123;</div><div class="line">	</div><div class="line">	<span class="keyword">var</span> name = <span class="string">'module X'</span>;</div><div class="line">	</div><div class="line">	my.Address = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">		<span class="built_in">console</span>.log(<span class="string">'moudle name is '</span>+ name);</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	<span class="keyword">return</span> my;</div><div class="line"> </div><div class="line">&#125;(myModule || &#123;&#125;));</div><div class="line"></div><div class="line"><span class="comment">//myModule.pubFunc();</span></div><div class="line"><span class="built_in">console</span>.log(myModule,<span class="number">2</span>)</div></pre></td></tr></table></figure>
<h3 id="对象克隆时方法的克隆"><a href="#对象克隆时方法的克隆" class="headerlink" title="对象克隆时方法的克隆?"></a>对象克隆时方法的克隆?</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 用闭包保存状态值</span></div><div class="line">	<span class="keyword">var</span> elems = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'a'</span>);</div><div class="line"></div><div class="line">	<span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt;　elems.length; i ++) &#123;</div><div class="line">		elems[i].addEventListener(<span class="string">'click'</span>,</div><div class="line">		(<span class="function"><span class="keyword">function</span>(<span class="params">index</span>) </span>&#123;</div><div class="line">		   <span class="built_in">console</span>.log(<span class="string">'real index is '</span>+ index);</div><div class="line">		&#125;)(i)</div><div class="line">		,<span class="literal">false</span>)</div><div class="line">	&#125;</div></pre></td></tr></table></figure>
<h2 id="Array-splice-的使用方式"><a href="#Array-splice-的使用方式" class="headerlink" title="Array.splice 的使用方式"></a>Array.splice 的使用方式</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 集删除，取值，插入于一身</span></div><div class="line"></div><div class="line"><span class="comment">// 删除：</span></div><div class="line">	<span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>]</div><div class="line">	arr.splice(startindex,length);</div><div class="line">	arr.splice(<span class="number">0</span>,<span class="number">2</span>) =&gt; &#123;</div><div class="line">		arr == [<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>]</div><div class="line">		<span class="keyword">return</span> [<span class="number">1</span>,<span class="number">2</span>]</div><div class="line">	&#125;</div><div class="line"></div><div class="line"><span class="comment">// 截取新子串： </span></div><div class="line">	<span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>]</div><div class="line">	arr.splice(startindex,cut_length); <span class="comment">// 若 startindex 省略默认为0</span></div><div class="line">	arr.splice(<span class="number">1</span>,<span class="number">2</span>) =&gt; &#123;</div><div class="line">		arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>];</div><div class="line">		<span class="keyword">return</span> [<span class="number">2</span>,<span class="number">3</span>];</div><div class="line">	&#125;</div><div class="line"></div><div class="line"><span class="comment">// 插入</span></div><div class="line">	<span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>];</div><div class="line">	arr.splice(startindex,<span class="number">0</span>[标识插入],....[插入值,可多个,但不是数组]);</div><div class="line">	arr.splice(<span class="number">3</span>,<span class="number">0</span>,<span class="number">7</span>,<span class="number">6</span>,<span class="number">5</span>)&#123;</div><div class="line">		arr =&gt; [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>]</div><div class="line">		<span class="keyword">return</span> []</div><div class="line">	&#125;</div><div class="line"></div><div class="line"><span class="comment">// 覆盖插入</span></div><div class="line"></div><div class="line">	<span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>];</div><div class="line">	arr.splice(startindex,n[覆盖的元素个数],....[插入值,可多个,但不是数组]);</div><div class="line">	arr.splice(<span class="number">3</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>) &#123;</div><div class="line">		arr =&gt; [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>];</div><div class="line">		<span class="keyword">return</span> [<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>]</div><div class="line">	&#125;</div><div class="line"><span class="comment">// return 返回的是受影响的元素</span></div></pre></td></tr></table></figure>
<h2 id="amp-amp"><a href="#amp-amp" class="headerlink" title="&amp;&amp;"></a>&amp;&amp;</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="comment">// "&amp;&amp;" 的行为有时称做"短路" (short circuiting) ，很多代码利用了这一特性来有条件地执行代码。</span></div><div class="line"><span class="comment">// 例如，下面两行JavaScript代码是完全等价的:</span></div><div class="line"></div><div class="line">	<span class="keyword">if</span> (a == b) stop(); <span class="comment">//只有在a==b的时候才调用stop()</span></div><div class="line">	(a == b) &amp;&amp; stop(); </div><div class="line"></div><div class="line"><span class="comment">// 如果 id 为 undefined，则直接给 topic 赋值 undefined，</span></div><div class="line"><span class="comment">// 若 id 有值，但 topics 里没有 id 属性，仍返回给 topic undefined，</span></div><div class="line"><span class="comment">// 当 id 非空，且 topic 里有 id 时，才取得非空值。</span></div><div class="line">topic = id &amp;&amp; topics[ id ];</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// 如果max width 已经定义了，直接使用它,否则在preferences对象中查找max_width</span></div><div class="line"><span class="comment">// 如果没有定义它，则使用一个写死的常量</span></div><div class="line">	<span class="keyword">var</span> max = max_width || preferences.max_width || <span class="number">500</span>;</div><div class="line"><span class="string">``</span><span class="string">` </span></div><div class="line"></div><div class="line">Javascript 精粹中出现:</div><div class="line">`<span class="string">``</span>javascript</div><div class="line">	<span class="comment">// typeof 结果为 false, 则小括号为 false, 结果为 that.</span></div><div class="line">	<span class="comment">// typeof true, return other;</span></div><div class="line">	<span class="comment">// 精妙!</span></div><div class="line">	<span class="keyword">return</span> (<span class="keyword">typeof</span> other === <span class="string">'object'</span>  &amp;&amp; other) || that;</div></pre></td></tr></table></figure>
<h2 id="父页面调用子页面方法"><a href="#父页面调用子页面方法" class="headerlink" title="父页面调用子页面方法"></a>父页面调用子页面方法</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">'#atParent'</span>).contents().find(<span class="string">'childElement'</span>).trigger(<span class="string">'click'</span>);</div><div class="line"><span class="comment">// native html5</span></div><div class="line"><span class="keyword">var</span> iframe = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'iframe'</span>)[<span class="number">0</span>];</div><div class="line"><span class="keyword">var</span> iframeDocument = iframe.contentDocument; <span class="comment">// 获得了子页面的文档对象</span></div></pre></td></tr></table></figure>
<h2 id="取得指定标记下所有子标签"><a href="#取得指定标记下所有子标签" class="headerlink" title="取得指定标记下所有子标签"></a>取得指定标记下所有子标签</h2><p>Returns a list of elements with the given tag name.<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getByClass</span>(<span class="params">tparent,tclass</span>) </span>&#123;</div><div class="line"></div><div class="line">	<span class="comment">// getElementsByTagName() = &gt; HTMLCollection =&gt; 类数组</span></div><div class="line">	<span class="comment">// The special string "*" represents all elements.</span></div><div class="line">	<span class="keyword">var</span> allclass = tparent.getElementsByTagName(<span class="string">'*'</span>);</div><div class="line"></div><div class="line">	<span class="keyword">var</span> result = [];</div><div class="line">		<span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, max = allclass.length; i &lt; max; i++ ) &#123;</div><div class="line">		<span class="keyword">if</span> ( allclass[i].clssName == tclass ) &#123;</div><div class="line">			result.push(allcalss[i]);</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> result;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="深拷贝"><a href="#深拷贝" class="headerlink" title="深拷贝"></a>深拷贝</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">a = <span class="number">1</span>;</div><div class="line">b = a++; <span class="comment">// b = 1; a = 2;</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">deepCopy</span>(<span class="params"></span>) (<span class="params">parent, child</span>) </span>&#123;</div><div class="line">	<span class="keyword">var</span> i,</div><div class="line">		toStr = <span class="built_in">Object</span>.propotype.toString,</div><div class="line">		<span class="comment">// x: arrName = '[Object Array]';</span></div><div class="line">		arrName = <span class="string">'[object Array]'</span>;</div><div class="line">	</div><div class="line">	<span class="comment">// forget check child if null </span></div><div class="line">	child = child || &#123;&#125;;</div><div class="line"></div><div class="line">	<span class="keyword">for</span>( i <span class="keyword">in</span> parent ) &#123;</div><div class="line">		<span class="keyword">if</span>( parent.hasOwnProerty[i] ) &#123;</div><div class="line">			<span class="keyword">if</span>(<span class="keyword">typeof</span> parent[i] === <span class="string">"object"</span>) &#123;</div><div class="line">				child[i] = (toStr.call(parent[i]) === arrName) ? [] : &#123;&#125;;</div><div class="line">				deepCopy(parent[i],child[i]);</div><div class="line">			&#125; <span class="keyword">else</span> &#123;</div><div class="line">				child[i] = parent[i];</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> child;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="对象继承"><a href="#对象继承" class="headerlink" title="对象继承"></a>对象继承</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">inherit</span>(<span class="params">p</span>) </span>&#123;</div><div class="line">	<span class="keyword">if</span>(p == <span class="literal">null</span>) &#123;</div><div class="line">		<span class="keyword">throw</span> <span class="built_in">TypeError</span>();</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">if</span>(<span class="built_in">Object</span>.create) &#123;</div><div class="line">		<span class="keyword">return</span> <span class="built_in">Object</span>.create(p); <span class="comment">// 直接使用它</span></div><div class="line">	&#125;</div><div class="line">	<span class="keyword">var</span> t = <span class="keyword">typeof</span> p;</div><div class="line">	<span class="keyword">if</span>(t !== <span class="string">'object'</span> &amp;&amp; t !== <span class="string">'function'</span>) &#123;</div><div class="line">		<span class="keyword">throw</span> <span class="built_in">TypeError</span>();</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;&#125;</div><div class="line">	f.prototype = p;</div><div class="line">	rturn <span class="keyword">new</span> f();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="灵活常见html元素"><a href="#灵活常见html元素" class="headerlink" title="灵活常见html元素"></a>灵活常见html元素</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$(<span class="built_in">document</span>.createElement(<span class="string">'script'</span>))</div><div class="line">	.attr(<span class="string">'src'</span>, <span class="string">'http://example.com/example.js'</span>)</div><div class="line">	.appendTo(<span class="string">'head'</span>);</div></pre></td></tr></table></figure>
<h2 id="split"><a href="#split" class="headerlink" title="split"></a>split</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 计算单词数</span></div><div class="line"><span class="comment">// "".split(regExp);</span></div><div class="line">	<span class="keyword">var</span> a = <span class="string">"a xxx ssd sdf 4rff     dsfs"</span>;</div><div class="line">	<span class="keyword">var</span> b = a.split(<span class="regexp">/\s+/</span>); <span class="comment">// =&gt; ["a", "xxx", "ssd", "sdf", "4rff", "dsfs"]</span></div><div class="line">	<span class="keyword">var</span> c = b.length;</div></pre></td></tr></table></figure>
<h2 id="判断对象是否为空"><a href="#判断对象是否为空" class="headerlink" title="判断对象是否为空"></a>判断对象是否为空</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 对象转会为布尔值</span></div><div class="line"><span class="keyword">var</span> isChromium = !!<span class="built_in">window</span>.chrome;</div><div class="line"><span class="comment">// isChromium =&gt; true</span></div><div class="line">!!<span class="literal">undefined</span> <span class="comment">// =&gt; false</span></div><div class="line">!!<span class="string">""</span> <span class="comment">// =&gt; false</span></div><div class="line">!!<span class="string">"1"</span> <span class="comment">// =&gt; true</span></div><div class="line">!!<span class="literal">null</span> <span class="comment">// =&gt; false</span></div><div class="line">!!<span class="literal">false</span>  <span class="comment">// =&gt; false</span></div><div class="line">!!<span class="string">"false"</span> <span class="comment">// =&gt; true (这种奇葩的情况不少)</span></div></pre></td></tr></table></figure>
<h2 id="批量获取-dom-元素"><a href="#批量获取-dom-元素" class="headerlink" title="批量获取 dom 元素"></a>批量获取 dom 元素</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> elements = &#123;</div><div class="line">	  <span class="attr">head</span>: <span class="literal">null</span>,</div><div class="line">	  <span class="attr">targetA</span>: <span class="literal">null</span>,</div><div class="line">	  <span class="attr">targetB</span>: <span class="literal">null</span>,</div><div class="line">	  <span class="attr">targetC</span>: <span class="literal">null</span>,</div><div class="line">	  <span class="attr">targetD</span>: <span class="literal">null</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i <span class="keyword">in</span> elements) elements[i] = <span class="built_in">document</span>.getElementByID(i);</div></pre></td></tr></table></figure>
<h2 id="函数执行时的上下文"><a href="#函数执行时的上下文" class="headerlink" title="函数执行时的上下文"></a>函数执行时的上下文</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 如果 thisArg 部分为空，则认为 global</span></div><div class="line">	settings.complete.call(<span class="literal">null</span>, text); </div><div class="line"></div><div class="line">	<span class="comment">// 同上，forEach 的第二个参数就是用作回调的上下文 </span></div><div class="line">	[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].forEach( <span class="function"><span class="keyword">function</span>(<span class="params">v</span>) </span>&#123;</div><div class="line">		<span class="keyword">if</span> (<span class="keyword">this</span>.breakFlag === <span class="literal">true</span>) &#123;</div><div class="line">		</div><div class="line">		<span class="comment">// 此处的 false 只是阻止了当前循环的执行，而不会影响后续循环</span></div><div class="line">			<span class="keyword">return</span> <span class="literal">false</span>;  </div><div class="line">		&#125;</div><div class="line"></div><div class="line">		<span class="keyword">if</span> (v === <span class="number">2</span>) &#123;</div><div class="line">			<span class="keyword">this</span>.breakFlag = <span class="literal">true</span></div><div class="line">		&#125;</div><div class="line">		<span class="built_in">console</span>.log(v) <span class="comment">//只输出1,2</span></div><div class="line">	&#125;, &#123;&#125;);  <span class="comment">// '&#123;&#125;' 指定 callback 的上下文</span></div></pre></td></tr></table></figure>
<h2 id="习惯使用选择器上下文"><a href="#习惯使用选择器上下文" class="headerlink" title="习惯使用选择器上下文"></a>习惯使用选择器上下文</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">   $(<span class="string">'div.foo'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">       $(<span class="string">"span"</span>,<span class="keyword">this</span>).addClass(<span class="string">'bar'</span>); <span class="comment">// 限定查找范围</span></div><div class="line">   &#125;);	</div><div class="line"><span class="comment">// 对选择器表达式 “span” 的查找被限制在了 this 的范围内，</span></div><div class="line"><span class="comment">// 即只有被点击元素内的 span 元素才会添加 “bar”。</span></div></pre></td></tr></table></figure>

	
	</div>
  <a type="button" href="/2014/11/09/2014-11-09-code-skill-collection/#more" class="btn btn-default more">阅读此文</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2014-11-06 </div>
			<div class="article-title"><a href="/2014/11/06/2014-11-06-行框与行内框的概念/" >行框与行内框</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
	
	
		<p>文本行中的每个元素都会生成一个内容区。这个内容区则会生成一个行内框（inline box），当一行中的所有内容均已生成了行内框，那么接下来在行框的构造中就会考虑这些行内框，行框要包含住最高行内框的顶端和最低行内框的底端。</p>
<p><img src="/images/codesnip_20141106213406.png" alt="行框图"></p>
<p>需要说明的是：行内框中最大的 line-height 就是行框的高度。</p>

	
	</div>
  <a type="button" href="/2014/11/06/2014-11-06-行框与行内框的概念/#more" class="btn btn-default more">阅读此文</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2014-11-02 </div>
			<div class="article-title"><a href="/2014/11/02/2014-11-02-css 中的度量/" >css中的单位</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
	
	
		<h2 id="angle"><a href="#angle" class="headerlink" title="angle"></a>angle</h2><p>angle 者，角也。<br>积极的角度代表(right angles)，负角度代表(left angles)。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">background</span><span class="selector-pseudo">:-moz-linear-gradient(10deg</span>,<span class="selector-tag">red</span>,<span class="selector-tag">green</span>,<span class="selector-tag">yellow</span>);</div></pre></td></tr></table></figure>
<p>角度为水平方向逆时针向上旋转10°</p>
<p>当指定的角度，请记住，它是一个由水平线与渐变线产生的的角度，逆时针方向。因此，使用0deg将产生一个左到右横向梯度，而90度将创建一个从底部到顶部的垂直渐变。</p>
<h2 id="webkit-gradient"><a href="#webkit-gradient" class="headerlink" title="webkit-gradient"></a>webkit-gradient</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">webkit核心浏览器下的的基本语法如下：</div><div class="line">-webkit-gradient(type, start_point, end_point, / stop...) </div><div class="line">-webkit-gradient(type, inner_center, inner_radius, outer_center, outer_radius, / stop...)</div><div class="line"></div><div class="line"></div><div class="line">参数</div><div class="line">参数类型	简要说明</div><div class="line">type	渐变的类型，可以是线性渐变(linear)或是径向渐变(radial)</div><div class="line">start_point	渐变图像中渐变的起始点</div><div class="line">end_point	渐变图像中渐变的结束点</div><div class="line">stop	color-stop()方法，指定渐变进程中特定的颜色</div><div class="line">inner_center	内部中心点，径向渐变起始圆环</div><div class="line">inner_radius	内部半径，径向渐变起始圆</div><div class="line">outer_center	外部渐变结束圆的中心点</div><div class="line">outer_radius	外部渐变结束圆的半径</div></pre></td></tr></table></figure>
<p>关于参数的具体说明</p>
<ol>
<li>start_point 和 end_point</li>
<li>划一条渐变线，会有起始点和结束点，这个起始点和结束点就对应这里的start_point和end_point参数</li>
</ol>
<p>start_point(x1,x2)，end_point(x2,y2)，这里的 x,y 对应左上角为起点的坐标，<br>此处的x,y参数表示与CSS中的background-position是一致的，可以使像素值，或是百分比值或是left,top,right,bottom。</p>
<p>当x1等于x2，y1不等于y2，实现垂直渐变，调整y1，y2的值可以调整渐变半径大小；<br>当y1等于y2，x1不等于x2，实现水平渐变，调整x1，x2的值可以调整渐变半径大小；<br>当y1不等于y2，x1不等于x2，实现角度渐变，当x1,x2,y1,y2取值为极值的时候接近垂直渐变或水平渐变；<br>当x1等于x2，y1等于y2，实现没有渐变，取from色，即 <strong>from(颜色值)</strong> ；</p>

	
	</div>
  <a type="button" href="/2014/11/02/2014-11-02-css 中的度量/#more" class="btn btn-default more">阅读此文</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2014-10-31 </div>
			<div class="article-title"><a href="/2014/10/31/2014-08-21-jquery基本用法/" >jquery 基础用法</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
	
	
		<p>整理了这些作为下阶段读源码前的知识储备，同时分享给大家。共勉。</p>
<h2 id="总述"><a href="#总述" class="headerlink" title="总述"></a>总述</h2><p>jQuery 框架提供了很多方法，但大致上可以分为3 大类：</p>
<ol>
<li>获取jQuery 对象的方法</li>
<li>在jQuery 对象间跳转的方法</li>
<li>获取jQuery 对象后调用的方法</li>
</ol>
<h3 id="获取-jQuery-对象"><a href="#获取-jQuery-对象" class="headerlink" title="获取 jQuery 对象"></a>获取 jQuery 对象</h3><p>是怎样获取jQuery 对象。大致来说，是通过最核心的<code>$()</code>方法，将页面上的元素（或者在页面上不存在的 html 片段）包装成 jQuery 对象。<br><code>$()方法</code>里面支持的语法又包括：</p>
<ol>
<li>分别是表达式（包括类表达式.，id 表达式#，元素表达式等）</li>
<li>符号（包括后代符号space，next 符号+等)</li>
<li>过滤器（包括:过滤器和[]过滤器）</li>
<li>现在显然还有更多</li>
</ol>
<p>通过以上组合，通过选择器 <code>$()</code> 可”查询“得到 jQuery 对象（或者jQuery 对象的集合）。</p>
<h3 id="对象跳转"><a href="#对象跳转" class="headerlink" title="对象跳转"></a>对象跳转</h3><p>是在jQuery 对象间的跳转。也就是说，已经得到了一个jQuery 对象，但并不是想要的，那么可以通过一系列的跳转方法，比如<em>parent()、next()、children()、find()</em>等，或者过滤筛选的方法，比如<em>eq、filter()、not()</em>等，来得到最终想要操作的jQuery 对象。</p>
<p>用跳转和过滤方式得到的jQuery 结果，往往通过比较复杂的表达式组合，可以达到同样的目的。<br>比如说 <code>$(&quot;div&quot;).eq(3)</code>，也可以用<code>$(&quot;div:eq(3)&quot;)</code> 达到同样的目的。<br>又比如说<code>$(&quot;div&quot;).find(&quot;span&quot;)</code>，可以用<code>$(&quot;div span&quot;)</code>取到同样的元素。</p>
<p>方法是很灵活的，要根据具体的情况来选择。根据经验来说，HTML 页面写得越规范，使用 jQuery 就越简单。</p>
<p>还有一种情况，在得到了jQuery()对象之后，想要判断其是否满足条件，那么可以调用 ==is()、hasClass()==等方法，返回一个boolean 值，进行后续的判断。这类方法也可以归到这类。</p>
<h3 id="方法调用"><a href="#方法调用" class="headerlink" title="方法调用"></a>方法调用</h3><p>在获取准确的 jQuery 对象之后，调用其上的各种方法，来进行操作。这一步反而是比较简单的了。<br>后面就是对 jQuery 框架各种方法的简要介绍。</p>
<h3 id="常用API"><a href="#常用API" class="headerlink" title="常用API"></a>常用API</h3><p>####$(…);</p>
<pre><code>/**
 *  一切的核心，可以跟4 种参数。
 */
$();

/**
 *  返回jQuery 对象或者jQuery 对象的集合
 *  比如$(&quot;#id&quot;)、$(&quot;.class&quot;)
 */
$(expression);

/**
 *  返回jQuery 对象，或者jQuery 对象的集合
 *  比如$(&quot;&lt;span&gt;hello world&lt;/span&gt;&quot;)
 */
$(html)

/**
 *  返回jQuery 对象，或者jQuery 对象的集合
 *  比如$(document.body)
 */
$(element)

/**
 *  所有元素
 */
$(*)
```
</code></pre><h4 id="jQuery-对象获取"><a href="#jQuery-对象获取" class="headerlink" title="jQuery 对象获取"></a>jQuery 对象获取</h4><pre><code>```javascript

/**
 *  返回该jQuery 对象在集合中的索引
 */
jQuery.index(element);

/**
 *  遍历jQuery 对象集合，在每个对象上执行 callback 函数，
 *  function callback(index, domElement){
 *    this //DOMElement
 *  };
 */
jQuery.each(function);

/**
 *  返回 jQuery 对象集合的大小
 */
jQuery.size();

/**
 *  相当于size()方法
 */
jQuery.length

/**
 *  获取原生 DomElement 对象的 Array,
 *  即将 jQuery 对象转成 数组对象，
 *  虽然 jQuery 对象也有 length 属性，且可用下标读写
 *  但并非是数组对象。
 */
jQuery.get()

/**
 *  获取原生 DomElement 对象
 */
jQuery.get(index)

/**
 *  获取 jQuery 对象集合中的一个 jQuery 对象
 */
jQuery.eq(position)
</code></pre><h4 id="Data-相关方法"><a href="#Data-相关方法" class="headerlink" title="Data 相关方法"></a>Data 相关方法</h4><p>在匹配的元素身上存值(store data)， <code>.data()</code> 方法允许在我们以一种安全的方式附加数据到 dom 元素，不会产生循环引用和内存泄露。</p>
<pre><code>jQuery.data(name)        // 取值
jQuery.data(name, value) // 赋值
jQuery.removeData(name)  // 清理

$( &quot;body&quot; ).data( &quot;foo&quot;, 52 );
$( &quot;body&quot; ).data( &quot;bar&quot;, { myType: &quot;test&quot;, count: 40 } );
$( &quot;body&quot; ).data( { baz: [ 1, 2, 3 ] } );
$( &quot;body&quot; ).data( &quot;foo&quot; ); // 52
$( &quot;body&quot; ).data(); // { foo: 52, bar: { myType: &quot;test&quot;, count: 40 }, baz: [ 1, 2, 3 ] }
</code></pre><h4 id="选择器"><a href="#选择器" class="headerlink" title="选择器"></a>选择器</h4><pre><code>/**
 *  多目标选择器
 *  可以选择多个元素或者表达式，
 *  包装成 jQuery 对象的集合
 *  例子：$(&quot;div,span&quot;)
 */

$(&quot;table tr td&quot;); //multiple(selector1, selector2)

$(&quot;#id &gt; span&quot;); //直接节点

$(&quot;label + input&quot;) //next(prev, next) 同级的紧挨着的下一个

$(&quot;#prev ~ div&quot;) // siblings(prev, siblings),同样要求是同级
</code></pre><h4 id="基本的过滤器"><a href="#基本的过滤器" class="headerlink" title="基本的过滤器"></a>基本的过滤器</h4><pre><code>$(&quot;:header&quot;);     // 所有 header, &lt;h1&gt;~&lt;h6&gt;
$(&quot;tr:odd&quot;);      // 选中所有奇数行
$(&quot;tr:even&quot;);     // 选中所有偶数行
$(&quot;:animated&quot;);   // 选中所有当前有特效的素
$(&quot;div:animated&quot;);// 选中运行动画的
$(&quot;tr:first&quot;);    // 选中第一行
$(&quot;tr:last&quot;);     // 选中最后一行
$(&quot;input:not(:checked)&quot;);  //选中所有没有“checked”
$(&quot;td:gt(4)&quot;);    // 选中所有index 是4 之后的td
$(&quot;td:lt(4)&quot;);    // 选中所有index 是4 之前的td

$(&quot;td:eq(4)&quot;);    // 选中index 是 4 的td
$(&quot;td&quot;).eq(4);    // 选中index 是 4 的td
</code></pre><h4 id="内容过滤选择器"><a href="#内容过滤选择器" class="headerlink" title="内容过滤选择器"></a>内容过滤选择器</h4><pre><code>$(&quot;div:contains(&apos;John&apos;)&quot;); // 选中所有包含&quot;John&quot;的div
$(&quot;td:empty&quot;);    // 选中所有内容为空的td
$(&quot;div:has(p)&quot;);  // 选中包含有&lt;p&gt;元素的&lt;div&gt;元素，返回jQuery 对象集合

$(&quot;td:parent&quot;);   //选中所有包含子节点的元素，包括文本也可以算是子节点
</code></pre><h4 id="可见性过滤器"><a href="#可见性过滤器" class="headerlink" title="可见性过滤器"></a>可见性过滤器</h4><pre><code>$(&quot;span:hidden&quot;);  // 选中所有隐藏的&lt;span&gt;
$(&quot;span:visible&quot;); // 选中所有可见的&lt;span&gt;
</code></pre><p>关于可见性，这里需要额外说明的。在老版本的 jQuery 中 ==<code>visibility:hidden;</code>是认为不可见的==，我有证据，</p>
<pre><code>Sizzle.selectors.filters.hidden = function(elem){
    return &quot;hidden&quot; === elem.type ||
        jQuery.css(elem, &quot;display&quot;) === &quot;none&quot; ||
        jQuery.css(elem, &quot;visibility&quot;) === &quot;hidden&quot;;
};
`
</code></pre><p>这段代码出自 <code>jquery-1.3.1.js</code>,然而到近代的版本中(在1.3.2就改了)</p>
<pre><code>jQuery.expr.filters.hidden = function( elem ) {
          var width = elem.offsetWidth,
              height = elem.offsetHeight;
          // 没有 visibility 什么事
          return ( width === 0 &amp;&amp; height === 0 ) || (!jQuery.support.reliableHiddenOffsets &amp;&amp; ((elem.style &amp;&amp; elem.style.display) || jQuery.css( elem, &quot;display&quot; )) === &quot;none&quot;);
      };
</code></pre><p>简单的说就是：==如果元素占用空间了，就认为是可见的。==只要不是0的都算可见的。 </p>
<p>所以，<code>visibility：hidden;</code> 或者 <code>opacity:0;</code> 由于占有空间，它们算事“可见”的。</p>
<h4 id="属性过滤器"><a href="#属性过滤器" class="headerlink" title="属性过滤器"></a>属性过滤器</h4><pre><code>$(&quot;div[id]&quot;);   // 选中包含 id 属性的div
$(&quot;input[name$=&apos;bc&apos;]&quot;);  // 选中 name 属性以 &apos;bc&apos; 结尾的 input
$(&quot;input[name^=&apos;letter&apos;]&quot;); // 选中属性 name 是以&apos;letter&apos;开头的 input
$(&quot;input[tag*=&apos;man&apos;]&quot;); // 属性tag里包含&apos;man&apos;
$(&quot;input[abc=&apos;def&apos;]&quot;); // 属性 abc 的值为 &apos;def&apos;

$(&quot;input[title!=&apos;722&apos;]&quot;);  // 选中属性 title 不包含&apos;722&apos;的
$(&quot;input[id][gender$=&apos;man&apos;]&quot;); // 选中包含id 属性，和以&apos;man&apos;结尾的属性 gender 的&lt;input&gt;元素
</code></pre><h4 id="孩子过滤器"><a href="#孩子过滤器" class="headerlink" title="孩子过滤器"></a>孩子过滤器</h4><pre><code>$(&quot;ul li:nth-child(2)&quot;); // 选中自身是&lt;ul&gt;元素的第二个子节点的&lt;li&gt;元素，注意这个计算是从 1 开始的，不是从0 开始
$(&quot;div span:firstChild&quot;); // 选中自身是&lt;div&gt;元素的第一个子节点的&lt;span&gt;元素
$(&quot;div span:lastChild&quot;); // 选中自身是&lt;div&gt;元素的最后一个子节点的&lt;span&gt;元素
</code></pre><h4 id="表单过滤器"><a href="#表单过滤器" class="headerlink" title="表单过滤器"></a>表单过滤器</h4><pre><code>$(&quot;:button&quot;);   //所有 &lt;button&gt; 和 &lt;input type=&quot;button&quot;&gt; 元素
$(&quot;form :checkbox&quot;)； // 选中所有&lt;form&gt;标签下的&lt;input type=&quot;checkbox&quot;&gt; 不过这样会比较慢

$(&quot;input:checkbox&quot;)； // 推荐

$(&quot;:file&quot;)； // 选中所有&lt;input type=&quot;file&quot;&gt;
$(&quot;:hidden&quot;); // 选中所有隐藏元素，以及&lt;input type=&quot;hidden&quot;&gt;
$(&quot;:input&quot;); // 选中所有&lt;input&gt;
$(&quot;:text&quot;);  // 选中所有&lt;input type=&quot;text&quot;&gt;
$(&quot;:password&quot;); // 选中所有&lt;input type=&quot;password&quot;&gt;
$(&quot;:radio&quot;);    // 选中所有&lt;input type=&quot;radio&quot;&gt;
$(&quot;input:radio&quot;);  // 最佳实践是这样

$(&quot;:image&quot;)； // 选中所有&lt;input type=&quot;image&quot;&gt;
$(&quot;:reset&quot;);  // 选中所有&lt;input type=&quot;reset&quot;&gt;
$(&quot;:submit&quot;); // 选中所有&lt;input type=&quot;submit&quot;&gt;

$(&quot;input:enabled&quot;); // 选中所有enabled 的&lt;input&gt;元素
$(&quot;input:disabled&quot;); // 选中所有disabled 的&lt;input&gt;元素
$(&quot;input:checked&quot;); // 选中所有 checked 的 checkbox
$(&quot;input:selected&quot;); // 选中所有 selected 的&lt;option&gt;元素
</code></pre><h4 id="属性相关的方法"><a href="#属性相关的方法" class="headerlink" title="属性相关的方法"></a>属性相关的方法</h4><pre><code>jQuery.removeAttr(name);
jQuery.attr(name); // 返回属性的值，比如$(&quot;img&quot;).attr(&quot;src&quot;)
jQuery.attr(key,value); // 这是设置属性的值
jQuery.attr(properties); // 也是设置属性的值

$(&quot;img&quot;).attr({
    src: &quot;/images/hat.gif&quot;,
    title: &quot;jQuery&quot;,
    alt: &quot;jQuery Logo&quot;
});

jQuery.attr(key,function); // function 计算出的结果，赋给key

// 在回调函数中
function callback(index) {
 // index == position in the jQuery object
 // this means DOM Element
}
</code></pre><h4 id="类相关的操作"><a href="#类相关的操作" class="headerlink" title="类相关的操作"></a>类相关的操作</h4><pre><code>jQuery.toggleClass(class); // 反复加减 class
jQuery.toggleClass(class,switch); // 增加一个 switch 表达式

// 表达式计算后返回 class 名称
$( &quot;div.foo&quot; ).toggleClass(function() {
  if ( $( this ).parent().is( &quot;.bar&quot; ) ) {
    return &quot;happy&quot;;
  } else {
    return &quot;sad&quot;;
  }
});

jQuery.hasClass(class)； // 返回boolean
jQuery.removeClass(class); // 去掉挂载的 class
jQueyr.addClass(class)； // 加载 class
</code></pre><h4 id="html相关的操作"><a href="#html相关的操作" class="headerlink" title="html相关的操作"></a>html相关的操作</h4><pre><code>jQuery.html()； // 返回包含的html 文本
jQuery.html(val); // 用val 替换包含的 html 文本,输入的代码会被执行
</code></pre><h4 id="文本相关的方法"><a href="#文本相关的方法" class="headerlink" title="文本相关的方法"></a>文本相关的方法</h4><pre><code>jQuery.text();  // 返回包含的纯文本，不会包括html 标签，比如&lt;span&gt;abcd&lt;/span&gt;，调用 .text() 方法，只会返回abcd，不会返回&lt;span&gt;abcd&lt;/span&gt;

jQuery.text(val); // 用 val 替换包含的纯文本，和html(val)方法的区别在于，所有的内容会被看作是纯文本，不会作为html 标签进行处理，比如调用.text(&quot;&lt;span&gt;abcd&lt;/span&gt;&quot;)，&lt;span&gt; 和 &lt;/span&gt;不会被认为是html 标签，而是作为纯文本显示了。
</code></pre><h4 id="值相关的操作"><a href="#值相关的操作" class="headerlink" title="值相关的操作"></a>值相关的操作</h4><pre><code>jQuery.val(); // 返回 string 或者array
jQuery.val(val); // 设置 string 值
jQuery.val(array); // 设置多个值，以上 3 个方法，主要都是用在表单标签里，如&lt;input type=&quot;text&quot;&gt;，&lt;input type=&quot;checkbox&quot;&gt;等
</code></pre><h4 id="在jQuery-对象之间查找"><a href="#在jQuery-对象之间查找" class="headerlink" title="在jQuery 对象之间查找"></a>在jQuery 对象之间查找</h4><p>需要弄清： ==文本和节点是两回事，在 DOM 里就分开了。==<br>    jQuery.parent(expr); // 找父亲节点，可以传入expr 进行过滤,比如</p>
<pre><code>$(&quot;span&quot;).parent();
$(&quot;span&quot;).parent(&quot;. class&quot;); // 用表达式过滤

jQuery.parents(expr); // 祖先元素，不限于父元素
jQuery.children(expr); // 返回所有子节点(不包括文本)，和 parents()方法不一样的是，这个方法只会返回直接的孩子节点，不会返回所有的子孙节点

jQuery.contents(); // 返回下面的所有内容，包括节点和文本。这个方法和 children()的区别就在于，包括空白文本，也会被作为一个jQuery 对象返回，children()则只会返回节点

jQuery.prev(); // 返回上一个兄弟节点，不是所有的兄弟节点
jQuery.prevAll(); // 返回所有之前的兄弟节点
jQuery.next(); // 返回下一个兄弟节点，不是所有的兄弟节点 (+)
jQuery.nextAll(); // 返回所有之后的兄弟节点(~)
jQuery.siblings(); // 返回兄弟姐妹节点，不分前后
jQuery.add(expr); // 往既有的jQuery 对象集合中增加新的jQuery 对象，例子：
$(&quot;div&quot;).add(&quot;p&quot;);

jQuery.find(expr); // 从当前的初始集合下去找,不会返回初始集合内容：
$(&quot;body&quot;).find(&quot;div&quot;);
// 等同于：
jQuery.find(&quot;body div&quot;);


jQuery.filter(expr); // 从初始的jQuery 对象集合中筛选出一部分
</code></pre><p>####串联方法</p>
<pre><code>jQuery.andSelf();  // 把最后一次查询前一次的集合,也增加到最终结果集中,比如:

$(&quot;div&quot;).find(&quot;p&quot;).andSelf(); 这样结果集中包括所有的&lt;p&gt;和&lt;div&gt;。如果是$(&quot;div&quot;).find(&quot;p&quot;),那就只有&lt;p&gt;，没有&lt;div&gt;

jQuery.end(); // 把最后一次查询前一次的集合，作为最终结果集，比如
$(&quot;p&quot;).find(&quot;span&quot;).end(); // 所有的&lt;p&gt;，没有&lt;span&gt;
</code></pre><h4 id="DOM-文档操作方法"><a href="#DOM-文档操作方法" class="headerlink" title="DOM 文档操作方法"></a>DOM 文档操作方法</h4><pre><code>a.append(b); // b 加到 a 上
$(&quot;div&quot;).append(&quot;&lt;span&gt;hello&lt;/span&gt;&quot;);

a.appendTo(b); // a 加到 b 上
$(&quot;&lt;span&gt;hello&lt;/span&gt;&quot;).appendTo(&quot;#div&quot;)； 

$(&quot;span&quot;).appendTo(&quot;div&quot;); //隐藏的 move，移动元素

/* 比如在：

 &lt;div id=&apos;a&apos;&gt;a: &lt;span&gt; hello &lt;/span&gt; &lt;/div&gt;
 &lt;div id=&apos;b&apos;&gt;b: &lt;/div&gt;

 经过

 $(&apos;span&apos;).appendTo(&quot;#b&quot;);
</code></pre><p> 结果会是正样：</p>
<pre><code>a:
b: hello
</code></pre><p> 接下来，</p>
<pre><code>jQuery.prepend(content); // 在选择元素的内部第一个位置插入


a.prependTo(b); // a 插到 b 内部的排头位置

jQuery.after(content); 注意是 content，在外部插入，插入到后面，比如
$(&quot;#foo&quot;).after(&quot;&lt;span&gt;hello&lt;/span&gt;&quot;); // 参数是内容，不能是选择器

jQuery.insertAfter(selector)；// 允许是选择器
$(&quot;&lt;span&gt;hello&lt;/span&gt;&quot;).insertAfter(&quot;#foo&quot;);

jQuery.before(content); // 在外部插入，插入到前面, 参数不是选择器

jQuery.insertBefore(selector); // 外面插入

jQuery.wrapInner(html); // 在内部插入标签，比如
$(&quot;p&quot;).wrapInner(&quot;&lt;span&gt;&lt;/span&gt;&quot;);

jQuery.wrap(html); // 在外部插入标签，比如
$(&quot;p&quot;).wrap(&quot;&lt;div&gt;&lt;/div&gt;&quot;); // 所有的 p 都会被各自的div 包裹

jQuery.wrapAll(html); // 所选元素会被同一个大的 html 整个的全部包裹

jQuery.replaceWith(content); 比如
$(this).replaceWith(&quot;&lt;div&gt;&quot;+$(this).text()+&quot;&lt;/div&gt;&quot;);

jQuery.replaceAll(selector);
$(&quot;&lt;div&gt;hello&lt;/div&gt;&quot;).replaceAll(&quot;p&quot;);

jQuery.empty();
$(&quot;p&quot;).empty(); // 从娃娃做起，会把&lt;p&gt;下面的所有子节点清空,但不清理 p

jQuery.remove(expr);
$(&quot;p&quot;).remove(); // 从自身做起，会把所有&lt;p&gt;移除，可以用表达式做参数，进行过滤
</code></pre><p>// 表面看跟 remove 做的一样，删除元素；<br>// 但是保留了元素中的数据或事件, 通过返回值返回，留存后用，<br>// 需要时候随时能补上去，绑定的数据事件不受影响。<br>    jQuery.detach();</p>
<pre><code>jQuery.clone([withDataAndEvents ] ));
</code></pre><p>使用案例</p>
<p>在使用 append 的时候，隐约的我们发现了它具有移动的功效：</p>
<pre><code>&lt;div class=&quot;container&quot;&gt;
  &lt;div class=&quot;hello&quot;&gt;Hello&lt;/div&gt;
  &lt;div class=&quot;goodbye&quot;&gt;Goodbye&lt;/div&gt;
&lt;/div&gt;

$( &quot;.hello&quot; ).appendTo( &quot;.goodbye&quot; );
</code></pre><p>结果变成了这样：</p>
<pre><code>&lt;div class=&quot;container&quot;&gt;
  &lt;div class=&quot;goodbye&quot;&gt;
    Goodbye
    &lt;div class=&quot;hello&quot;&gt;Hello&lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
</code></pre><p>如果我们的需求是额外的拷贝一份元素到目的地：</p>
<pre><code>$( &quot;.hello&quot; ).clone().appendTo( &quot;.goodbye&quot; );

这样会更方便，结果会是这样：

    &lt;div class=&quot;container&quot;&gt;
      &lt;div class=&quot;hello&quot;&gt;Hello&lt;/div&gt;
      &lt;div class=&quot;goodbye&quot;&gt; 
        Goodbye 
        &lt;div class=&quot;hello&quot;&gt;Hello&lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
</code></pre><p>clone 的用法也分两种：</p>
<pre><code>clone(true);  // 克隆，并且连带数据和绑定的事件
clone()/clone(false); // 克隆，表面结构
</code></pre><h4 id="CSS-相关方法"><a href="#CSS-相关方法" class="headerlink" title="CSS 相关方法"></a>CSS 相关方法</h4><pre><code>jQuery.css(name); // 获取一个 css 属性的值，比如
$(&quot;p&quot;).css(&quot;color&quot;)

jQuery.css(object); // 设置css 属性的值，比如
$(&quot;p&quot;).css({
     &quot;color&quot;:&quot;red&quot;,
     &quot;border&quot;:&quot;1px red solid&quot;
  });

jQuery.css(name,value);
$(&quot;p&quot;).css(&quot;color&quot;,&quot;red&quot;);
</code></pre><h4 id="位置计算相关方法"><a href="#位置计算相关方法" class="headerlink" title="位置计算相关方法"></a>位置计算相关方法</h4><pre><code>jQuery.scrollLeft(); // 设置滚动条偏移，这个方法对可见元素或不可见元素都生效
jQuery.scrollTop();  // 设置滚动条偏移，这个方法对可见元素或不可见元素都生效

jQuery.offset();     // 计算偏移量，返回值有 2 个属性，分别是 top 和left

jQuery.position();  // 计算位置，返回值也有2 个属性，top 和 left,返回：

[object Object] {
  left: 34.546875,
  top: 11
}
</code></pre><p>这里需要额外补充：</p>
<blockquote>
<p>The .offset() method allows us to retrieve the current position of an element relative to the document. Contrast this with .position(), which retrieves the current position relative to the offset parent.</p>
</blockquote>
<p>简单来说就是：==offset 是相对于 document，而 position 相对于父元素。==</p>
<h4 id="宽度和高度计算相关方法"><a href="#宽度和高度计算相关方法" class="headerlink" title="宽度和高度计算相关方法"></a>宽度和高度计算相关方法</h4><p>这组方法需要结合CSS 的盒子模型来理解，margin 始终不参与计算</p>
<pre><code>jQuery.height();     // 计算的是 content
jQuery.innerHeight();  // 计算的是 content+padding
jQuery.outerHeight(); // 计算的是content+padding+border

jQuery.width();
jQuery.innerWidth();
jQuery.outerWidth();
</code></pre><h4 id="浏览器及特性检测"><a href="#浏览器及特性检测" class="headerlink" title="浏览器及特性检测"></a>浏览器及特性检测</h4><pre><code>$.support，可以检测当前浏览器是否支持下列属性，返回boolean。包括boxModel、cssFloat、
opacity、tbody 等
$.browser，检测当前浏览器类型，返回一个map，其中可能的值有safari、opera、msie、mozilla
</code></pre><h4 id="数据缓存方法"><a href="#数据缓存方法" class="headerlink" title="数据缓存方法"></a>数据缓存方法</h4><p>// 该类方法是jQuery.data()方法和jQuery.removeData()的另一种形式，增加的elem 参数是DOM Element</p>
<pre><code>$.data(elem, name);// 取出elem 上name 的值
$.data(elem, name, value); // 设置elem,name为 value
$.removeData(elem, name); //删除 elem 上的 name
$.removeData(elem); // 删除elem 上的所有缓存数据
</code></pre><h4 id="工具方法"><a href="#工具方法" class="headerlink" title="工具方法"></a>工具方法</h4><pre><code>$.isArray(obj); // 检测一个对象是否是数组
$.isFunction(obj); // 检测一个对象是否是函数
$.trim(str); // 去除string 的空格

$.( value, array [, fromIndex ] )
$.inArray(value, array); // 返回value 在array 中的下标， 如果没有找到则返回-1

$.inArray(123, [&quot;john&quot;,1,123,&quot;f&quot;]); // return2

$.unique(array); // 去除array 中的重复元素，该方法只对DOM Element 有效，对string 和 number 无效
</code></pre><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>最后，由于篇幅限制，把最重要的 <code>事件绑定</code> 和 <code>ajax</code> 独立出来，并且也还没写完呢，先到这里。</p>

	
	</div>
  <a type="button" href="/2014/10/31/2014-08-21-jquery基本用法/#more" class="btn btn-default more">阅读此文</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2014-10-31 </div>
			<div class="article-title"><a href="/2014/10/31/2014-11-03-mvc-backbone/" >尝试山寨Backbone</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
	
	
		<p>前几天梳理了下 MVC 的知识,准备好基础,现在开始学习 BackBone.js 。</p>

	
	</div>
  <a type="button" href="/2014/10/31/2014-11-03-mvc-backbone/#more" class="btn btn-default more">阅读此文</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2014-10-31 </div>
			<div class="article-title"><a href="/2014/10/31/2013-11-15-尝试山寨Backbone/" >mvc-backbone</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
	
	
		<p>学习了 BackBone.js, 为了更加深刻的理解，尝试山寨之。</p>

	
	</div>
  <a type="button" href="/2014/10/31/2013-11-15-尝试山寨Backbone/#more" class="btn btn-default more">阅读此文</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2014-10-31 </div>
			<div class="article-title"><a href="/2014/10/31/2014-10-31-mvc/" >mvc之投石问路</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
	
	
		<h2 id="什么是MVC"><a href="#什么是MVC" class="headerlink" title="什么是MVC"></a>什么是MVC</h2><p>MVC 是一种设计模式，它将应用划分为3 个部分：数据（模型）、展现层（视图）和用户交互层（控制器）。换句话说，一个事件的发生是这样的过程：<br>1． 用户和应用产生交互。<br>2． 控制器的事件处理器被触发。<br>3． 控制器从模型中请求数据，并将其交给视图。<br>4． 视图将数据呈现给用户。</p>
<p>现在来看一个真实的例子</p>
<p>1． 用户提交一个新的聊天消息。<br>2． 控制器的事件处理器被触发。<br>3． 控制器创建了一个新的聊天模型（Chat Model）记录。<br>4． 然后控制器更新视图。<br>5． 用户在聊天窗口看到新的聊天消息。</p>
<h2 id="模型"><a href="#模型" class="headerlink" title="模型"></a>模型</h2><p>模型用来存放应用的所有数据对象。比如，可能有一个User 模型，用以存放用户列表、他们的属性及所有与模型有关的逻辑。<br>模型不必知晓视图和控制器的细节，模型只需包含数据及直接和这些数据相关的逻辑。任何事件处理代码、视图模板，以及那些和模型无关的逻辑都应当隔离在模型之外。</p>
<blockquote>
<p>将模型和视图的代码混在一起，是违反MVC 架构原则的。模型是最应该从你的应用中解<br>耦出来的部分。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> user = User.find(<span class="string">'foo'</span>);</div><div class="line">user.destroy();</div></pre></td></tr></table></figure>
<p>当控制器从服务器抓取数据或创建新的记录时，它就将数据包装成模型实例。</p>
<h2 id="视图"><a href="#视图" class="headerlink" title="视图"></a>视图</h2><p>视图层是呈现给用户的，用户与之产生交互。在JavaScript 应用中，视图大都是由HTML、CSS 和JavaScript 模板组成的。</p>
<p>实际上，和模型类似，视图也应当从应用的其他部分中解耦出来。视图不必知晓模型和控制器中的细节，它们是相互独立的。</p>
<blockquote>
<p>将逻辑混入视图之中是编程的大忌。</p>
</blockquote>
<p>##控制器<br>控制器是模型和视图之间的纽带。控制器从视图获得事件和输入，对它们进行处理（很可能包含模型），并相应地更新视图。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> Controller = &#123;&#125;;</div><div class="line"></div><div class="line"><span class="comment">// 使用匿名函数来封装一个作用域</span></div><div class="line">(Controller.users = <span class="function"><span class="keyword">function</span>(<span class="params">$</span>)</span>&#123;</div><div class="line"></div><div class="line">	<span class="keyword">var</span> nameClick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">		<span class="comment">/* ... */</span></div><div class="line">	&#125;;</div><div class="line"></div><div class="line">	<span class="comment">// 在页面加载时绑定事件监听</span></div><div class="line">	$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">		$(<span class="string">"#view .name"</span>).click(nameClick);</div><div class="line">	&#125;);</div><div class="line"></div><div class="line">&#125;)(jQuery);</div></pre></td></tr></table></figure>

	
	</div>
  <a type="button" href="/2014/10/31/2014-10-31-mvc/#more" class="btn btn-default more">阅读此文</a>
</div>

		

		</div>

		<!-- pagination -->
		<div>
  		<center>
		<div class="pagination">
<ul class="pagination">
	 
		
    	<li class="prev"><a href="/page/7/" class="alignleft prev"><i class="fa fa-arrow-circle-o-left"></i> 上一页</a></li>
  		

        <li><a href="/"><i class="fa fa-home"></i>Home</a></li>

		
		   <li class="next"> <a href="/page/9/" class="alignright next">下一页<i class="fa fa-arrow-circle-o-right"></i></a> </li>          
        
	
</ul>
</div>

  		</center>
		</div>

		
		
	</div> <!-- col-md-9 -->

	
		<div class="col-md-3">
	<div id="sidebar">
	
			
  <div class="form-group has-success has-feedback" id="site_search">
    <form class="site-search-form">
        <input type="text" id="st-search-input" name="q" results="0" placeholder="搜索" class="st-search-input st-default-search-input form-control" />
    </form>
  </div>  


		
			
	<div class="widget">
		<h4>分类</h4>
		<ul class="tag_box inline list-unstyled">
		
			<li><a href="/categories/Sports/Baseball/">Baseball<span>2</span></a></li>
		
			<li><a href="/categories/Sports/">Sports<span>2</span></a></li>
		
			<li><a href="/categories/bom/">bom<span>1</span></a></li>
		
			<li><a href="/categories/collection/">collection<span>1</span></a></li>
		
			<li><a href="/categories/css/">css<span>1</span></a></li>
		
			<li><a href="/categories/http/">http<span>1</span></a></li>
		
			<li><a href="/categories/javascript-template/">javascript template<span>1</span></a></li>
		
			<li><a href="/categories/javascript-test/">javascript test<span>1</span></a></li>
		
			<li><a href="/categories/jquery/">jquery<span>1</span></a></li>
		
			<li><a href="/categories/library/">library<span>2</span></a></li>
		
			<li><a href="/categories/note/">note<span>1</span></a></li>
		
			<li><a href="/categories/note-vim/">note vim<span>2</span></a></li>
		
			<li><a href="/categories/tool/">tool<span>3</span></a></li>
		
		</ul>
	</div>

		
			
	<div class="widget">
		<h4>标签云</h4>
		<ul class="tag_box inline list-unstyled">		
		
			<li><a href="/tags/database-linux/">database linux<span>1</span></a></li>
		
			<li><a href="/tags/tools/">tools<span>2</span></a></li>
		
			<li><a href="/tags/hg/">hg<span>1</span></a></li>
		
			<li><a href="/tags/javascript-regexp/">javascript regexp<span>1</span></a></li>
		
			<li><a href="/tags/polymer/">polymer<span>3</span></a></li>
		
			<li><a href="/tags/css/">css<span>7</span></a></li>
		
			<li><a href="/tags/jquery/">jquery<span>3</span></a></li>
		
			<li><a href="/tags/seajs/">seajs<span>1</span></a></li>
		
			<li><a href="/tags/webcomponent/">webcomponent<span>2</span></a></li>
		
			<li><a href="/tags/document/">document<span>1</span></a></li>
		
			<li><a href="/tags/build/">build<span>2</span></a></li>
		
			<li><a href="/tags/html/">html<span>2</span></a></li>
		
			<li><a href="/tags/javascript-test/">javascript test<span>1</span></a></li>
		
			<li><a href="/tags/framework/">framework<span>1</span></a></li>
		
			<li><a href="/tags/Fight/">Fight<span>2</span></a></li>
		
			<li><a href="/tags/webponent/">webponent<span>1</span></a></li>
		
			<li><a href="/tags/test/">test<span>2</span></a></li>
		
			<li><a href="/tags/default/">default<span>1</span></a></li>
		
			<li><a href="/tags/mobile/">mobile<span>1</span></a></li>
		
			<li><a href="/tags/w3c/">w3c<span>1</span></a></li>
		
		
		   <li><a href="/tags">...<span>38</span></a></li>
		 
		</ul>
	</div>


		
			
<div class="widget">
  <h4>最新文章</h4>
  <ul class="entry list-unstyled">
    
      <li>
        <a href="/2017/01/02/新的一年-2017/" ><i class="fa fa-file-o"></i>新的一年, 2017</a>
      </li>
    
      <li>
        <a href="/2015/10/27/what_is_true/" ><i class="fa fa-file-o"></i>实际情况是什么样的</a>
      </li>
    
      <li>
        <a href="/2015/10/23/软件设计原则/" ><i class="fa fa-file-o"></i>软件设计原则</a>
      </li>
    
      <li>
        <a href="/2015/10/23/测试工具-Mock-的使用-资料整理中/" ><i class="fa fa-file-o"></i>测试工具 Mock 的使用(资料整理中)</a>
      </li>
    
      <li>
        <a href="/2015/10/23/怎么写出好代码/" ><i class="fa fa-file-o"></i>怎么写出好代码</a>
      </li>
    
  </ul>
</div>

		
			
<div class="widget">
	<h4>链接</h4>
	<ul class="blogroll list-unstyled">
	
		<li><i class="fa fa-github"></i><a href="https://github.com/chenyakun" title="My Github repository." target="_blank"]);">My Github</a></li>
	
	</ul>
</div>


		
	</div> <!-- sidebar -->
</div> <!-- col-md-3 -->

	
	
</div> <!-- row-fluid -->
	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
  &copy; 2017 yakun.cyk
  
      with help from <a href="http://hexo.io/" target="_blank">Hexo</a> and <a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a>. Theme by <a href="http://github.com/wzpan/hexo-theme-freemind/">Freemind</a>.    
</p> </footer>
</div> <!-- container-narrow -->
  
  <script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
    (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
    e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install', 'ZP2ZSuHgipSZfRyU8uTR','2.0.0');
  </script>



  
<a id="gotop" href="#">   
  <span>▲</span> 
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/search.js"></script> 


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



   <script type="text/javascript">      
     var search_path = "search.xml";
	 if (search_path.length == 0) {
	 	search_path = "search.xml";
	 }
	 var path = "/" + search_path;
     searchFunc(path, 'local-search-input', 'local-search-result');
   </script>

</body>
   </html>
