<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>第 8 页 | output stream</title>
  <meta name="author" content="yakun.cyk">
  
  <meta name="description" content="主要内容可能关于 web 技术，感慨心得...">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="output stream"/>

  
    <meta property="og:image" content="undefined"/>
  

  
  
    <link href="/favicon.png" rel="icon">
  
  
  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  



</head>

 <body>  
  <nav id="main-nav" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
	    <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
	  <a class="navbar-brand" href="/">output stream</a>
      <div class="collapse navbar-collapse nav-menu">
		    <ul class="nav navbar-nav">
    		  
    		  <li>
    			 <a href="/demos" title="Demos.">
            <i class="fa fa-flask"></i>Demos
    			 </a>
    		  </li>
    		  
    		  <li>
    			 <a href="/archives" title="All the articles.">
            <i class="fa fa-archive"></i>归档
    			 </a>
    		  </li>
    		  
    		  <li>
    			 <a href="/about" title="About me.">
            <i class="fa fa-user"></i>关于我
    			 </a>
    		  </li>
    		  
    		  <li>
    			 <a href="/#" title="Search Posts.">
            <i class="fa fa-search"></i>搜索
    			 </a>
    		  </li>
    		  
    		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 <div class="row page">

	
	<div class="col-md-9">
	

		<div class="slogan">
      <!--
        <i class="fa fa-heart"></i> 
      -->
      
</div>    
		<div id="top_search"></div>
		<div class="mypage">
		
		<!-- title and entry -->
		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2014-11-09 </div>
			<div class="article-title"><a href="/2014/11/09/2014-11-09-length==+length/" >length==+length</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
	
	
		<p>读 underscroe 源码的时候看到了</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> length = obj.length;</div><div class="line"></div><div class="line"> <span class="keyword">if</span> (length === +length) &#123;</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line"> &#125;</div></pre></td></tr></table></figure>
<p>符号会尝试把后面的 length 转成数字，比如 +”1” =&gt; 1, 同样 -“1” =&gt; -1</p>
<p>所以，+length 的目的就是如果 length 不是数字的化，就要转成数字。</p>
<blockquote>
<p>NaN === NaN 返回false</p>
<p>null === null 返回 true</p>
</blockquote>
<p>但这还不是最终目的:</p>
<ol>
<li><p>如果 length 赋值为 undefined，</p>
<p>因为 +undefined =&gt; NaN, 并且 NaN 不等 NaN</p>
<p>所以 length==+length 可以排除 length 为 undefinde 的情况.</p>
</li>
<li><p>如果 length 赋值为 null，</p>
<p>因为 +null =&gt; 0,  从而，null === 0 同样返回false</p>
<p>所以 length==+length 可以排除 length 为 null 的情况.</p>
</li>
</ol>
<p>最终实现了 只有 length 是 <strong>数字</strong> 或者 <strong>数字字符串</strong> 的目的。</p>

	
	</div>
  <a type="button" href="/2014/11/09/2014-11-09-length==+length/#more" class="btn btn-default more">阅读此文</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2014-11-09 </div>
			<div class="article-title"><a href="/2014/11/09/2014-11-09-javascript协议限定符/" >javascript协议限定符</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
	
	
		<p>javascript: URL可以用在可以使用常规URL的任意地方, 比如<a>标记的href属性，</a></p>
<p><form>的action属性，甚至window.open() 方法的参数.</form></p>

	
	</div>
  <a type="button" href="/2014/11/09/2014-11-09-javascript协议限定符/#more" class="btn btn-default more">阅读此文</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2014-11-09 </div>
			<div class="article-title"><a href="/2014/11/09/2014-11-09-code-skill-collection/" >code-skill</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
	
	
		<h3 id="带前缀方法声明"><a href="#带前缀方法声明" class="headerlink" title="带前缀方法声明"></a>带前缀方法声明</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> thisFunc,</div><div class="line">		prefixList = [<span class="string">'webkit'</span>, <span class="string">'moz'</span>, <span class="string">'ms'</span>];</div><div class="line">	</div><div class="line">	<span class="comment">//check each method for availability, when one is found,</span></div><div class="line">	<span class="comment">//use that</span></div><div class="line">	<span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i &lt; <span class="number">2</span>; i++) &#123;</div><div class="line">		thisFunc = prefixList[i] + <span class="string">'RequestAnimationFrame'</span>;</div><div class="line"></div><div class="line">		<span class="keyword">if</span>(<span class="built_in">window</span>[thisFunc]) &#123;</div><div class="line">			<span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">callback</span>) </span>&#123;</div><div class="line">				<span class="built_in">window</span>[thisFunc](callback);</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	&#125;</div></pre></td></tr></table></figure>
<h3 id="Function-prototype-bind-创建函数"><a href="#Function-prototype-bind-创建函数" class="headerlink" title="Function.prototype.bind 创建函数"></a>Function.prototype.bind 创建函数</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">someFunction() &#123; </div><div class="line">   <span class="keyword">this</span>.x = <span class="number">54</span>;	</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> goOut = &#123;</div><div class="line">	<span class="attr">x</span>: <span class="number">722</span></div><div class="line">&#125; </div><div class="line"></div><div class="line"><span class="keyword">var</span> newLife = someFunction.bind(goOut);</div><div class="line">newLife(); <span class="comment">// this.x =&gt; 722</span></div><div class="line"></div><div class="line"><span class="comment">// another one </span></div><div class="line"><span class="comment">// 偷梁换柱</span></div><div class="line">[<span class="string">"log"</span>, <span class="string">"info"</span>, <span class="string">"warn"</span>, <span class="string">"error"</span>].forEach(<span class="function"><span class="keyword">function</span>(<span class="params">method</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>[method] = <span class="built_in">console</span>[method].bind(</div><div class="line">        <span class="built_in">console</span>, <span class="comment">// used for `this`</span></div><div class="line">        <span class="keyword">new</span> <span class="built_in">Date</span>().toISOString()</div><div class="line">    );</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="随机整数"><a href="#随机整数" class="headerlink" title="随机整数"></a>随机整数</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="comment">// '|' 对它的整型操作数逐位执行布尔或(OR) 操作。</span></div><div class="line"><span class="comment">// 如果其中一个操 作数相应的位为1 ，或者两个操作数相应位都是1 ，那么结果中的这一位就为1</span></div><div class="line"><span class="built_in">Math</span>.random()*<span class="number">10</span>|<span class="number">0</span> <span class="comment">// 按位或()</span></div><div class="line"><span class="built_in">Math</span>.random()*<span class="number">16</span>|<span class="number">0</span></div></pre></td></tr></table></figure>
<h3 id="数组转换"><a href="#数组转换" class="headerlink" title="数组转换"></a>数组转换</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 类数组转数组</span></div><div class="line"><span class="keyword">var</span> args = [].slice.call(<span class="built_in">arguments</span>);</div><div class="line"></div><div class="line"><span class="comment">// 数组转字符串(数组元素连到一块儿)</span></div><div class="line"><span class="keyword">var</span> strs = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>].join(<span class="string">","</span>);</div><div class="line"></div><div class="line"><span class="comment">// 字符串转数组</span></div><div class="line"><span class="keyword">var</span> arr = <span class="string">"1,2,3"</span>.split(<span class="string">","</span>);</div></pre></td></tr></table></figure>
<h3 id="改写setTimeout"><a href="#改写setTimeout" class="headerlink" title="改写setTimeout"></a>改写setTimeout</h3><p>改进setTimeout方法，让其返回一个deferred对象。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">doSomethingLater</span>(<span class="params">fn, time</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> dfd = $.Deferred();</div><div class="line">  setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    dfd.resolve(fn());</div><div class="line">  &#125;, time || <span class="number">0</span>);</div><div class="line">  <span class="keyword">return</span> dfd.promise();</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> promise = doSomethingLater(<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="built_in">console</span>.log( <span class="string">'已经延迟执行'</span> );</div><div class="line">&#125;, <span class="number">100</span>);</div></pre></td></tr></table></figure>
<h3 id="批量创建函数"><a href="#批量创建函数" class="headerlink" title="批量创建函数"></a>批量创建函数</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 引子,比 typeof运算符 更准的类型判断函数</span></div><div class="line"><span class="keyword">var</span> type = <span class="function"><span class="keyword">function</span> (<span class="params">o</span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> s = <span class="built_in">Object</span>.prototype.toString.call(o);</div><div class="line">    <span class="keyword">return</span> s.match(<span class="regexp">/\[object (.*?)\]/</span>)[<span class="number">1</span>].toLowerCase();</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="comment">// 主角</span></div><div class="line">[<span class="string">'Null'</span>,</div><div class="line"> <span class="string">'Undefined'</span>,</div><div class="line"> <span class="string">'Object'</span>,</div><div class="line"> <span class="string">'Array'</span>,</div><div class="line"> <span class="string">'String'</span>,</div><div class="line"> <span class="string">'Number'</span>,</div><div class="line"> <span class="string">'Boolean'</span>,</div><div class="line"> <span class="string">'Function'</span>,</div><div class="line"> <span class="string">'RegExp'</span>,</div><div class="line"> <span class="string">'Element'</span>,</div><div class="line"> <span class="string">'NaN'</span>,</div><div class="line"> <span class="string">'Infinite'</span></div><div class="line">].forEach(<span class="function"><span class="keyword">function</span> (<span class="params">t</span>) </span>&#123;</div><div class="line">    type[<span class="string">'is'</span> + t] = <span class="function"><span class="keyword">function</span> (<span class="params">o</span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> type(o) === t.toLowerCase();</div><div class="line">    &#125;;</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// =&gt;</span></div><div class="line">type(&#123;&#125;); <span class="comment">// "object"</span></div><div class="line">type([]); <span class="comment">// "array"</span></div><div class="line">type(<span class="number">5</span>); <span class="comment">// "number"</span></div><div class="line">type(<span class="literal">null</span>); <span class="comment">// "null"</span></div><div class="line">type(); <span class="comment">// "undefined"</span></div><div class="line">type(<span class="regexp">/abcd/</span>); <span class="comment">// "regex"</span></div><div class="line">type(<span class="keyword">new</span> <span class="built_in">Date</span>()); <span class="comment">// "date"</span></div></pre></td></tr></table></figure>
<h3 id="判断是否为对象"><a href="#判断是否为对象" class="headerlink" title="判断是否为对象"></a>判断是否为对象</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">   <span class="comment">// 如果 Object 函数的参数是对象，它总是返回原对象</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">isObject</span>(<span class="params">target</span>) </span>&#123;</div><div class="line">	<span class="keyword">return</span> target === <span class="built_in">Object</span>(target);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="length-lenght"><a href="#length-lenght" class="headerlink" title="length === +lenght"></a>length === +lenght</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"> <span class="keyword">if</span>(length === +length) &#123;</div><div class="line"><span class="comment">// 强调 length 只能是数字或者 数字字符串</span></div><div class="line"> &#125;</div></pre></td></tr></table></figure>
<h2 id="for"><a href="#for" class="headerlink" title="for"></a>for</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">arr = some array;</div><div class="line"></div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i, max = arr.length; i &lt; max; i++) &#123;</div><div class="line">	<span class="comment">// get length only once.	</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="while"><a href="#while" class="headerlink" title="while"></a>while</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> arr = some array, </div><div class="line">length = arr.length;</div><div class="line"></div><div class="line"><span class="keyword">while</span>( length-- ) &#123;</div><div class="line">     <span class="comment">// code </span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> A = &#123;</div><div class="line">    <span class="attr">a</span> : <span class="number">1</span>,</div><div class="line">    <span class="attr">b</span> : <span class="number">2</span>  </div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="利用-amp-amp-或者-替代-if"><a href="#利用-amp-amp-或者-替代-if" class="headerlink" title="利用 &amp;&amp; 或者 || 替代 if"></a>利用 &amp;&amp; 或者 || 替代 if</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">   <span class="built_in">Object</span>.prototype.abc = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;</div><div class="line">   </div><div class="line">   <span class="keyword">for</span> (<span class="keyword">var</span> i <span class="keyword">in</span> A) &#123;</div><div class="line">   </div><div class="line">       A.hasOwnProperty(i) &amp;&amp; <span class="built_in">console</span>.log(A[i],i); </div><div class="line">       <span class="comment">// 等同于 </span></div><div class="line">       <span class="keyword">if</span>(A.hasOwnProperty(i)) &#123;</div><div class="line">           <span class="built_in">console</span>.log(A[i],i); </div><div class="line">       &#125;    </div><div class="line">   &#125;</div><div class="line"></div><div class="line"><span class="comment">// 有则用,没有则初始化</span></div><div class="line"><span class="keyword">var</span> calls = <span class="keyword">this</span>._callbacks || (<span class="keyword">this</span>._callbacks = &#123;&#125;);</div><div class="line"></div><div class="line">(<span class="keyword">this</span>._callbacks[i] || (<span class="keyword">this</span>._callbacks[i]) = []).push(someCallback);</div></pre></td></tr></table></figure>
<h3 id="switch"><a href="#switch" class="headerlink" title="switch"></a>switch</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">switch</span> 和 <span class="keyword">case</span> 对齐，增加可读性</div><div class="line"></div><div class="line"></div><div class="line">    <span class="keyword">var</span> inspect_me = <span class="number">0</span>,</div><div class="line">        result;</div><div class="line">    </div><div class="line">    <span class="keyword">switch</span> (inspect_me) &#123;</div><div class="line">    <span class="keyword">case</span> <span class="number">0</span>: </div><div class="line">        result = <span class="string">'a'</span></div><div class="line">        <span class="keyword">break</span>;</div><div class="line">    <span class="keyword">case</span> <span class="number">1</span>:</div><div class="line">        result = <span class="string">'b'</span></div><div class="line">        <span class="keyword">break</span>;</div><div class="line">    <span class="keyword">default</span> : </div><div class="line">        result = <span class="string">'unknown'</span></div><div class="line">	&#125;</div><div class="line">	<span class="built_in">console</span>.log(result); <span class="comment">// a</span></div></pre></td></tr></table></figure>
<h3 id="关于编码规范-空格的使用位置"><a href="#关于编码规范-空格的使用位置" class="headerlink" title="关于编码规范 空格的使用位置"></a>关于编码规范 空格的使用位置</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i += <span class="number">1</span>) &#123; &#125;</div><div class="line"></div><div class="line">	<span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; max = <span class="number">10</span>; i &lt; max; i += <span class="number">1</span>) &#123;&#125;</div><div class="line"></div><div class="line">	<span class="keyword">var</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</div><div class="line"></div><div class="line">	<span class="keyword">var</span> o = &#123;<span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span>&#125;;</div><div class="line"></div><div class="line"></div><div class="line">	myFunc(a, b, c)</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">function</span> <span class="title">myFunc</span>(<span class="params"></span>) </span>&#123;&#125;</div><div class="line"></div><div class="line">	<span class="keyword">var</span> myFunc = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;</div><div class="line"></div><div class="line"><span class="comment">// 构造函数用大写</span></div><div class="line"></div><div class="line">	<span class="keyword">var</span> adam = <span class="keyword">new</span> Person();</div></pre></td></tr></table></figure>
<h2 id="设计模式"><a href="#设计模式" class="headerlink" title="设计模式"></a>设计模式</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// module 模式</span></div><div class="line"><span class="comment">// 1. 模块化</span></div><div class="line"><span class="comment">// 2. 封装了变量和function, 和全局的namespace</span></div><div class="line"><span class="comment">// 3. 只暴露了public方法,隐藏了私有方法</span></div><div class="line">	<span class="keyword">var</span> myModule = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    </div><div class="line">		<span class="keyword">var</span> name = <span class="string">'module A'</span>,</div><div class="line">			mou = &#123;&#125;;</div><div class="line">			</div><div class="line">		<span class="function"><span class="keyword">function</span> <span class="title">privateName</span> (<span class="params"></span>) </span>&#123;</div><div class="line">			<span class="built_in">console</span>.log(<span class="string">'moudle name is '</span>+ name)</div><div class="line">		&#125;</div><div class="line"></div><div class="line">		mou.pubName = name;</div><div class="line">		mou.pubFunc = privateName</div><div class="line">		</div><div class="line">		<span class="keyword">return</span> mou;</div><div class="line">		</div><div class="line">	&#125;)();</div><div class="line"></div><div class="line">	myModule.pubFunc();</div><div class="line">	<span class="built_in">console</span>.log(myModule,<span class="number">1</span>);</div></pre></td></tr></table></figure>
<h3 id="支持module扩展"><a href="#支持module扩展" class="headerlink" title="支持module扩展"></a>支持module扩展</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> myModule = (<span class="function"><span class="keyword">function</span> (<span class="params">my</span>) </span>&#123;</div><div class="line">	</div><div class="line">	<span class="keyword">var</span> name = <span class="string">'module X'</span>;</div><div class="line">	</div><div class="line">	my.Address = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">		<span class="built_in">console</span>.log(<span class="string">'moudle name is '</span>+ name);</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	<span class="keyword">return</span> my;</div><div class="line"> </div><div class="line">&#125;(myModule || &#123;&#125;));</div><div class="line"></div><div class="line"><span class="comment">//myModule.pubFunc();</span></div><div class="line"><span class="built_in">console</span>.log(myModule,<span class="number">2</span>)</div></pre></td></tr></table></figure>
<h3 id="对象克隆时方法的克隆"><a href="#对象克隆时方法的克隆" class="headerlink" title="对象克隆时方法的克隆?"></a>对象克隆时方法的克隆?</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 用闭包保存状态值</span></div><div class="line">	<span class="keyword">var</span> elems = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'a'</span>);</div><div class="line"></div><div class="line">	<span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt;　elems.length; i ++) &#123;</div><div class="line">		elems[i].addEventListener(<span class="string">'click'</span>,</div><div class="line">		(<span class="function"><span class="keyword">function</span>(<span class="params">index</span>) </span>&#123;</div><div class="line">		   <span class="built_in">console</span>.log(<span class="string">'real index is '</span>+ index);</div><div class="line">		&#125;)(i)</div><div class="line">		,<span class="literal">false</span>)</div><div class="line">	&#125;</div></pre></td></tr></table></figure>
<h2 id="Array-splice-的使用方式"><a href="#Array-splice-的使用方式" class="headerlink" title="Array.splice 的使用方式"></a>Array.splice 的使用方式</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 集删除，取值，插入于一身</span></div><div class="line"></div><div class="line"><span class="comment">// 删除：</span></div><div class="line">	<span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>]</div><div class="line">	arr.splice(startindex,length);</div><div class="line">	arr.splice(<span class="number">0</span>,<span class="number">2</span>) =&gt; &#123;</div><div class="line">		arr == [<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>]</div><div class="line">		<span class="keyword">return</span> [<span class="number">1</span>,<span class="number">2</span>]</div><div class="line">	&#125;</div><div class="line"></div><div class="line"><span class="comment">// 截取新子串： </span></div><div class="line">	<span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>]</div><div class="line">	arr.splice(startindex,cut_length); <span class="comment">// 若 startindex 省略默认为0</span></div><div class="line">	arr.splice(<span class="number">1</span>,<span class="number">2</span>) =&gt; &#123;</div><div class="line">		arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>];</div><div class="line">		<span class="keyword">return</span> [<span class="number">2</span>,<span class="number">3</span>];</div><div class="line">	&#125;</div><div class="line"></div><div class="line"><span class="comment">// 插入</span></div><div class="line">	<span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>];</div><div class="line">	arr.splice(startindex,<span class="number">0</span>[标识插入],....[插入值,可多个,但不是数组]);</div><div class="line">	arr.splice(<span class="number">3</span>,<span class="number">0</span>,<span class="number">7</span>,<span class="number">6</span>,<span class="number">5</span>)&#123;</div><div class="line">		arr =&gt; [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>]</div><div class="line">		<span class="keyword">return</span> []</div><div class="line">	&#125;</div><div class="line"></div><div class="line"><span class="comment">// 覆盖插入</span></div><div class="line"></div><div class="line">	<span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>];</div><div class="line">	arr.splice(startindex,n[覆盖的元素个数],....[插入值,可多个,但不是数组]);</div><div class="line">	arr.splice(<span class="number">3</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>) &#123;</div><div class="line">		arr =&gt; [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>];</div><div class="line">		<span class="keyword">return</span> [<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>]</div><div class="line">	&#125;</div><div class="line"><span class="comment">// return 返回的是受影响的元素</span></div></pre></td></tr></table></figure>
<h2 id="amp-amp"><a href="#amp-amp" class="headerlink" title="&amp;&amp;"></a>&amp;&amp;</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="comment">// "&amp;&amp;" 的行为有时称做"短路" (short circuiting) ，很多代码利用了这一特性来有条件地执行代码。</span></div><div class="line"><span class="comment">// 例如，下面两行JavaScript代码是完全等价的:</span></div><div class="line"></div><div class="line">	<span class="keyword">if</span> (a == b) stop(); <span class="comment">//只有在a==b的时候才调用stop()</span></div><div class="line">	(a == b) &amp;&amp; stop(); </div><div class="line"></div><div class="line"><span class="comment">// 如果 id 为 undefined，则直接给 topic 赋值 undefined，</span></div><div class="line"><span class="comment">// 若 id 有值，但 topics 里没有 id 属性，仍返回给 topic undefined，</span></div><div class="line"><span class="comment">// 当 id 非空，且 topic 里有 id 时，才取得非空值。</span></div><div class="line">topic = id &amp;&amp; topics[ id ];</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// 如果max width 已经定义了，直接使用它,否则在preferences对象中查找max_width</span></div><div class="line"><span class="comment">// 如果没有定义它，则使用一个写死的常量</span></div><div class="line">	<span class="keyword">var</span> max = max_width || preferences.max_width || <span class="number">500</span>;</div><div class="line"><span class="string">``</span><span class="string">` </span></div><div class="line"></div><div class="line">Javascript 精粹中出现:</div><div class="line">`<span class="string">``</span>javascript</div><div class="line">	<span class="comment">// typeof 结果为 false, 则小括号为 false, 结果为 that.</span></div><div class="line">	<span class="comment">// typeof true, return other;</span></div><div class="line">	<span class="comment">// 精妙!</span></div><div class="line">	<span class="keyword">return</span> (<span class="keyword">typeof</span> other === <span class="string">'object'</span>  &amp;&amp; other) || that;</div></pre></td></tr></table></figure>
<h2 id="父页面调用子页面方法"><a href="#父页面调用子页面方法" class="headerlink" title="父页面调用子页面方法"></a>父页面调用子页面方法</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">'#atParent'</span>).contents().find(<span class="string">'childElement'</span>).trigger(<span class="string">'click'</span>);</div><div class="line"><span class="comment">// native html5</span></div><div class="line"><span class="keyword">var</span> iframe = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'iframe'</span>)[<span class="number">0</span>];</div><div class="line"><span class="keyword">var</span> iframeDocument = iframe.contentDocument; <span class="comment">// 获得了子页面的文档对象</span></div></pre></td></tr></table></figure>
<h2 id="取得指定标记下所有子标签"><a href="#取得指定标记下所有子标签" class="headerlink" title="取得指定标记下所有子标签"></a>取得指定标记下所有子标签</h2><p>Returns a list of elements with the given tag name.<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getByClass</span>(<span class="params">tparent,tclass</span>) </span>&#123;</div><div class="line"></div><div class="line">	<span class="comment">// getElementsByTagName() = &gt; HTMLCollection =&gt; 类数组</span></div><div class="line">	<span class="comment">// The special string "*" represents all elements.</span></div><div class="line">	<span class="keyword">var</span> allclass = tparent.getElementsByTagName(<span class="string">'*'</span>);</div><div class="line"></div><div class="line">	<span class="keyword">var</span> result = [];</div><div class="line">		<span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, max = allclass.length; i &lt; max; i++ ) &#123;</div><div class="line">		<span class="keyword">if</span> ( allclass[i].clssName == tclass ) &#123;</div><div class="line">			result.push(allcalss[i]);</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> result;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="深拷贝"><a href="#深拷贝" class="headerlink" title="深拷贝"></a>深拷贝</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">a = <span class="number">1</span>;</div><div class="line">b = a++; <span class="comment">// b = 1; a = 2;</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">deepCopy</span>(<span class="params"></span>) (<span class="params">parent, child</span>) </span>&#123;</div><div class="line">	<span class="keyword">var</span> i,</div><div class="line">		toStr = <span class="built_in">Object</span>.propotype.toString,</div><div class="line">		<span class="comment">// x: arrName = '[Object Array]';</span></div><div class="line">		arrName = <span class="string">'[object Array]'</span>;</div><div class="line">	</div><div class="line">	<span class="comment">// forget check child if null </span></div><div class="line">	child = child || &#123;&#125;;</div><div class="line"></div><div class="line">	<span class="keyword">for</span>( i <span class="keyword">in</span> parent ) &#123;</div><div class="line">		<span class="keyword">if</span>( parent.hasOwnProerty[i] ) &#123;</div><div class="line">			<span class="keyword">if</span>(<span class="keyword">typeof</span> parent[i] === <span class="string">"object"</span>) &#123;</div><div class="line">				child[i] = (toStr.call(parent[i]) === arrName) ? [] : &#123;&#125;;</div><div class="line">				deepCopy(parent[i],child[i]);</div><div class="line">			&#125; <span class="keyword">else</span> &#123;</div><div class="line">				child[i] = parent[i];</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> child;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="对象继承"><a href="#对象继承" class="headerlink" title="对象继承"></a>对象继承</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">inherit</span>(<span class="params">p</span>) </span>&#123;</div><div class="line">	<span class="keyword">if</span>(p == <span class="literal">null</span>) &#123;</div><div class="line">		<span class="keyword">throw</span> <span class="built_in">TypeError</span>();</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">if</span>(<span class="built_in">Object</span>.create) &#123;</div><div class="line">		<span class="keyword">return</span> <span class="built_in">Object</span>.create(p); <span class="comment">// 直接使用它</span></div><div class="line">	&#125;</div><div class="line">	<span class="keyword">var</span> t = <span class="keyword">typeof</span> p;</div><div class="line">	<span class="keyword">if</span>(t !== <span class="string">'object'</span> &amp;&amp; t !== <span class="string">'function'</span>) &#123;</div><div class="line">		<span class="keyword">throw</span> <span class="built_in">TypeError</span>();</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;&#125;</div><div class="line">	f.prototype = p;</div><div class="line">	rturn <span class="keyword">new</span> f();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="灵活常见html元素"><a href="#灵活常见html元素" class="headerlink" title="灵活常见html元素"></a>灵活常见html元素</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$(<span class="built_in">document</span>.createElement(<span class="string">'script'</span>))</div><div class="line">	.attr(<span class="string">'src'</span>, <span class="string">'http://example.com/example.js'</span>)</div><div class="line">	.appendTo(<span class="string">'head'</span>);</div></pre></td></tr></table></figure>
<h2 id="split"><a href="#split" class="headerlink" title="split"></a>split</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 计算单词数</span></div><div class="line"><span class="comment">// "".split(regExp);</span></div><div class="line">	<span class="keyword">var</span> a = <span class="string">"a xxx ssd sdf 4rff     dsfs"</span>;</div><div class="line">	<span class="keyword">var</span> b = a.split(<span class="regexp">/\s+/</span>); <span class="comment">// =&gt; ["a", "xxx", "ssd", "sdf", "4rff", "dsfs"]</span></div><div class="line">	<span class="keyword">var</span> c = b.length;</div></pre></td></tr></table></figure>
<h2 id="判断对象是否为空"><a href="#判断对象是否为空" class="headerlink" title="判断对象是否为空"></a>判断对象是否为空</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 对象转会为布尔值</span></div><div class="line"><span class="keyword">var</span> isChromium = !!<span class="built_in">window</span>.chrome;</div><div class="line"><span class="comment">// isChromium =&gt; true</span></div><div class="line">!!<span class="literal">undefined</span> <span class="comment">// =&gt; false</span></div><div class="line">!!<span class="string">""</span> <span class="comment">// =&gt; false</span></div><div class="line">!!<span class="string">"1"</span> <span class="comment">// =&gt; true</span></div><div class="line">!!<span class="literal">null</span> <span class="comment">// =&gt; false</span></div><div class="line">!!<span class="literal">false</span>  <span class="comment">// =&gt; false</span></div><div class="line">!!<span class="string">"false"</span> <span class="comment">// =&gt; true (这种奇葩的情况不少)</span></div></pre></td></tr></table></figure>
<h2 id="批量获取-dom-元素"><a href="#批量获取-dom-元素" class="headerlink" title="批量获取 dom 元素"></a>批量获取 dom 元素</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> elements = &#123;</div><div class="line">	  <span class="attr">head</span>: <span class="literal">null</span>,</div><div class="line">	  <span class="attr">targetA</span>: <span class="literal">null</span>,</div><div class="line">	  <span class="attr">targetB</span>: <span class="literal">null</span>,</div><div class="line">	  <span class="attr">targetC</span>: <span class="literal">null</span>,</div><div class="line">	  <span class="attr">targetD</span>: <span class="literal">null</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i <span class="keyword">in</span> elements) elements[i] = <span class="built_in">document</span>.getElementByID(i);</div></pre></td></tr></table></figure>
<h2 id="函数执行时的上下文"><a href="#函数执行时的上下文" class="headerlink" title="函数执行时的上下文"></a>函数执行时的上下文</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 如果 thisArg 部分为空，则认为 global</span></div><div class="line">	settings.complete.call(<span class="literal">null</span>, text); </div><div class="line"></div><div class="line">	<span class="comment">// 同上，forEach 的第二个参数就是用作回调的上下文 </span></div><div class="line">	[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].forEach( <span class="function"><span class="keyword">function</span>(<span class="params">v</span>) </span>&#123;</div><div class="line">		<span class="keyword">if</span> (<span class="keyword">this</span>.breakFlag === <span class="literal">true</span>) &#123;</div><div class="line">		</div><div class="line">		<span class="comment">// 此处的 false 只是阻止了当前循环的执行，而不会影响后续循环</span></div><div class="line">			<span class="keyword">return</span> <span class="literal">false</span>;  </div><div class="line">		&#125;</div><div class="line"></div><div class="line">		<span class="keyword">if</span> (v === <span class="number">2</span>) &#123;</div><div class="line">			<span class="keyword">this</span>.breakFlag = <span class="literal">true</span></div><div class="line">		&#125;</div><div class="line">		<span class="built_in">console</span>.log(v) <span class="comment">//只输出1,2</span></div><div class="line">	&#125;, &#123;&#125;);  <span class="comment">// '&#123;&#125;' 指定 callback 的上下文</span></div></pre></td></tr></table></figure>
<h2 id="习惯使用选择器上下文"><a href="#习惯使用选择器上下文" class="headerlink" title="习惯使用选择器上下文"></a>习惯使用选择器上下文</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">   $(<span class="string">'div.foo'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">       $(<span class="string">"span"</span>,<span class="keyword">this</span>).addClass(<span class="string">'bar'</span>); <span class="comment">// 限定查找范围</span></div><div class="line">   &#125;);	</div><div class="line"><span class="comment">// 对选择器表达式 “span” 的查找被限制在了 this 的范围内，</span></div><div class="line"><span class="comment">// 即只有被点击元素内的 span 元素才会添加 “bar”。</span></div></pre></td></tr></table></figure>

	
	</div>
  <a type="button" href="/2014/11/09/2014-11-09-code-skill-collection/#more" class="btn btn-default more">阅读此文</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2014-11-06 </div>
			<div class="article-title"><a href="/2014/11/06/2014-11-06-行框与行内框的概念/" >行框与行内框</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
	
	
		<p>文本行中的每个元素都会生成一个内容区。这个内容区则会生成一个行内框（inline box），当一行中的所有内容均已生成了行内框，那么接下来在行框的构造中就会考虑这些行内框，行框要包含住最高行内框的顶端和最低行内框的底端。</p>
<p><img src="/images/codesnip_20141106213406.png" alt="行框图"></p>
<p>需要说明的是：行内框中最大的 line-height 就是行框的高度。</p>

	
	</div>
  <a type="button" href="/2014/11/06/2014-11-06-行框与行内框的概念/#more" class="btn btn-default more">阅读此文</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2014-11-02 </div>
			<div class="article-title"><a href="/2014/11/02/2014-11-02-css 中的度量/" >css中的单位</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
	
	
		<h2 id="angle"><a href="#angle" class="headerlink" title="angle"></a>angle</h2><p>angle 者，角也。<br>积极的角度代表(right angles)，负角度代表(left angles)。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">background</span><span class="selector-pseudo">:-moz-linear-gradient(10deg</span>,<span class="selector-tag">red</span>,<span class="selector-tag">green</span>,<span class="selector-tag">yellow</span>);</div></pre></td></tr></table></figure>
<p>角度为水平方向逆时针向上旋转10°</p>
<p>当指定的角度，请记住，它是一个由水平线与渐变线产生的的角度，逆时针方向。因此，使用0deg将产生一个左到右横向梯度，而90度将创建一个从底部到顶部的垂直渐变。</p>
<h2 id="webkit-gradient"><a href="#webkit-gradient" class="headerlink" title="webkit-gradient"></a>webkit-gradient</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">webkit核心浏览器下的的基本语法如下：</div><div class="line">-webkit-gradient(type, start_point, end_point, / stop...) </div><div class="line">-webkit-gradient(type, inner_center, inner_radius, outer_center, outer_radius, / stop...)</div><div class="line"></div><div class="line"></div><div class="line">参数</div><div class="line">参数类型	简要说明</div><div class="line">type	渐变的类型，可以是线性渐变(linear)或是径向渐变(radial)</div><div class="line">start_point	渐变图像中渐变的起始点</div><div class="line">end_point	渐变图像中渐变的结束点</div><div class="line">stop	color-stop()方法，指定渐变进程中特定的颜色</div><div class="line">inner_center	内部中心点，径向渐变起始圆环</div><div class="line">inner_radius	内部半径，径向渐变起始圆</div><div class="line">outer_center	外部渐变结束圆的中心点</div><div class="line">outer_radius	外部渐变结束圆的半径</div></pre></td></tr></table></figure>
<p>关于参数的具体说明</p>
<ol>
<li>start_point 和 end_point</li>
<li>划一条渐变线，会有起始点和结束点，这个起始点和结束点就对应这里的start_point和end_point参数</li>
</ol>
<p>start_point(x1,x2)，end_point(x2,y2)，这里的 x,y 对应左上角为起点的坐标，<br>此处的x,y参数表示与CSS中的background-position是一致的，可以使像素值，或是百分比值或是left,top,right,bottom。</p>
<p>当x1等于x2，y1不等于y2，实现垂直渐变，调整y1，y2的值可以调整渐变半径大小；<br>当y1等于y2，x1不等于x2，实现水平渐变，调整x1，x2的值可以调整渐变半径大小；<br>当y1不等于y2，x1不等于x2，实现角度渐变，当x1,x2,y1,y2取值为极值的时候接近垂直渐变或水平渐变；<br>当x1等于x2，y1等于y2，实现没有渐变，取from色，即 <strong>from(颜色值)</strong> ；</p>

	
	</div>
  <a type="button" href="/2014/11/02/2014-11-02-css 中的度量/#more" class="btn btn-default more">阅读此文</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2014-10-31 </div>
			<div class="article-title"><a href="/2014/10/31/2014-08-21-jquery基本用法/" >jquery 基础用法</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
	
	
		<p>整理了这些作为下阶段读源码前的知识储备，同时分享给大家。共勉。</p>
<h2 id="总述"><a href="#总述" class="headerlink" title="总述"></a>总述</h2><p>jQuery 框架提供了很多方法，但大致上可以分为3 大类：</p>
<ol>
<li>获取jQuery 对象的方法</li>
<li>在jQuery 对象间跳转的方法</li>
<li>获取jQuery 对象后调用的方法</li>
</ol>
<h3 id="获取-jQuery-对象"><a href="#获取-jQuery-对象" class="headerlink" title="获取 jQuery 对象"></a>获取 jQuery 对象</h3><p>是怎样获取jQuery 对象。大致来说，是通过最核心的<code>$()</code>方法，将页面上的元素（或者在页面上不存在的 html 片段）包装成 jQuery 对象。<br><code>$()方法</code>里面支持的语法又包括：</p>
<ol>
<li>分别是表达式（包括类表达式.，id 表达式#，元素表达式等）</li>
<li>符号（包括后代符号space，next 符号+等)</li>
<li>过滤器（包括:过滤器和[]过滤器）</li>
<li>现在显然还有更多</li>
</ol>
<p>通过以上组合，通过选择器 <code>$()</code> 可”查询“得到 jQuery 对象（或者jQuery 对象的集合）。</p>
<h3 id="对象跳转"><a href="#对象跳转" class="headerlink" title="对象跳转"></a>对象跳转</h3><p>是在jQuery 对象间的跳转。也就是说，已经得到了一个jQuery 对象，但并不是想要的，那么可以通过一系列的跳转方法，比如<em>parent()、next()、children()、find()</em>等，或者过滤筛选的方法，比如<em>eq、filter()、not()</em>等，来得到最终想要操作的jQuery 对象。</p>
<p>用跳转和过滤方式得到的jQuery 结果，往往通过比较复杂的表达式组合，可以达到同样的目的。<br>比如说 <code>$(&quot;div&quot;).eq(3)</code>，也可以用<code>$(&quot;div:eq(3)&quot;)</code> 达到同样的目的。<br>又比如说<code>$(&quot;div&quot;).find(&quot;span&quot;)</code>，可以用<code>$(&quot;div span&quot;)</code>取到同样的元素。</p>
<p>方法是很灵活的，要根据具体的情况来选择。根据经验来说，HTML 页面写得越规范，使用 jQuery 就越简单。</p>
<p>还有一种情况，在得到了jQuery()对象之后，想要判断其是否满足条件，那么可以调用 ==is()、hasClass()==等方法，返回一个boolean 值，进行后续的判断。这类方法也可以归到这类。</p>
<h3 id="方法调用"><a href="#方法调用" class="headerlink" title="方法调用"></a>方法调用</h3><p>在获取准确的 jQuery 对象之后，调用其上的各种方法，来进行操作。这一步反而是比较简单的了。<br>后面就是对 jQuery 框架各种方法的简要介绍。</p>
<h3 id="常用API"><a href="#常用API" class="headerlink" title="常用API"></a>常用API</h3><p>####$(…);</p>
<pre><code>/**
 *  一切的核心，可以跟4 种参数。
 */
$();

/**
 *  返回jQuery 对象或者jQuery 对象的集合
 *  比如$(&quot;#id&quot;)、$(&quot;.class&quot;)
 */
$(expression);

/**
 *  返回jQuery 对象，或者jQuery 对象的集合
 *  比如$(&quot;&lt;span&gt;hello world&lt;/span&gt;&quot;)
 */
$(html)

/**
 *  返回jQuery 对象，或者jQuery 对象的集合
 *  比如$(document.body)
 */
$(element)

/**
 *  所有元素
 */
$(*)
```
</code></pre><h4 id="jQuery-对象获取"><a href="#jQuery-对象获取" class="headerlink" title="jQuery 对象获取"></a>jQuery 对象获取</h4><pre><code>```javascript

/**
 *  返回该jQuery 对象在集合中的索引
 */
jQuery.index(element);

/**
 *  遍历jQuery 对象集合，在每个对象上执行 callback 函数，
 *  function callback(index, domElement){
 *    this //DOMElement
 *  };
 */
jQuery.each(function);

/**
 *  返回 jQuery 对象集合的大小
 */
jQuery.size();

/**
 *  相当于size()方法
 */
jQuery.length

/**
 *  获取原生 DomElement 对象的 Array,
 *  即将 jQuery 对象转成 数组对象，
 *  虽然 jQuery 对象也有 length 属性，且可用下标读写
 *  但并非是数组对象。
 */
jQuery.get()

/**
 *  获取原生 DomElement 对象
 */
jQuery.get(index)

/**
 *  获取 jQuery 对象集合中的一个 jQuery 对象
 */
jQuery.eq(position)
</code></pre><h4 id="Data-相关方法"><a href="#Data-相关方法" class="headerlink" title="Data 相关方法"></a>Data 相关方法</h4><p>在匹配的元素身上存值(store data)， <code>.data()</code> 方法允许在我们以一种安全的方式附加数据到 dom 元素，不会产生循环引用和内存泄露。</p>
<pre><code>jQuery.data(name)        // 取值
jQuery.data(name, value) // 赋值
jQuery.removeData(name)  // 清理

$( &quot;body&quot; ).data( &quot;foo&quot;, 52 );
$( &quot;body&quot; ).data( &quot;bar&quot;, { myType: &quot;test&quot;, count: 40 } );
$( &quot;body&quot; ).data( { baz: [ 1, 2, 3 ] } );
$( &quot;body&quot; ).data( &quot;foo&quot; ); // 52
$( &quot;body&quot; ).data(); // { foo: 52, bar: { myType: &quot;test&quot;, count: 40 }, baz: [ 1, 2, 3 ] }
</code></pre><h4 id="选择器"><a href="#选择器" class="headerlink" title="选择器"></a>选择器</h4><pre><code>/**
 *  多目标选择器
 *  可以选择多个元素或者表达式，
 *  包装成 jQuery 对象的集合
 *  例子：$(&quot;div,span&quot;)
 */

$(&quot;table tr td&quot;); //multiple(selector1, selector2)

$(&quot;#id &gt; span&quot;); //直接节点

$(&quot;label + input&quot;) //next(prev, next) 同级的紧挨着的下一个

$(&quot;#prev ~ div&quot;) // siblings(prev, siblings),同样要求是同级
</code></pre><h4 id="基本的过滤器"><a href="#基本的过滤器" class="headerlink" title="基本的过滤器"></a>基本的过滤器</h4><pre><code>$(&quot;:header&quot;);     // 所有 header, &lt;h1&gt;~&lt;h6&gt;
$(&quot;tr:odd&quot;);      // 选中所有奇数行
$(&quot;tr:even&quot;);     // 选中所有偶数行
$(&quot;:animated&quot;);   // 选中所有当前有特效的素
$(&quot;div:animated&quot;);// 选中运行动画的
$(&quot;tr:first&quot;);    // 选中第一行
$(&quot;tr:last&quot;);     // 选中最后一行
$(&quot;input:not(:checked)&quot;);  //选中所有没有“checked”
$(&quot;td:gt(4)&quot;);    // 选中所有index 是4 之后的td
$(&quot;td:lt(4)&quot;);    // 选中所有index 是4 之前的td

$(&quot;td:eq(4)&quot;);    // 选中index 是 4 的td
$(&quot;td&quot;).eq(4);    // 选中index 是 4 的td
</code></pre><h4 id="内容过滤选择器"><a href="#内容过滤选择器" class="headerlink" title="内容过滤选择器"></a>内容过滤选择器</h4><pre><code>$(&quot;div:contains(&apos;John&apos;)&quot;); // 选中所有包含&quot;John&quot;的div
$(&quot;td:empty&quot;);    // 选中所有内容为空的td
$(&quot;div:has(p)&quot;);  // 选中包含有&lt;p&gt;元素的&lt;div&gt;元素，返回jQuery 对象集合

$(&quot;td:parent&quot;);   //选中所有包含子节点的元素，包括文本也可以算是子节点
</code></pre><h4 id="可见性过滤器"><a href="#可见性过滤器" class="headerlink" title="可见性过滤器"></a>可见性过滤器</h4><pre><code>$(&quot;span:hidden&quot;);  // 选中所有隐藏的&lt;span&gt;
$(&quot;span:visible&quot;); // 选中所有可见的&lt;span&gt;
</code></pre><p>关于可见性，这里需要额外说明的。在老版本的 jQuery 中 ==<code>visibility:hidden;</code>是认为不可见的==，我有证据，</p>
<pre><code>Sizzle.selectors.filters.hidden = function(elem){
    return &quot;hidden&quot; === elem.type ||
        jQuery.css(elem, &quot;display&quot;) === &quot;none&quot; ||
        jQuery.css(elem, &quot;visibility&quot;) === &quot;hidden&quot;;
};
`
</code></pre><p>这段代码出自 <code>jquery-1.3.1.js</code>,然而到近代的版本中(在1.3.2就改了)</p>
<pre><code>jQuery.expr.filters.hidden = function( elem ) {
          var width = elem.offsetWidth,
              height = elem.offsetHeight;
          // 没有 visibility 什么事
          return ( width === 0 &amp;&amp; height === 0 ) || (!jQuery.support.reliableHiddenOffsets &amp;&amp; ((elem.style &amp;&amp; elem.style.display) || jQuery.css( elem, &quot;display&quot; )) === &quot;none&quot;);
      };
</code></pre><p>简单的说就是：==如果元素占用空间了，就认为是可见的。==只要不是0的都算可见的。 </p>
<p>所以，<code>visibility：hidden;</code> 或者 <code>opacity:0;</code> 由于占有空间，它们算事“可见”的。</p>
<h4 id="属性过滤器"><a href="#属性过滤器" class="headerlink" title="属性过滤器"></a>属性过滤器</h4><pre><code>$(&quot;div[id]&quot;);   // 选中包含 id 属性的div
$(&quot;input[name$=&apos;bc&apos;]&quot;);  // 选中 name 属性以 &apos;bc&apos; 结尾的 input
$(&quot;input[name^=&apos;letter&apos;]&quot;); // 选中属性 name 是以&apos;letter&apos;开头的 input
$(&quot;input[tag*=&apos;man&apos;]&quot;); // 属性tag里包含&apos;man&apos;
$(&quot;input[abc=&apos;def&apos;]&quot;); // 属性 abc 的值为 &apos;def&apos;

$(&quot;input[title!=&apos;722&apos;]&quot;);  // 选中属性 title 不包含&apos;722&apos;的
$(&quot;input[id][gender$=&apos;man&apos;]&quot;); // 选中包含id 属性，和以&apos;man&apos;结尾的属性 gender 的&lt;input&gt;元素
</code></pre><h4 id="孩子过滤器"><a href="#孩子过滤器" class="headerlink" title="孩子过滤器"></a>孩子过滤器</h4><pre><code>$(&quot;ul li:nth-child(2)&quot;); // 选中自身是&lt;ul&gt;元素的第二个子节点的&lt;li&gt;元素，注意这个计算是从 1 开始的，不是从0 开始
$(&quot;div span:firstChild&quot;); // 选中自身是&lt;div&gt;元素的第一个子节点的&lt;span&gt;元素
$(&quot;div span:lastChild&quot;); // 选中自身是&lt;div&gt;元素的最后一个子节点的&lt;span&gt;元素
</code></pre><h4 id="表单过滤器"><a href="#表单过滤器" class="headerlink" title="表单过滤器"></a>表单过滤器</h4><pre><code>$(&quot;:button&quot;);   //所有 &lt;button&gt; 和 &lt;input type=&quot;button&quot;&gt; 元素
$(&quot;form :checkbox&quot;)； // 选中所有&lt;form&gt;标签下的&lt;input type=&quot;checkbox&quot;&gt; 不过这样会比较慢

$(&quot;input:checkbox&quot;)； // 推荐

$(&quot;:file&quot;)； // 选中所有&lt;input type=&quot;file&quot;&gt;
$(&quot;:hidden&quot;); // 选中所有隐藏元素，以及&lt;input type=&quot;hidden&quot;&gt;
$(&quot;:input&quot;); // 选中所有&lt;input&gt;
$(&quot;:text&quot;);  // 选中所有&lt;input type=&quot;text&quot;&gt;
$(&quot;:password&quot;); // 选中所有&lt;input type=&quot;password&quot;&gt;
$(&quot;:radio&quot;);    // 选中所有&lt;input type=&quot;radio&quot;&gt;
$(&quot;input:radio&quot;);  // 最佳实践是这样

$(&quot;:image&quot;)； // 选中所有&lt;input type=&quot;image&quot;&gt;
$(&quot;:reset&quot;);  // 选中所有&lt;input type=&quot;reset&quot;&gt;
$(&quot;:submit&quot;); // 选中所有&lt;input type=&quot;submit&quot;&gt;

$(&quot;input:enabled&quot;); // 选中所有enabled 的&lt;input&gt;元素
$(&quot;input:disabled&quot;); // 选中所有disabled 的&lt;input&gt;元素
$(&quot;input:checked&quot;); // 选中所有 checked 的 checkbox
$(&quot;input:selected&quot;); // 选中所有 selected 的&lt;option&gt;元素
</code></pre><h4 id="属性相关的方法"><a href="#属性相关的方法" class="headerlink" title="属性相关的方法"></a>属性相关的方法</h4><pre><code>jQuery.removeAttr(name);
jQuery.attr(name); // 返回属性的值，比如$(&quot;img&quot;).attr(&quot;src&quot;)
jQuery.attr(key,value); // 这是设置属性的值
jQuery.attr(properties); // 也是设置属性的值

$(&quot;img&quot;).attr({
    src: &quot;/images/hat.gif&quot;,
    title: &quot;jQuery&quot;,
    alt: &quot;jQuery Logo&quot;
});

jQuery.attr(key,function); // function 计算出的结果，赋给key

// 在回调函数中
function callback(index) {
 // index == position in the jQuery object
 // this means DOM Element
}
</code></pre><h4 id="类相关的操作"><a href="#类相关的操作" class="headerlink" title="类相关的操作"></a>类相关的操作</h4><pre><code>jQuery.toggleClass(class); // 反复加减 class
jQuery.toggleClass(class,switch); // 增加一个 switch 表达式

// 表达式计算后返回 class 名称
$( &quot;div.foo&quot; ).toggleClass(function() {
  if ( $( this ).parent().is( &quot;.bar&quot; ) ) {
    return &quot;happy&quot;;
  } else {
    return &quot;sad&quot;;
  }
});

jQuery.hasClass(class)； // 返回boolean
jQuery.removeClass(class); // 去掉挂载的 class
jQueyr.addClass(class)； // 加载 class
</code></pre><h4 id="html相关的操作"><a href="#html相关的操作" class="headerlink" title="html相关的操作"></a>html相关的操作</h4><pre><code>jQuery.html()； // 返回包含的html 文本
jQuery.html(val); // 用val 替换包含的 html 文本,输入的代码会被执行
</code></pre><h4 id="文本相关的方法"><a href="#文本相关的方法" class="headerlink" title="文本相关的方法"></a>文本相关的方法</h4><pre><code>jQuery.text();  // 返回包含的纯文本，不会包括html 标签，比如&lt;span&gt;abcd&lt;/span&gt;，调用 .text() 方法，只会返回abcd，不会返回&lt;span&gt;abcd&lt;/span&gt;

jQuery.text(val); // 用 val 替换包含的纯文本，和html(val)方法的区别在于，所有的内容会被看作是纯文本，不会作为html 标签进行处理，比如调用.text(&quot;&lt;span&gt;abcd&lt;/span&gt;&quot;)，&lt;span&gt; 和 &lt;/span&gt;不会被认为是html 标签，而是作为纯文本显示了。
</code></pre><h4 id="值相关的操作"><a href="#值相关的操作" class="headerlink" title="值相关的操作"></a>值相关的操作</h4><pre><code>jQuery.val(); // 返回 string 或者array
jQuery.val(val); // 设置 string 值
jQuery.val(array); // 设置多个值，以上 3 个方法，主要都是用在表单标签里，如&lt;input type=&quot;text&quot;&gt;，&lt;input type=&quot;checkbox&quot;&gt;等
</code></pre><h4 id="在jQuery-对象之间查找"><a href="#在jQuery-对象之间查找" class="headerlink" title="在jQuery 对象之间查找"></a>在jQuery 对象之间查找</h4><p>需要弄清： ==文本和节点是两回事，在 DOM 里就分开了。==<br>    jQuery.parent(expr); // 找父亲节点，可以传入expr 进行过滤,比如</p>
<pre><code>$(&quot;span&quot;).parent();
$(&quot;span&quot;).parent(&quot;. class&quot;); // 用表达式过滤

jQuery.parents(expr); // 祖先元素，不限于父元素
jQuery.children(expr); // 返回所有子节点(不包括文本)，和 parents()方法不一样的是，这个方法只会返回直接的孩子节点，不会返回所有的子孙节点

jQuery.contents(); // 返回下面的所有内容，包括节点和文本。这个方法和 children()的区别就在于，包括空白文本，也会被作为一个jQuery 对象返回，children()则只会返回节点

jQuery.prev(); // 返回上一个兄弟节点，不是所有的兄弟节点
jQuery.prevAll(); // 返回所有之前的兄弟节点
jQuery.next(); // 返回下一个兄弟节点，不是所有的兄弟节点 (+)
jQuery.nextAll(); // 返回所有之后的兄弟节点(~)
jQuery.siblings(); // 返回兄弟姐妹节点，不分前后
jQuery.add(expr); // 往既有的jQuery 对象集合中增加新的jQuery 对象，例子：
$(&quot;div&quot;).add(&quot;p&quot;);

jQuery.find(expr); // 从当前的初始集合下去找,不会返回初始集合内容：
$(&quot;body&quot;).find(&quot;div&quot;);
// 等同于：
jQuery.find(&quot;body div&quot;);


jQuery.filter(expr); // 从初始的jQuery 对象集合中筛选出一部分
</code></pre><p>####串联方法</p>
<pre><code>jQuery.andSelf();  // 把最后一次查询前一次的集合,也增加到最终结果集中,比如:

$(&quot;div&quot;).find(&quot;p&quot;).andSelf(); 这样结果集中包括所有的&lt;p&gt;和&lt;div&gt;。如果是$(&quot;div&quot;).find(&quot;p&quot;),那就只有&lt;p&gt;，没有&lt;div&gt;

jQuery.end(); // 把最后一次查询前一次的集合，作为最终结果集，比如
$(&quot;p&quot;).find(&quot;span&quot;).end(); // 所有的&lt;p&gt;，没有&lt;span&gt;
</code></pre><h4 id="DOM-文档操作方法"><a href="#DOM-文档操作方法" class="headerlink" title="DOM 文档操作方法"></a>DOM 文档操作方法</h4><pre><code>a.append(b); // b 加到 a 上
$(&quot;div&quot;).append(&quot;&lt;span&gt;hello&lt;/span&gt;&quot;);

a.appendTo(b); // a 加到 b 上
$(&quot;&lt;span&gt;hello&lt;/span&gt;&quot;).appendTo(&quot;#div&quot;)； 

$(&quot;span&quot;).appendTo(&quot;div&quot;); //隐藏的 move，移动元素

/* 比如在：

 &lt;div id=&apos;a&apos;&gt;a: &lt;span&gt; hello &lt;/span&gt; &lt;/div&gt;
 &lt;div id=&apos;b&apos;&gt;b: &lt;/div&gt;

 经过

 $(&apos;span&apos;).appendTo(&quot;#b&quot;);
</code></pre><p> 结果会是正样：</p>
<pre><code>a:
b: hello
</code></pre><p> 接下来，</p>
<pre><code>jQuery.prepend(content); // 在选择元素的内部第一个位置插入


a.prependTo(b); // a 插到 b 内部的排头位置

jQuery.after(content); 注意是 content，在外部插入，插入到后面，比如
$(&quot;#foo&quot;).after(&quot;&lt;span&gt;hello&lt;/span&gt;&quot;); // 参数是内容，不能是选择器

jQuery.insertAfter(selector)；// 允许是选择器
$(&quot;&lt;span&gt;hello&lt;/span&gt;&quot;).insertAfter(&quot;#foo&quot;);

jQuery.before(content); // 在外部插入，插入到前面, 参数不是选择器

jQuery.insertBefore(selector); // 外面插入

jQuery.wrapInner(html); // 在内部插入标签，比如
$(&quot;p&quot;).wrapInner(&quot;&lt;span&gt;&lt;/span&gt;&quot;);

jQuery.wrap(html); // 在外部插入标签，比如
$(&quot;p&quot;).wrap(&quot;&lt;div&gt;&lt;/div&gt;&quot;); // 所有的 p 都会被各自的div 包裹

jQuery.wrapAll(html); // 所选元素会被同一个大的 html 整个的全部包裹

jQuery.replaceWith(content); 比如
$(this).replaceWith(&quot;&lt;div&gt;&quot;+$(this).text()+&quot;&lt;/div&gt;&quot;);

jQuery.replaceAll(selector);
$(&quot;&lt;div&gt;hello&lt;/div&gt;&quot;).replaceAll(&quot;p&quot;);

jQuery.empty();
$(&quot;p&quot;).empty(); // 从娃娃做起，会把&lt;p&gt;下面的所有子节点清空,但不清理 p

jQuery.remove(expr);
$(&quot;p&quot;).remove(); // 从自身做起，会把所有&lt;p&gt;移除，可以用表达式做参数，进行过滤
</code></pre><p>// 表面看跟 remove 做的一样，删除元素；<br>// 但是保留了元素中的数据或事件, 通过返回值返回，留存后用，<br>// 需要时候随时能补上去，绑定的数据事件不受影响。<br>    jQuery.detach();</p>
<pre><code>jQuery.clone([withDataAndEvents ] ));
</code></pre><p>使用案例</p>
<p>在使用 append 的时候，隐约的我们发现了它具有移动的功效：</p>
<pre><code>&lt;div class=&quot;container&quot;&gt;
  &lt;div class=&quot;hello&quot;&gt;Hello&lt;/div&gt;
  &lt;div class=&quot;goodbye&quot;&gt;Goodbye&lt;/div&gt;
&lt;/div&gt;

$( &quot;.hello&quot; ).appendTo( &quot;.goodbye&quot; );
</code></pre><p>结果变成了这样：</p>
<pre><code>&lt;div class=&quot;container&quot;&gt;
  &lt;div class=&quot;goodbye&quot;&gt;
    Goodbye
    &lt;div class=&quot;hello&quot;&gt;Hello&lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
</code></pre><p>如果我们的需求是额外的拷贝一份元素到目的地：</p>
<pre><code>$( &quot;.hello&quot; ).clone().appendTo( &quot;.goodbye&quot; );

这样会更方便，结果会是这样：

    &lt;div class=&quot;container&quot;&gt;
      &lt;div class=&quot;hello&quot;&gt;Hello&lt;/div&gt;
      &lt;div class=&quot;goodbye&quot;&gt; 
        Goodbye 
        &lt;div class=&quot;hello&quot;&gt;Hello&lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
</code></pre><p>clone 的用法也分两种：</p>
<pre><code>clone(true);  // 克隆，并且连带数据和绑定的事件
clone()/clone(false); // 克隆，表面结构
</code></pre><h4 id="CSS-相关方法"><a href="#CSS-相关方法" class="headerlink" title="CSS 相关方法"></a>CSS 相关方法</h4><pre><code>jQuery.css(name); // 获取一个 css 属性的值，比如
$(&quot;p&quot;).css(&quot;color&quot;)

jQuery.css(object); // 设置css 属性的值，比如
$(&quot;p&quot;).css({
     &quot;color&quot;:&quot;red&quot;,
     &quot;border&quot;:&quot;1px red solid&quot;
  });

jQuery.css(name,value);
$(&quot;p&quot;).css(&quot;color&quot;,&quot;red&quot;);
</code></pre><h4 id="位置计算相关方法"><a href="#位置计算相关方法" class="headerlink" title="位置计算相关方法"></a>位置计算相关方法</h4><pre><code>jQuery.scrollLeft(); // 设置滚动条偏移，这个方法对可见元素或不可见元素都生效
jQuery.scrollTop();  // 设置滚动条偏移，这个方法对可见元素或不可见元素都生效

jQuery.offset();     // 计算偏移量，返回值有 2 个属性，分别是 top 和left

jQuery.position();  // 计算位置，返回值也有2 个属性，top 和 left,返回：

[object Object] {
  left: 34.546875,
  top: 11
}
</code></pre><p>这里需要额外补充：</p>
<blockquote>
<p>The .offset() method allows us to retrieve the current position of an element relative to the document. Contrast this with .position(), which retrieves the current position relative to the offset parent.</p>
</blockquote>
<p>简单来说就是：==offset 是相对于 document，而 position 相对于父元素。==</p>
<h4 id="宽度和高度计算相关方法"><a href="#宽度和高度计算相关方法" class="headerlink" title="宽度和高度计算相关方法"></a>宽度和高度计算相关方法</h4><p>这组方法需要结合CSS 的盒子模型来理解，margin 始终不参与计算</p>
<pre><code>jQuery.height();     // 计算的是 content
jQuery.innerHeight();  // 计算的是 content+padding
jQuery.outerHeight(); // 计算的是content+padding+border

jQuery.width();
jQuery.innerWidth();
jQuery.outerWidth();
</code></pre><h4 id="浏览器及特性检测"><a href="#浏览器及特性检测" class="headerlink" title="浏览器及特性检测"></a>浏览器及特性检测</h4><pre><code>$.support，可以检测当前浏览器是否支持下列属性，返回boolean。包括boxModel、cssFloat、
opacity、tbody 等
$.browser，检测当前浏览器类型，返回一个map，其中可能的值有safari、opera、msie、mozilla
</code></pre><h4 id="数据缓存方法"><a href="#数据缓存方法" class="headerlink" title="数据缓存方法"></a>数据缓存方法</h4><p>// 该类方法是jQuery.data()方法和jQuery.removeData()的另一种形式，增加的elem 参数是DOM Element</p>
<pre><code>$.data(elem, name);// 取出elem 上name 的值
$.data(elem, name, value); // 设置elem,name为 value
$.removeData(elem, name); //删除 elem 上的 name
$.removeData(elem); // 删除elem 上的所有缓存数据
</code></pre><h4 id="工具方法"><a href="#工具方法" class="headerlink" title="工具方法"></a>工具方法</h4><pre><code>$.isArray(obj); // 检测一个对象是否是数组
$.isFunction(obj); // 检测一个对象是否是函数
$.trim(str); // 去除string 的空格

$.( value, array [, fromIndex ] )
$.inArray(value, array); // 返回value 在array 中的下标， 如果没有找到则返回-1

$.inArray(123, [&quot;john&quot;,1,123,&quot;f&quot;]); // return2

$.unique(array); // 去除array 中的重复元素，该方法只对DOM Element 有效，对string 和 number 无效
</code></pre><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>最后，由于篇幅限制，把最重要的 <code>事件绑定</code> 和 <code>ajax</code> 独立出来，并且也还没写完呢，先到这里。</p>

	
	</div>
  <a type="button" href="/2014/10/31/2014-08-21-jquery基本用法/#more" class="btn btn-default more">阅读此文</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2014-10-31 </div>
			<div class="article-title"><a href="/2014/10/31/2013-11-15-尝试山寨Backbone/" >mvc-backbone</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
	
	
		<p>学习了 BackBone.js, 为了更加深刻的理解，尝试山寨之。</p>

	
	</div>
  <a type="button" href="/2014/10/31/2013-11-15-尝试山寨Backbone/#more" class="btn btn-default more">阅读此文</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2014-10-31 </div>
			<div class="article-title"><a href="/2014/10/31/2014-11-03-mvc-backbone/" >尝试山寨Backbone</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
	
	
		<p>前几天梳理了下 MVC 的知识,准备好基础,现在开始学习 BackBone.js 。</p>

	
	</div>
  <a type="button" href="/2014/10/31/2014-11-03-mvc-backbone/#more" class="btn btn-default more">阅读此文</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2014-10-31 </div>
			<div class="article-title"><a href="/2014/10/31/2014-10-31-mvc/" >mvc之投石问路</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
	
	
		<h2 id="什么是MVC"><a href="#什么是MVC" class="headerlink" title="什么是MVC"></a>什么是MVC</h2><p>MVC 是一种设计模式，它将应用划分为3 个部分：数据（模型）、展现层（视图）和用户交互层（控制器）。换句话说，一个事件的发生是这样的过程：<br>1． 用户和应用产生交互。<br>2． 控制器的事件处理器被触发。<br>3． 控制器从模型中请求数据，并将其交给视图。<br>4． 视图将数据呈现给用户。</p>
<p>现在来看一个真实的例子</p>
<p>1． 用户提交一个新的聊天消息。<br>2． 控制器的事件处理器被触发。<br>3． 控制器创建了一个新的聊天模型（Chat Model）记录。<br>4． 然后控制器更新视图。<br>5． 用户在聊天窗口看到新的聊天消息。</p>
<h2 id="模型"><a href="#模型" class="headerlink" title="模型"></a>模型</h2><p>模型用来存放应用的所有数据对象。比如，可能有一个User 模型，用以存放用户列表、他们的属性及所有与模型有关的逻辑。<br>模型不必知晓视图和控制器的细节，模型只需包含数据及直接和这些数据相关的逻辑。任何事件处理代码、视图模板，以及那些和模型无关的逻辑都应当隔离在模型之外。</p>
<blockquote>
<p>将模型和视图的代码混在一起，是违反MVC 架构原则的。模型是最应该从你的应用中解<br>耦出来的部分。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> user = User.find(<span class="string">'foo'</span>);</div><div class="line">user.destroy();</div></pre></td></tr></table></figure>
<p>当控制器从服务器抓取数据或创建新的记录时，它就将数据包装成模型实例。</p>
<h2 id="视图"><a href="#视图" class="headerlink" title="视图"></a>视图</h2><p>视图层是呈现给用户的，用户与之产生交互。在JavaScript 应用中，视图大都是由HTML、CSS 和JavaScript 模板组成的。</p>
<p>实际上，和模型类似，视图也应当从应用的其他部分中解耦出来。视图不必知晓模型和控制器中的细节，它们是相互独立的。</p>
<blockquote>
<p>将逻辑混入视图之中是编程的大忌。</p>
</blockquote>
<p>##控制器<br>控制器是模型和视图之间的纽带。控制器从视图获得事件和输入，对它们进行处理（很可能包含模型），并相应地更新视图。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> Controller = &#123;&#125;;</div><div class="line"></div><div class="line"><span class="comment">// 使用匿名函数来封装一个作用域</span></div><div class="line">(Controller.users = <span class="function"><span class="keyword">function</span>(<span class="params">$</span>)</span>&#123;</div><div class="line"></div><div class="line">	<span class="keyword">var</span> nameClick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">		<span class="comment">/* ... */</span></div><div class="line">	&#125;;</div><div class="line"></div><div class="line">	<span class="comment">// 在页面加载时绑定事件监听</span></div><div class="line">	$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">		$(<span class="string">"#view .name"</span>).click(nameClick);</div><div class="line">	&#125;);</div><div class="line"></div><div class="line">&#125;)(jQuery);</div></pre></td></tr></table></figure>

	
	</div>
  <a type="button" href="/2014/10/31/2014-10-31-mvc/#more" class="btn btn-default more">阅读此文</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2014-10-31 </div>
			<div class="article-title"><a href="/2014/10/31/2014-10-31-ajax_deferred_promise/" >ajax</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
	
	
		<p>最本质的 ajax 其实是这样的：</p>
<iframe width="100%" height="300" src="http://jsfiddle.net/codinglion/Lnbvv/embedded/" allowfullscreen="allowfullscreen" frameborder="0"></iframe>


<p>jQuery 出现后，在发出Ajax请求时，jQuery会帮我们确定取得数据的最佳方式。可用的方式包括标准的XMLHttpRequest对象、ms的ActiveX对象XMLHTTP 或 script 标签。</p>
<p>由于不同请求使用的数据传输方式可能不一样，那我们就需要一个公共的接口与这些通信交互。为此，jqXHR对象提供了这种接口在 XMLHttpRequest对象可用的情况下，封装该对象的行为；在XMLHttpRequest对象不可用的情况下，则尽可能模拟它。这个对象提供给我们的属性和方法包括：</p>
<ul>
<li>包含返回数据的 .responseText或.responseXML；</li>
<li>包含状态码和状态描述的 .status和.statusText；</li>
<li>操作与请求一起发送的HTTP头部的.setRequestHeader()；</li>
<li>提早中断通信的.abort()</li>
</ul>
<p>jQuery的所有 Ajax 方法都会返回jqXHR对象，只要把这个对象保存起来，随后就可以方便地使用这些属性和方法。</p>
<p>乍一看，调用.done()和.fail()与之前的写法相比并没有明显的好处。可是，这两个承诺方法的确是有好处的。第一，可以多次调用这两个方法，根据需要添加多个处理程序。</p>
<p>第二，如果把调用$.ajax()的结果保存在一个变量中，那么就可以考虑代码的可读性，在后面再添加处理程序。</p>
<p>第三，如果在添加处理程序的时候Ajax操作已经完成，就会立即调用该处理程序。</p>
<p>第四，我们最好采用与jQuery库中其他代码一致的语法，这带来的好处不言而喻。</p>
<hr>
<h2 id="Promise-对象和Deferred-对象"><a href="#Promise-对象和Deferred-对象" class="headerlink" title="Promise 对象和Deferred 对象"></a>Promise 对象和Deferred 对象</h2><pre><code>// jQuery 1.4 
// &quot;马上就要&quot;
$.get(&apos;/mydata&apos;, {
    success: onSuccess,
    failure: onFailure,
    always: onAlways
});

// jQuery 1.5
// 分期交付
var promise = $.get(&apos;/mydata&apos;);
    promise.done(onSuccess);
    promise.fail(onFailure);
    promise.always(onAlways);
</code></pre><p>jQuery 1.5 改变了 Ajax 那种“马上就要”的态度。我们喜爱的所有 Ajax 函数（$.ajax、$.get 及$.post）现在都会返回Promise（承诺）对象。</p>
<p>Promise 对象代表一项有两种可能结果（成功或失败）的任务，它还持有多个回调，出现不同结果时会分别触发相应的回调。</p>
<p>进度通知的存在并没有改变每个Promise 对象的最终状态为已执行或<br>已拒绝这一事实。（否则，Promise 对象将永远保持挂起状态。）但为<br>什么要这样呢？为什么不让Promise 对象随时变化成任意的状态，而<br>偏偏只有这两种状态呢？</p>
<iframe width="100%" height="300" src="http://jsfiddle.net/codinglion/826p0n62/embedded/" allowfullscreen="allowfullscreen" frameborder="0"></iframe>

<iframe width="100%" height="300" src="http://jsfiddle.net/codinglion/zpnpzga2/embedded/" allowfullscreen="allowfullscreen" frameborder="0"></iframe>

<iframe width="100%" height="300" src="http://jsfiddle.net/codinglion/toLdwsjv/embedded/" allowfullscreen="allowfullscreen" frameborder="0"></iframe>

<iframe width="100%" height="300" src="http://jsfiddle.net/codinglion/1qmmro5o/embedded/" allowfullscreen="allowfullscreen" frameborder="0"></iframe>


<iframe width="100%" height="300" src="http://jsfiddle.net/codinglion/bfdpnnen/embedded/" allowfullscreen="allowfullscreen" frameborder="0"></iframe>


	
	</div>
  <a type="button" href="/2014/10/31/2014-10-31-ajax_deferred_promise/#more" class="btn btn-default more">阅读此文</a>
</div>

		

		</div>

		<!-- pagination -->
		<div>
  		<center>
		<div class="pagination">
<ul class="pagination">
	 
		
    	<li class="prev"><a href="/page/7/" class="alignleft prev"><i class="fa fa-arrow-circle-o-left"></i> 上一页</a></li>
  		

        <li><a href="/"><i class="fa fa-home"></i>Home</a></li>

		
		   <li class="next"> <a href="/page/9/" class="alignright next">下一页<i class="fa fa-arrow-circle-o-right"></i></a> </li>          
        
	
</ul>
</div>

  		</center>
		</div>

		
		
	</div> <!-- col-md-9 -->

	
		<div class="col-md-3">
	<div id="sidebar">
	
			 

		
			
	<div class="widget">
		<h4>分类</h4>
		<ul class="tag_box inline list-unstyled">
		
			<li><a href="/categories/Sports/Baseball/">Baseball<span>2</span></a></li>
		
			<li><a href="/categories/Sports/">Sports<span>2</span></a></li>
		
			<li><a href="/categories/bom/">bom<span>1</span></a></li>
		
			<li><a href="/categories/collection/">collection<span>1</span></a></li>
		
			<li><a href="/categories/css/">css<span>1</span></a></li>
		
			<li><a href="/categories/http/">http<span>1</span></a></li>
		
			<li><a href="/categories/javascript-template/">javascript template<span>1</span></a></li>
		
			<li><a href="/categories/javascript-test/">javascript test<span>1</span></a></li>
		
			<li><a href="/categories/jquery/">jquery<span>1</span></a></li>
		
			<li><a href="/categories/library/">library<span>2</span></a></li>
		
			<li><a href="/categories/note/">note<span>1</span></a></li>
		
			<li><a href="/categories/note-vim/">note vim<span>2</span></a></li>
		
			<li><a href="/categories/tool/">tool<span>3</span></a></li>
		
		</ul>
	</div>

		
			
	<div class="widget">
		<h4>标签云</h4>
		<ul class="tag_box inline list-unstyled">		
		
			<li><a href="/tags/dom-javascript/">dom,javascript<span>1</span></a></li>
		
			<li><a href="/tags/javascript-template/">javascript template<span>1</span></a></li>
		
			<li><a href="/tags/test/">test<span>2</span></a></li>
		
			<li><a href="/tags/hg/">hg<span>1</span></a></li>
		
			<li><a href="/tags/css/">css<span>7</span></a></li>
		
			<li><a href="/tags/jquery/">jquery<span>3</span></a></li>
		
			<li><a href="/tags/webponent/">webponent<span>1</span></a></li>
		
			<li><a href="/tags/w3c/">w3c<span>1</span></a></li>
		
			<li><a href="/tags/javascript-test/">javascript test<span>1</span></a></li>
		
			<li><a href="/tags/mac/">mac<span>1</span></a></li>
		
			<li><a href="/tags/git/">git<span>5</span></a></li>
		
			<li><a href="/tags/linux/">linux<span>6</span></a></li>
		
			<li><a href="/tags/html5/">html5<span>1</span></a></li>
		
			<li><a href="/tags/build/">build<span>2</span></a></li>
		
			<li><a href="/tags/think/">think<span>1</span></a></li>
		
			<li><a href="/tags/javascript/">javascript<span>9</span></a></li>
		
			<li><a href="/tags/document/">document<span>1</span></a></li>
		
			<li><a href="/tags/framework/">framework<span>1</span></a></li>
		
			<li><a href="/tags/webcomponent/">webcomponent<span>2</span></a></li>
		
			<li><a href="/tags/tools/">tools<span>2</span></a></li>
		
		
		   <li><a href="/tags">...<span>39</span></a></li>
		 
		</ul>
	</div>


		
			
<div class="widget">
  <h4>最新文章</h4>
  <ul class="entry list-unstyled">
    
      <li>
        <a href="/2017/01/03/新的一年-2017/"  title="介绍下使用 fenced-code." ><i class="fa fa-file-o"></i>Hello 2017</a>
      </li>
    
      <li>
        <a href="/2015/10/27/what_is_true/" ><i class="fa fa-file-o"></i>实际情况是什么样的</a>
      </li>
    
      <li>
        <a href="/2015/10/23/软件设计原则/" ><i class="fa fa-file-o"></i>软件设计原则</a>
      </li>
    
      <li>
        <a href="/2015/10/23/测试工具-Mock-的使用-资料整理中/" ><i class="fa fa-file-o"></i>测试工具 Mock 的使用(资料整理中)</a>
      </li>
    
      <li>
        <a href="/2015/10/23/怎么写出好代码/" ><i class="fa fa-file-o"></i>怎么写出好代码</a>
      </li>
    
  </ul>
</div>

		
			
<div class="widget">
	<h4>链接</h4>
	<ul class="blogroll list-unstyled">
	
		<li><i class="fa fa-github"></i><a href="https://github.com/chenyakun" title="My Github repository." target="_blank"]);">My Github</a></li>
	
	</ul>
</div>


		
	</div> <!-- sidebar -->
</div> <!-- col-md-3 -->

	
	
</div> <!-- row-fluid -->
	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
  &copy; 2017 yakun.cyk
  
      with help from <a href="http://hexo.io/" target="_blank">Hexo</a> and <a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a>. Theme by <a href="http://github.com/wzpan/hexo-theme-freemind/">Freemind</a>.    
</p> </footer>
</div> <!-- container-narrow -->
  
  
<a id="gotop" href="#">   
  <span>▲</span> 
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>
<!-- <script src="/js/search.js"></script>  -->

<!-- 
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>
 -->

<!-- 
   <script type="text/javascript">      
     var search_path = "search.xml";
	 if (search_path.length == 0) {
	 	search_path = "search.xml";
	 }
	 var path = "/" + search_path;
     searchFunc(path, 'local-search-input', 'local-search-result');
   </script>
 -->

<div class="cb-search-tool" style="position: fixed; top: 0px ; bottom: 0px; left: 0px; right:  0px;
        opacity: 0.95; background-color: #111111; z-index: 9999; display: none;">

    <input type="text" class="cb-search-content" id="cb-search-content" style="position: fixed; top: 60px" placeholder="文章标题 日期 标签" />

    <div style="position: fixed; top: 16px; right: 16px;">
        <img src="/search/img/cb-close.png"  id="cb-close-btn"/>
    </div>
</div>

<!-- <div style="position: fixed; right: 16px; bottom: 20px;">
    <img src="/search/img/cb-search.png"  id="cb-search-btn"  title="双击ctrl试一下"/>
</div> -->

<link rel="stylesheet" href="/search/css/cb-search.css">
<script src="/search/js/bootstrap3-typeahead.min.js"></script>
<script src="/search/js/cb-search.js"></script>

</body>
   </html>
