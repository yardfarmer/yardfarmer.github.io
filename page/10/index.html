<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>第 10 页 | output stream</title>
  <meta name="author" content="yakun.cyk">
  
  <meta name="description" content="主要内容可能关于 web 技术，感慨心得...">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="output stream"/>

  
    <meta property="og:image" content="undefined"/>
  

  
  
    <link href="/favicon.png" rel="icon">
  
  
  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  



</head>

 <body>  
  <nav id="main-nav" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
	    <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
	  <a class="navbar-brand" href="/">output stream</a>
      <div class="collapse navbar-collapse nav-menu">
		    <ul class="nav navbar-nav">
    		  
    		  <li>
    			 <a href="/demos" title="Demos.">
            <i class="fa fa-flask"></i>Demos
    			 </a>
    		  </li>
    		  
    		  <li>
    			 <a href="/archives" title="All the articles.">
            <i class="fa fa-archive"></i>归档
    			 </a>
    		  </li>
    		  
    		  <li>
    			 <a href="/about" title="About me.">
            <i class="fa fa-user"></i>关于我
    			 </a>
    		  </li>
    		  
    		  <li>
    			 <a href="/#" title="Search Posts.">
            <i class="fa fa-search"></i>搜索
    			 </a>
    		  </li>
    		  
    		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 <div class="row page">

	
	<div class="col-md-9">
	

		<div class="slogan">
      <!--
        <i class="fa fa-heart"></i> 
      -->
      
</div>    
		<div id="top_search"></div>
		<div class="mypage">
		
		<!-- title and entry -->
		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2014-03-20 </div>
			<div class="article-title"><a href="/2014/03/20/2014-03-20-dom启蒙笔记/" >dom 启蒙笔记</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
	
	
		<p>文档对象模型(Document Object Model),是个由javascript 节点对象组成的层次结构。<br>HTML 文档被浏览器解析并转换为一个由节点对象组成的以体现当前文档的树状结构。<br>DOM 的目的是使用Javascritp操作,为当前文档提供一个变成接口。</p>
<h2 id="节点类型"><a href="#节点类型" class="headerlink" title="节点类型"></a>节点类型</h2><p>DOCUMENT_NODE (window.document)<br>ELEMENT_NODE (<body>,<p>)<br>ATTRIBUTE_NODE<br>TEXT_NODE<br>DOCUMENT_FRAGMENT_NODE<br>DOCUMENT_TYPE_NODE (!DOCTYPE HTML)</p>
<h2 id="Node常量"><a href="#Node常量" class="headerlink" title="Node常量"></a>Node常量</h2><p>ELEMENT_NODE<br>ATTRIBUTE_NODE<br>TEXT_NODE<br>CDATA_SECTION_NODE<br>ENTITY_REFERENCE_NODE<br>ENTITY_NODE<br>…..</p>
</body></p>
	
	</div>
  <a type="button" href="/2014/03/20/2014-03-20-dom启蒙笔记/#more" class="btn btn-default more">阅读此文</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2014-01-01 </div>
			<div class="article-title"><a href="/2014/01/01/2014-11-10-客户端库管理工具-brower/" >Bower：客户端库管理工具</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
	
	
		<h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>随着网页功能变得越来越复杂，同一张网页加载多个JavaScript函数库早已是家常便饭。开发者越来越需要一个工具，对浏览器端的各种库进行管理，比如搜索、自动安装\卸载、检查更新、确保依赖关系等等。Bower就是为了解决这个问题而诞生的针对浏览器端的库管理工具。</p>
<p>Bower基于node.js，所以安装之前，必须先确保已安装node.js。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo npm install bower -global</div></pre></td></tr></table></figure>
<p>运行上面的命令以后，Bower就已经安装在你的系统中了。运行帮助命令，查看Bower是否安装成功。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">bower <span class="built_in">help</span></div></pre></td></tr></table></figure>
<p>下面的命令可以更新或卸载Bower。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">sudo npm update -g bower</div><div class="line">sudo npm uninstall -global bower</div></pre></td></tr></table></figure>
<h2 id="常用操作"><a href="#常用操作" class="headerlink" title="常用操作"></a>常用操作</h2><h3 id="库的安装"><a href="#库的安装" class="headerlink" title="库的安装"></a>库的安装</h3><p>bower install命令用于安装某个库，需要指明库的名字。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">bower install backbone</div></pre></td></tr></table></figure>
<p>Bower会使用库的名字，去在线索引中搜索该库的网址。某些情况下，如果一个库很新（或者你不想使用默认网址），可能需要我们手动指定该库的网址。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">bower install git://github.com/documentcloud/backbone.git</div><div class="line"></div><div class="line">bower install http://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.0.0/backbone-min.js</div><div class="line"></div><div class="line">bower install ./some/path/relative/to/this/directory/backbone.js</div></pre></td></tr></table></figure>
<p>上面的命令说明，指定的网址可以是github地址、http网址、本地文件。</p>
<p>默认情况下，会安装该库的最新版本，但是也可以手动指定版本号。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">bower install jquery-ui<span class="comment">#1.10.1</span></div></pre></td></tr></table></figure>
<p>上面的命令指定安装jquery-ui的1.10.1版。</p>
<p>如果某个库依赖另一个库，安装时默认将所依赖的库一起安装。比如，jquery-ui依赖jquery，安装时会连jquery一起安装。</p>
<p>安装后的库默认存放在项目的bower_components子目录，如果要指定其他位置，可在.bowerrc文件的directory属性设置。</p>
<h3 id="库的搜索和查看"><a href="#库的搜索和查看" class="headerlink" title="库的搜索和查看"></a>库的搜索和查看</h3><p>bower search命令用于使用关键字，从在线索引中搜索相关库。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">bower search jquery</div></pre></td></tr></table></figure>
<p>上面命令会得到下面这样的结果。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">Search results:</div><div class="line"></div><div class="line">    jquery git://github.com/components/jquery.git</div><div class="line">    jquery-ui git://github.com/components/jqueryui</div><div class="line">    jquery.cookie git://github.com/carhartl/jquery-cookie.git</div><div class="line">    jquery-placeholder git://github.com/mathiasbynens/jquery-placeholder.git</div><div class="line">    jquery-file-upload git://github.com/blueimp/jQuery-File-Upload.git</div><div class="line">    jasmine-jquery git://github.com/velesin/jasmine-jquery</div><div class="line">    jquery.ui git://github.com/jquery/jquery-ui.git</div><div class="line">    ...</div></pre></td></tr></table></figure>
<p>bower info命令用于查看某个库的详细信息。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">bower info jquery-ui</div></pre></td></tr></table></figure>
<p>查看结果会列出该库的依赖关系（dependencies），以及可以得到的版本（Available versions）。</p>
<h3 id="库的更新和卸载"><a href="#库的更新和卸载" class="headerlink" title="库的更新和卸载"></a>库的更新和卸载</h3><p>bower update用于更新一个库，将其更新为最新版本。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">bower update jquery-ui</div></pre></td></tr></table></figure>
<p>如果不给出库名，则更新所有库。</p>
<p>bower uninstall命令用于卸载指定的库。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">bower uninstall jquery-ui</div></pre></td></tr></table></figure>
<p>注意，默认情况下会连所依赖的库一起卸载。比如，jquery-ui依赖jquery，卸载时会连jquery一起卸载，除非还有别的库依赖jquery。</p>
<h3 id="列出所有库"><a href="#列出所有库" class="headerlink" title="列出所有库"></a>列出所有库</h3><p>bower list或bower ls命令，用于列出项目所使用的所有库。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Bower list</div><div class="line">Bower ls</div></pre></td></tr></table></figure>
<h2 id="配置文件-bowerrc"><a href="#配置文件-bowerrc" class="headerlink" title="配置文件.bowerrc"></a>配置文件.bowerrc</h2><p>项目根目录下（也可以放在用户的主目录下）的.bowerrc文件是Bower的配置文件，它大概像下面这样。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  <span class="string">"directory"</span> : <span class="string">"components"</span>,</div><div class="line">  <span class="string">"json"</span>      : <span class="string">"bower.json"</span>,</div><div class="line">  <span class="string">"endpoint"</span>  : <span class="string">"https://Bower.herokuapp.com"</span>,</div><div class="line">  <span class="string">"searchpath"</span>  : <span class="string">""</span>,</div><div class="line">  <span class="string">"shorthand_resolver"</span> : <span class="string">""</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>其中的属性含义如下。</p>
<ul>
<li>directory：存放库文件的子目录名。</li>
<li>json：描述各个库的json文件名。 </li>
<li>endpoint：在线索引的网址，用来搜索各种库。</li>
<li>searchpath：一个数组，储存备选的在线索引网址。如果某个库在endpoint中找不到，则继续搜索该属性指定的网址，通常用于放置某些不公开的库。</li>
<li>shorthand_resolver：定义各个库名称简写形式。</li>
</ul>
<h2 id="库信息文件bower-json"><a href="#库信息文件bower-json" class="headerlink" title="库信息文件bower.json"></a>库信息文件bower.json</h2><p>bower.json文件存放在库的根目录下，用于保存项目的库信息，供项目安装时使用，以及Bower的在线索引读取。</p>
<p>下面是一个典型的bower.json文件。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  <span class="string">"name"</span>: <span class="string">"app-name"</span>,</div><div class="line">  <span class="string">"version"</span>: <span class="string">"0.1.0"</span>, </div><div class="line">  <span class="string">"main"</span>: [<span class="string">"path/to/app.html"</span>, <span class="string">"path/to/app.css"</span>, <span class="string">"path/to/app.js"</span>],</div><div class="line">  <span class="string">"ignore"</span>: [<span class="string">".jshintrc"</span>,<span class="string">"**/*.txt"</span>],</div><div class="line">  <span class="string">"dependencies"</span>: &#123;</div><div class="line">    <span class="string">"sass-bootstrap"</span>: <span class="string">"~3.0.0"</span>,</div><div class="line">    <span class="string">"modernizr"</span>: <span class="string">"~2.6.2"</span>,</div><div class="line">    <span class="string">"jquery"</span>: <span class="string">"latests"</span></div><div class="line">  &#125;,</div><div class="line">  <span class="string">"devDependencies"</span>: &#123;<span class="string">"qunit"</span>: <span class="string">"&gt;1.11.0"</span>&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>在项目的根目录下，运行bower init命令，通过回答几个问题，就会自动生成bower.json文件。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">bower init</div></pre></td></tr></table></figure>
<p>有了bower.json文件以后，就可以用bower install命令，一下子安装所有库。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">bower install</div></pre></td></tr></table></figure>
<p>根据bower.json文件，还可以向Bower的在线索引提交你的库。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">bower register &lt;my-package-name&gt; &lt;git-endpoint&gt;</div><div class="line"></div><div class="line">// 比如</div><div class="line">bower register jquery git://github.com/jquery/jquery</div></pre></td></tr></table></figure>
<p>注意，如果你的库与现有的库重名，就会提交失败。</p>
<h2 id="相关链接"><a href="#相关链接" class="headerlink" title="相关链接"></a>相关链接</h2><ul>
<li>Cody Lindley, <a href="http://tech.pro/tutorial/1190/package-managers-an-introductory-guide-for-the-uninitiated-front-end-developer" target="_blank" rel="external">Package Managers: An Introductory Guide For The Uninitiated Front-End Developer</a></li>
<li>Tyson Cadenhead, <a href="http://tysoncadenhead.com/blog/client-side-dependency-management-with-bower" target="_blank" rel="external">Client-Side Dependency Management with Bower</a></li>
<li>Matt West, <a href="http://blog.teamtreehouse.com/getting-started-bower" target="_blank" rel="external">Getting Started with Bower</a></li>
</ul>

	
	</div>
  <a type="button" href="/2014/01/01/2014-11-10-客户端库管理工具-brower/#more" class="btn btn-default more">阅读此文</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2013-12-29 </div>
			<div class="article-title"><a href="/2013/12/29/2013-12-29-websocket/" >WebSocket</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
	
	
		<h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>HTTP协议是一种无状态协议，服务器端本身不具有识别客户端的能力，必须借助外部机制，比如session和cookie，才能与特定客户端保持对话。这多多少少带来一些不便，尤其在服务器端与客户端需要持续交换数据的场合（比如网络聊天），更是如此。为了解决这个问题，HTML5提出了浏览器的<a href="http://dev.w3.org/html5/websockets/" target="_blank" rel="external">WebSocket API</a>。</p>
<p>WebSocket的主要作用是，允许服务器端与客户端进行全双工（full-duplex）的通信。举例来说，HTTP协议有点像发电子邮件，发出后必须等待对方回信；WebSocket则是像打电话，服务器端和客户端可以同时向对方发送数据，它们之间存着一条持续打开的数据通道。</p>
<p>WebSocket协议完全可以取代Ajax方法，用来向服务器端发送文本和二进制数据，而且还没有“同域限制”。</p>
<p>WebSocket不使用HTTP协议，而是使用自己的协议。浏览器发出的WebSocket请求类似于下面的样子：</p>
<figure class="highlight http"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">GET</span> <span class="string">/</span> HTTP/1.1</div><div class="line"><span class="attribute">Connection</span>: Upgrade</div><div class="line"><span class="attribute">Upgrade</span>: websocket</div><div class="line"><span class="attribute">Host</span>: example.com</div><div class="line"><span class="attribute">Origin</span>: null</div><div class="line"><span class="attribute">Sec-WebSocket-Key</span>: sN9cRrP/n9NdMgdcy2VJFQ==</div><div class="line"><span class="attribute">Sec-WebSocket-Version</span>: 13</div></pre></td></tr></table></figure>
<p>上面的头信息显示，有一个HTTP头是Upgrade。HTTP1.1协议规定，Upgrade头信息表示将通信协议从HTTP/1.1转向该项所指定的协议。“Connection: Upgrade”就表示浏览器通知服务器，如果可以，就升级到webSocket协议。Origin用于验证浏览器域名是否在服务器许可的范围内。Sec-WebSocket-Key则是用于握手协议的密钥，是base64编码的16字节随机字符串。</p>
<p>服务器端的WebSocket回应则是</p>
<figure class="highlight http"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">HTTP/1.1 <span class="number">101</span> Switching Protocols</div><div class="line"><span class="attribute">Connection</span>: Upgrade</div><div class="line"><span class="attribute">Upgrade</span>: websocket</div><div class="line"><span class="attribute">Sec-WebSocket-Accept</span>: fFBooB7FAkLlXgRSz0BT3v4hq5s=</div><div class="line"><span class="attribute">Sec-WebSocket-Origin</span>: null</div><div class="line"><span class="attribute">Sec-WebSocket-Location</span>: ws://example.com/</div></pre></td></tr></table></figure>
<p>服务器端同样用“Connection: Upgrade”通知浏览器，需要改变协议。Sec-WebSocket-Accept是服务器在浏览器提供的Sec-WebSocket-Key字符串后面，添加“258EAFA5-E914-47DA-95CA-C5AB0DC85B11” 字符串，然后再取sha-1的hash值。浏览器将对这个值进行验证，以证明确实是目标服务器回应了webSocket请求。Sec-WebSocket-Location表示进行通信的WebSocket网址。</p>
<blockquote>
<p>请注意，WebSocket协议用ws表示。此外，还有wss协议，表示加密的WebSocket协议，对应HTTPs协议。</p>
</blockquote>
<p>完成握手以后，WebSocket协议就在TCP协议之上，开始传送数据。</p>
<p>WebSocket协议需要服务器支持，目前比较流行的实现是基于node.js的<a href="http://socket.io/" target="_blank" rel="external">socket.io</a>，更多的实现可参阅<a href="http://en.wikipedia.org/wiki/WebSocket#Server_side" target="_blank" rel="external">Wikipedia</a>。至于浏览器端，目前主流浏览器都支持WebSocket协议（包括IE 10+），仅有的例外是手机端的Opera Mini和Android Browser。</p>
<h2 id="客户端"><a href="#客户端" class="headerlink" title="客户端"></a>客户端</h2><p>浏览器端对WebSocket协议的处理，无非就是三件事：</p>
<ul>
<li>建立连接和断开连接</li>
<li>发送数据和接收数据</li>
<li>处理错误</li>
</ul>
<h3 id="建立连接和断开连接"><a href="#建立连接和断开连接" class="headerlink" title="建立连接和断开连接"></a>建立连接和断开连接</h3><p>首先，客户端要检查浏览器是否支持WebSocket，使用的方法是查看window对象是否具有WebSocket属性。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">if</span>(<span class="built_in">window</span>.WebSocket != <span class="literal">undefined</span>) &#123;</div><div class="line">	<span class="comment">// WebSocket代码</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>然后，开始与服务器建立连接（这里假定服务器就是本机的1740端口，需要使用ws协议）。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">if</span>(<span class="built_in">window</span>.WebSocket != <span class="literal">undefined</span>) &#123;</div><div class="line">	<span class="keyword">var</span> connection = <span class="keyword">new</span> WebSocket(<span class="string">'ws://localhost:1740'</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>建立连接以后的WebSocket实例对象（即上面代码中的connection），有一个readyState属性，表示目前的状态，可以取4个值：</p>
<ul>
<li><strong>0</strong>： 正在连接</li>
<li><strong>1</strong>： 连接成功</li>
<li><strong>2</strong>： 正在关闭</li>
<li><strong>3</strong>： 连接关闭</li>
</ul>
<p>握手协议成功以后，readyState就从0变为1，并触发open事件，这时就可以向服务器发送信息了。我们可以指定open事件的回调函数。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">connection.onopen = wsOpen;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">wsOpen</span> (<span class="params">event</span>) </span>&#123;</div><div class="line">	<span class="built_in">console</span>.log(<span class="string">'Connected to: '</span> + event.currentTarget.URL);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>关闭WebSocket连接，会触发close事件。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">connection.onclose = wsClose;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">wsClose</span> (<span class="params"></span>) </span>&#123;</div><div class="line">	<span class="built_in">console</span>.log(<span class="string">"Closed"</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line">connection.close();</div></pre></td></tr></table></figure>
<h3 id="发送数据和接收数据"><a href="#发送数据和接收数据" class="headerlink" title="发送数据和接收数据"></a>发送数据和接收数据</h3><p>连接建立后，客户端通过send方法向服务器端发送数据。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">connection.send(message);</div></pre></td></tr></table></figure>
<p>除了发送字符串，也可以使用 Blob 或 ArrayBuffer 对象发送二进制数据。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="comment">// 使用ArrayBuffer发送canvas图像数据</span></div><div class="line"><span class="keyword">var</span> img = canvas_context.getImageData(<span class="number">0</span>, <span class="number">0</span>, <span class="number">400</span>, <span class="number">320</span>);</div><div class="line"><span class="keyword">var</span> binary = <span class="keyword">new</span> <span class="built_in">Uint8Array</span>(img.data.length);</div><div class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; img.data.length; i++) &#123;</div><div class="line">	binary[i] = img.data[i];</div><div class="line">&#125;</div><div class="line">connection.send(binary.buffer);</div><div class="line"></div><div class="line"><span class="comment">// 使用Blob发送文件</span></div><div class="line"><span class="keyword">var</span> file = <span class="built_in">document</span>.querySelector(<span class="string">'input[type="file"]'</span>).files[<span class="number">0</span>];</div><div class="line">connection.send(file);</div></pre></td></tr></table></figure>
<p>客户端收到服务器发送的数据，会触发message事件。可以通过定义message事件的回调函数，来处理服务端返回的数据。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">connection.onmessage = wsMessage;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">wsMessage</span> (<span class="params">event</span>) </span>&#123;</div><div class="line">	<span class="built_in">console</span>.log(event.data);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>上面代码的回调函数wsMessage的参数为事件对象event，该对象的data属性包含了服务器返回的数据。</p>
<p>如果接收的是二进制数据，需要将连接对象的格式设为blob或arraybuffer。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">connection.binaryType = <span class="string">'arraybuffer'</span>;</div><div class="line"></div><div class="line">connection.onmessage = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(e.data.byteLength); <span class="comment">// ArrayBuffer对象有byteLength属性</span></div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="处理错误"><a href="#处理错误" class="headerlink" title="处理错误"></a>处理错误</h3><p>如果出现错误，浏览器会触发WebSocket实例对象的error事件。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">connection.onerror = wsError;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">wsError</span>(<span class="params">event</span>) </span>&#123;</div><div class="line">	<span class="built_in">console</span>.log(<span class="string">"Error: "</span> + event.data);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="服务器端"><a href="#服务器端" class="headerlink" title="服务器端"></a>服务器端</h2><p>服务器端需要单独部署处理WebSocket的代码。下面用node.js搭建一个服务器环境。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">'http'</span>);</div><div class="line"><span class="keyword">var</span> server = http.createServer(<span class="function"><span class="keyword">function</span>(<span class="params">request, response</span>) </span>&#123;&#125;);</div></pre></td></tr></table></figure>
<p>假设监听1740端口。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">server.listen(<span class="number">1740</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log((<span class="keyword">new</span> <span class="built_in">Date</span>()) + <span class="string">' Server is listening on port 1740'</span>);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>接着启动WebSocket服务器。这需要加载websocket库，如果没有安装，可以先使用npm命令安装。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> WebSocketServer = <span class="built_in">require</span>(<span class="string">'websocket'</span>).server;</div><div class="line"><span class="keyword">var</span> wsServer = <span class="keyword">new</span> WebSocketServer(&#123;</div><div class="line">    <span class="attr">httpServer</span>: server</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>WebSocket服务器建立request事件的回调函数。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> connection;</div><div class="line"></div><div class="line">wsServer.on(<span class="string">'request'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req</span>)</span>&#123;</div><div class="line">    connection = req.accept(<span class="string">'echo-protocol'</span>, req.origin);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>上面代码的回调函数接受一个参数req，表示request请求对象。然后，在回调函数内部，建立WebSocket连接connection。接着，就要对connection的message事件指定回调函数。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">wsServer.on(<span class="string">'request'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">r</span>)</span>&#123;</div><div class="line">    connection = req.accept(<span class="string">'echo-protocol'</span>, req.origin);</div><div class="line"></div><div class="line">	connection.on(<span class="string">'message'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">message</span>) </span>&#123;</div><div class="line">		<span class="keyword">var</span> msgString = message.utf8Data;</div><div class="line">		connection.sendUTF(msgString);</div><div class="line">	&#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>最后，监听用户的disconnect事件。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">connection.on(<span class="string">'close'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">reasonCode, description</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(connection.remoteAddress + <span class="string">' disconnected.'</span>);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h2 id="Socket-io简介"><a href="#Socket-io简介" class="headerlink" title="Socket.io简介"></a>Socket.io简介</h2><p><a href="http://socket.io/" target="_blank" rel="external">Socket.io</a>是目前最流行的WebSocket实现，包括服务器和客户端两个部分。它不仅简化了接口，使得操作更容易，而且对于那些不支持WebSocket的浏览器，会自动降为Ajax连接，最大限度地保证了兼容性。</p>
<p>第一步，在服务器端的项目根目录下，安装socket.io模块。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">npm install socket.io</div></pre></td></tr></table></figure>
<p>第二步，在根目录下建立app.js，并写入以下代码（假定使用了Express框架）。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> app = <span class="built_in">require</span>(<span class="string">'express'</span>)();</div><div class="line"><span class="keyword">var</span> server = <span class="built_in">require</span>(<span class="string">'http'</span>).createServer(app);</div><div class="line"><span class="keyword">var</span> io = <span class="built_in">require</span>(<span class="string">'socket.io'</span>).listen(server);</div><div class="line"></div><div class="line">server.listen(<span class="number">80</span>);</div><div class="line"></div><div class="line">app.get(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</div><div class="line">  res.sendfile(__dirname + <span class="string">'/index.html'</span>);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>上面代码表示，先建立并运行HTTP服务器。Socket.io的运行建立在HTTP服务器之上。</p>
<p>第三步，将Socket.io插入客户端网页。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/socket.io/socket.io.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<p>然后，在客户端脚本中，建立WebSocket连接。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> socket = io.connect(<span class="string">'http://localhost'</span>);</div></pre></td></tr></table></figure>
<p>由于本例假定WebSocket主机与客户端是同一台机器，所以connect方法的参数是<code>http://localhost</code>。接着，指定news事件（即服务器端发送news）的回调函数。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">socket.on(<span class="string">'news'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">data</span>)</span>&#123;</div><div class="line">   <span class="built_in">console</span>.log(data);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>最后，用emit方法向服务器端发送信号，触发服务器端的anotherNews事件。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">socket.emit(<span class="string">'anotherNews'</span>);</div></pre></td></tr></table></figure>
<blockquote>
<p>请注意，emit方法可以取代Ajax请求，而on方法指定的回调函数，也等同于Ajax的回调函数。</p>
</blockquote>
<p>第四步，在服务器端的app.js，加入以下代码。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">io.sockets.on(<span class="string">'connection'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">socket</span>) </span>&#123;</div><div class="line">  socket.emit(<span class="string">'news'</span>, &#123; <span class="attr">hello</span>: <span class="string">'world'</span> &#125;);</div><div class="line">  socket.on(<span class="string">'anotherNews'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(data);</div><div class="line">  &#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>上面代码的io.sockets.on方法指定connection事件（WebSocket连接建立）的回调函数。在回调函数中，用emit方法向客户端发送数据，触发客户端的news事件。然后，再用on方法指定服务器端anotherNews事件的回调函数。</p>

	
	</div>
  <a type="button" href="/2013/12/29/2013-12-29-websocket/#more" class="btn btn-default more">阅读此文</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2013-12-26 </div>
			<div class="article-title"><a href="/2013/12/26/2013-12-26-angular入门/" >angular入门</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
	
	
		<h2 id="模块"><a href="#模块" class="headerlink" title="模块"></a>模块</h2><h2 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h2><p>作用域（scope）是构成AngularJS应用的核心基础，在整个框架中都被广泛使用，因此了解<br>它如何工作是非常重要的。</p>
<p><code>$scope</code> 对象是定义应用业务逻辑、控制器方法和视图属性的地方。</p>
<p>作用域是应用状态的基础。基于动态绑定，我们可以依赖视图在修改数据时立刻更新$scope，<br>也可以依赖$scope在其发生变化时立刻重新渲染视图。</p>
<p>AngularJS将$scope设计成和DOM类似的结构，因此$scope可以进行嵌套，也就是说我们可以引用父级$scope中的属性。</p>
<p>作用域提供了监视数据模型变化的能力。它允许开发者使用其中的apply机制，将数据模型的变化在整个应用范围内进行通知。我们在作用域的上下文中定义和执行表达式，同时它也是将事件通知给另一个控制器和应用其他部分的中介。</p>
<p>AngularJS启动并生成视图时，会将根ng-app元素同$rootScope进行绑定。$rootScope是所有$scope对象的最上层。</p>
<p>$rootScope是AngularJS中最接近全局作用域的对象。在$rootScope上附加太多业<br>务逻并不是好主意，这与污染JavaScript的全局作用域是一样的。</p>
<p>$scope对象在AngularJS中充当数据模型，但与传统的数据模型不一样，$scope并不负责处<br>理和操作数据，它只是视图和HTML之间的桥梁，它是视图和控制器之间的胶水。</p>
<p>$scope的所有属性，都可以自动被视图访问到。假设我们有如下的HTML：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello &#123;&#123; name &#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>如果希望变量是本地$scope的一个属性:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">angular.module(<span class="string">'myApp'</span>, [])</div><div class="line">	.run(<span class="function"><span class="keyword">function</span>(<span class="params">$rootScope</span>) </span>&#123;</div><div class="line">		$rootScope.name = <span class="string">"World"</span>;</div><div class="line">	&#125;);</div></pre></td></tr></table></figure></p>
<p>因为把所有变量全部设置在 $rootScope 上容易产生命名冲突且不是那么优雅，可以</p>
<p>神奇的 $scope:</p>
<ol>
<li>$scope 是一个 POJO （Plain Old Javascript Object）</li>
<li>$scope 提供了一些工具方法 $watch(), $apply()</li>
<li>$scope 是表达式的执行环境（或者说是作用域）</li>
<li>$scope 是一个树形结构，与 DOM 标签平行</li>
<li>子 $scope 会继承父 $scope 上的属性和方法</li>
<li>每一个 angular 应用只有一个 根$scope 对象，一般位于 ng-app 上</li>
<li>$scope 可以传播事件，类似 dom事件，可以向上也可以向下</li>
<li>$scope 不仅是 MVC 的基础，也是实现双向数据绑定的基础</li>
</ol>
<h2 id="inbox"><a href="#inbox" class="headerlink" title="inbox"></a>inbox</h2><p>正如ng-app 声明所有被它包含的元素都属于AngularJS 应用一样，DOM元素上的 ng-controller声明所有被它包含的元素都属于某个控制器。</p>
<p>$rootScope , $scope 类似 javascript 中的原型查找， 在内层$scope 中查找不到，去外层查找$rootScope.</p>
<p>事件传播： emmit 向上传播，冒泡； broadcast： 向下传播，类似捕获。</p>

	
	</div>
  <a type="button" href="/2013/12/26/2013-12-26-angular入门/#more" class="btn btn-default more">阅读此文</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2013-12-24 </div>
			<div class="article-title"><a href="/2013/12/24/2013-12-24-css核心概念/" >css核心概念</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
	
	
		<h2 id="Visual-formatting-Context"><a href="#Visual-formatting-Context" class="headerlink" title="Visual formatting Context"></a>Visual formatting Context</h2><p>在常规流中的框（boxes，元素形成的矩形区域），都属于一个格式化的上下文中，可能是块(block)的，也可能是行内(inline)的，但不可能同时是行内的又是块的。块框(block box)参与块格式化上下文(formatting context)。行内框(inline box)参与行内格式化上下文。</p>
<h3 id="包含块-containing-block-简介"><a href="#包含块-containing-block-简介" class="headerlink" title="包含块(containing block)简介"></a>包含块(containing block)简介</h3><p>在CSS2.1中，很多box的定位和尺寸的计算，都取决于一个矩形的边界，这个矩形，就被称作是包含块(containing block)。一般来说，(元素)生成的box会扮演它子孙元素包含块的角色；我们称之为：一个(元素的)box为它的子孙节点建造了包含块。包含块是一个相对的概念。<br>比如：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">table</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">tr</span>&gt;</span><span class="tag">&lt;<span class="name">td</span>&gt;</span>hi<span class="tag">&lt;/<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">table</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>div 和 table 都是包含块。div 是 table 的包含块，同时table又是 td 的包含块，不是绝对的。<br>“一个box的包含块”，指的是“该box所存在的那个包含块”，并不是它建造的包含块。比如，上述代码中，table 的包含块，说的是 div 建造的包含块，而不是table自身建造的包含块。table 建造的包含块，可以称作 td 的包含块。</p>
<p>每个box关于它的包含块都有一个位置，但是它不会被包含块限制；它可以溢出(包含块)。包含块上可以通过设置 overflow 特性达到处理溢出的子孙元素的目的。</p>
<h3 id="行内级别元素和行内框"><a href="#行内级别元素和行内框" class="headerlink" title="行内级别元素和行内框"></a>行内级别元素和行内框</h3><p>行内元素是源文档中那些不形成新的内容块的元素；内容在行内分布（如，段落内着重的文本，行内图形等等）。某些’display’特性的值形成行内元素：’inline’，’inline-table’，’run-in’。行内级别元素生成行内框。</p>
<h3 id="匿名行内框"><a href="#匿名行内框" class="headerlink" title="匿名行内框"></a>匿名行内框</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">P</span>&gt;</span>Some <span class="tag">&lt;<span class="name">EM</span>&gt;</span>emphasized<span class="tag">&lt;/<span class="name">em</span>&gt;</span> text<span class="tag">&lt;/<span class="name">P</span>&gt;</span></div></pre></td></tr></table></figure>
<p>P元素生成一个块控制框，其内还有几个行内框。”emphasized”的框是一个行内元素（em）产生的行内框，而其它的框（”Some”和”text”）是块级元素（P）产生的行内框。后者就称为匿名行内控制框，因为它们没有与之相关的行内元素，所以，这些框被叫做匿名行内框。</p>
<h3 id="块格式化上下文-Block-formatting-contexts"><a href="#块格式化上下文-Block-formatting-contexts" class="headerlink" title="块格式化上下文(Block formatting contexts)"></a>块格式化上下文(Block formatting contexts)</h3><p>把context翻译成”上下文”，是因为，它强调框存在的环境。所谓上下文，有活动范围，有效区域的意思。</p>
<blockquote>
<p>The hasLayout property conflicts with a number of normative CSS rules, although it is similar in concept to block formatting contexts.</p>
</blockquote>
<h2 id="haslayout"><a href="#haslayout" class="headerlink" title="haslayout"></a>haslayout</h2><p>haslayout 是Windows Internet Explorer渲染引擎的一个内部组成部分。在Internet Explorer中，一个元素要么自己对自身的内容进行计算大小和组织，要么依赖于父元素来计算尺寸和组织内容。为了调节这两个不同的概念，渲染引擎采用了 hasLayout 的属性，属性值可以为true或false。当一个元素的 hasLayout 属性值为true时，我们说这个元素有一个布局（layout）.</p>
<p>hasLayout 属性与许多 css 的标准相冲突. 即使它在概念上与 BFC 很像.</p>
<p>In IE7 mode, only elements that have layout can be containing blocks, which conflicts with CSS2.1 normative definition (see 10.1). Not all block elements have layout by default, yet block elements should be the containing blocks of all their children that have relative or static positioning.</p>
<p>有 layout 的元素才能容纳块状元素, 这与 CSS2.1 标准相冲突. 不是所有的块状元素默认就拥有 layout, 而是块状元素应该作为所有具有相对或静态定位的子元素的包含块.</p>
<p>对于并非所有的元素都默认有布局，微软给出的主要原因是“性能和简洁”。如果所有的元素都默认有布局，会对性能和内存使用上产生有害的影响。</p>
<h3 id="如何激发-haslayout？"><a href="#如何激发-haslayout？" class="headerlink" title="如何激发 haslayout？"></a>如何激发 haslayout？</h3><p>大部分的 IE 显示错误，都可以通过激发元素的 haslayout 属性来修正。可以通过设置 css 尺寸属性(width/height)等来激发元素的 haslayout，使其“拥有布局”。如下所示，通过设置以下 css 属性即可。</p>
<ul>
<li>display: inline-block</li>
<li>height: (任何值除了auto)</li>
<li>float: (left 或 right)</li>
<li>position: absolute</li>
<li>width: (任何值除了auto)</li>
<li>writing-mode: tb-rl</li>
<li>zoom: (除 normal 外任意值)</li>
</ul>
<h2 id="Block-Formatting-Context-块格式化上下文"><a href="#Block-Formatting-Context-块格式化上下文" class="headerlink" title="Block Formatting Context (块格式化上下文)"></a>Block Formatting Context (块格式化上下文)</h2><p>块格式化上下文是 W3C css2.1 规范中的一个概念,它决定了元素如何<br>对其内容进行定位,以及与其他元素的关系和相互作用.</p>
<p>在创建了 Block Formatting Context 的元素中, 其子元素会一个接一个的放置<br>.垂直方向上它们的起点是一个包含块的顶部. 两个相邻元素之间的<br>距离取决于’margin’ 特性. </p>
<p>在 Block Formatting Context 中,相邻的块级元素的垂直边距会折叠.<br>(collapse).</p>
<p>在 BFC 中,每一个元素左外边与包含块的左边相接触,即使存在浮动也是如此<br>. 除非这个元素也创建了一个新的 BFC.</p>
<p>浮动元素,绝对定位元素, inline-block, table-cells, table-captions 以及<br><code>overflow</code> 值不是 <code>visible</code> 的元素, 会创建block formatting context.</p>
<p>hasLayout 和 block formatting context 是对同一类事物的不同理解.</p>
<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>可视化结构的基础就是由大大小小的 box(盒) 组成的. 每个盒子有自己的盒模型 </p>
<p>在现实布局上,又分为块框(block box)和行内框(inline box).</p>
<p>盒子之间的关系就是涉及到了格式化上下文, Block Formatting Context 和 Inline Formatting Context&gt;</p>
<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><p><a href="http://bbs.csdn.net/topics/340237864" target="_blank" rel="external">http://bbs.csdn.net/topics/340237864</a><br><a href="http://bbs.csdn.net/topics/340219127" target="_blank" rel="external">http://bbs.csdn.net/topics/340219127</a></p>

	
	</div>
  <a type="button" href="/2013/12/24/2013-12-24-css核心概念/#more" class="btn btn-default more">阅读此文</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2013-12-14 </div>
			<div class="article-title"><a href="/2013/12/14/2013-12-14-flexbox布局/" >flexbox布局</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
	
	
		<p>#Flex基本概念</p>
<p>##主轴和侧轴<br>主轴:用户代理沿着一个伸缩容器的主轴配置伸缩项目,主轴是主轴方向的延伸.</p>
<p>##基本使用</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">display: box | inline-box</div><div class="line"></div><div class="line">/* 方向 */</div><div class="line">box-orient: horizontal | vertical | inline-axis | block-axis</div><div class="line"></div><div class="line"></div><div class="line">/* 顺序 */</div><div class="line">box-direction: normal | reverse</div><div class="line"></div><div class="line"></div><div class="line">/* 伸缩换行 */</div><div class="line">box-lines: single | multiple</div></pre></td></tr></table></figure>

	
	</div>
  <a type="button" href="/2013/12/14/2013-12-14-flexbox布局/#more" class="btn btn-default more">阅读此文</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2013-12-09 </div>
			<div class="article-title"><a href="/2013/12/09/2014-12-09-vim-vundle/" >vim-vundle</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
	
	
		<blockquote>
<p>Vundle is Vim bundle Manager</p>
</blockquote>
<h2 id="Vundle-是什么"><a href="#Vundle-是什么" class="headerlink" title="Vundle 是什么"></a>Vundle 是什么</h2><p>Vundle 是 vim 上的一款插件管理工具, 能帮助统一管理 vim 插件.</p>
<ol>
<li>simplel config  # 只需配置 .vimrc</li>
<li>install </li>
<li>update </li>
<li>search</li>
<li>clean </li>
</ol>
<h2 id="安装-Vundle"><a href="#安装-Vundle" class="headerlink" title="安装 Vundle"></a>安装 Vundle</h2><figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ git clone http<span class="variable">s:</span>//github.<span class="keyword">com</span>/gmarik/Vundle.<span class="keyword">vim</span>.git ~/.<span class="keyword">vim</span>/bundle/Vundle.<span class="keyword">vim</span></div></pre></td></tr></table></figure>
<h2 id="vimrc-配置"><a href="#vimrc-配置" class="headerlink" title=".vimrc 配置"></a>.vimrc 配置</h2><p>只需在现有 ~/.vimrc 文件之上加入这些配置.</p>
<p>Plugin ‘Valloric/MatchTagAlways’,格式通常是 作者名/插件名,插件可以去 github 搜.</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">set</span> nocompatible              <span class="comment">" be iMproved, required</span></div><div class="line"><span class="keyword">filetype</span> off                  <span class="comment">" required</span></div><div class="line"></div><div class="line"><span class="comment">" set the runtime path to include Vundle and initialize</span></div><div class="line"><span class="keyword">set</span> rtp+=~/.<span class="keyword">vim</span>/bundle/Vundle.<span class="keyword">vim</span></div><div class="line"></div><div class="line"><span class="keyword">call</span> vundle#begin()</div><div class="line"><span class="comment">" alternatively, pass a path where Vundle should install plugins</span></div><div class="line"><span class="comment">"call vundle#begin('~/some/path/here')</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">" let Vundle manage Vundle, required</span></div><div class="line">Plugin <span class="string">'gmarik/Vundle.vim'</span></div><div class="line"></div><div class="line"><span class="comment">" The following are examples of different formats supported.</span></div><div class="line"><span class="comment">" Keep Plugin commands between vundle#begin/end.</span></div><div class="line"></div><div class="line"><span class="comment">" plugin on GitHub repo</span></div><div class="line">Plugin <span class="string">'tpope/vim-fugitive'</span></div><div class="line">Plugin <span class="string">'git://git.wincent.com/command-t.git'</span></div><div class="line">Plugin <span class="string">'rstacruz/sparkup'</span>, &#123;<span class="string">'rtp'</span>: <span class="string">'vim/'</span>&#125;</div><div class="line"></div><div class="line"><span class="comment">" Avoid a name conflict with L9</span></div><div class="line"><span class="comment">" Plugin 'user/L9', &#123;'name': 'newL9'&#125;</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">" Tags Match Plugin</span></div><div class="line">Plugin <span class="string">'Valloric/MatchTagAlways'</span></div><div class="line"></div><div class="line"><span class="comment">" All of your Plugins must be added before the following line</span></div><div class="line"></div><div class="line"><span class="keyword">call</span> vundle#end()            <span class="comment">" required</span></div><div class="line"><span class="keyword">filetype</span> plugin <span class="built_in">indent</span> <span class="keyword">on</span>    <span class="comment">" required</span></div><div class="line"></div><div class="line"><span class="comment">" To ignore plugin indent changes, instead use:</span></div><div class="line"><span class="comment">"filetype plugin on</span></div><div class="line"></div><div class="line"><span class="comment">" Brief help</span></div><div class="line"><span class="comment">" :PluginList       - lists configured plugins</span></div><div class="line"><span class="comment">" :PluginInstall    - installs plugins; append `!` to update or just :PluginUpdate</span></div><div class="line"><span class="comment">" :PluginSearch foo - searches for foo; append `!` to refresh local cache</span></div><div class="line"><span class="comment">" :PluginClean      - confirms removal of unused plugins; append `!` to auto-approve removal</span></div><div class="line"><span class="comment">"</span></div><div class="line"><span class="comment">" see :h vundle for more details or wiki for FAQ</span></div><div class="line"><span class="comment">" Put your non-Plugin stuff after this line</span></div></pre></td></tr></table></figure>
<h2 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h2><p>开启 Vim, 执行:</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="selector-pseudo">:PluginInstall</span></div></pre></td></tr></table></figure>

	
	</div>
  <a type="button" href="/2013/12/09/2014-12-09-vim-vundle/#more" class="btn btn-default more">阅读此文</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2013-12-09 </div>
			<div class="article-title"><a href="/2013/12/09/2013-12-09-emmet&vim/" >emmet&amp;vim</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
	
	
		<h1 id="Emmet-使用方法不完全介绍"><a href="#Emmet-使用方法不完全介绍" class="headerlink" title="Emmet 使用方法不完全介绍"></a>Emmet 使用方法不完全介绍</h1><h2 id="Lorem据生成器"><a href="#Lorem据生成器" class="headerlink" title="Lorem据生成器"></a>Lorem据生成器</h2><figure class="highlight gcode"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">lorem<span class="comment">(默认30)</span></div><div class="line">lor<span class="name">m100</span> <span class="comment">(生成100单词)</span></div></pre></td></tr></table></figure>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">p*<span class="number">4</span>&gt;lorem</div></pre></td></tr></table></figure>
<h2 id="Child-gt"><a href="#Child-gt" class="headerlink" title="Child: &gt;"></a>Child: &gt;</h2><figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">div</span>&gt;ul&gt;li</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="Sibling"><a href="#Sibling" class="headerlink" title="Sibling: +"></a>Sibling: +</h2><figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">div</span>+p+bq</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">blockquote</span>&gt;</span><span class="tag">&lt;/<span class="name">blockquote</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="Climb-up"><a href="#Climb-up" class="headerlink" title="Climb-up: ^"></a>Climb-up: ^</h2><p>jQuery -&gt; end()</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">div</span>+<span class="keyword">div</span>&gt;p&gt;span+em</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">em</span>&gt;</span><span class="tag">&lt;/<span class="name">em</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">div</span>+<span class="keyword">div</span>&gt;p&gt;span+em^bq</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">em</span>&gt;</span><span class="tag">&lt;/<span class="name">em</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">blockquote</span>&gt;</span><span class="tag">&lt;/<span class="name">blockquote</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">div</span>+<span class="keyword">div</span>&gt;p&gt;span+em^^^bq</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">em</span>&gt;</span><span class="tag">&lt;/<span class="name">em</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">blockquote</span>&gt;</span><span class="tag">&lt;/<span class="name">blockquote</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="Multiplication"><a href="#Multiplication" class="headerlink" title="Multiplication: *"></a>Multiplication: *</h2><p>With * operator you can define how many times element should be outputted:</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ul&gt;li*<span class="number">5</span></div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="Grouping"><a href="#Grouping" class="headerlink" title="Grouping: ()"></a>Grouping: ()</h2><figure class="highlight gcode"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">div&gt;<span class="comment">(header&gt;ul&gt;li*2&gt;a)</span>+footer&gt;p</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">header</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">header</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">footer</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">footer</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight x86asm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">(<span class="keyword">div</span>&gt;<span class="built_in">dl</span>&gt;(<span class="built_in">dt</span>+<span class="built_in">dd</span>)*<span class="number">3</span>)+footer&gt;p</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">dl</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">dt</span>&gt;</span><span class="tag">&lt;/<span class="name">dt</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">dd</span>&gt;</span><span class="tag">&lt;/<span class="name">dd</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">dt</span>&gt;</span><span class="tag">&lt;/<span class="name">dt</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">dd</span>&gt;</span><span class="tag">&lt;/<span class="name">dd</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">dt</span>&gt;</span><span class="tag">&lt;/<span class="name">dt</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">dd</span>&gt;</span><span class="tag">&lt;/<span class="name">dd</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">dl</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">footer</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">footer</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">div#header+<span class="selector-tag">div</span>.page+div<span class="selector-id">#footer</span><span class="selector-class">.class1</span><span class="selector-class">.class2</span><span class="selector-class">.class3</span></div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"header"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"page"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"footer"</span> <span class="attr">class</span>=<span class="string">"class1 class2 class3"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ul&gt;<span class="selector-tag">li</span>.item$*<span class="number">5</span></div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"item1"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"item2"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"item3"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"item4"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"item5"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight gams"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ul&gt;li.item<span class="symbol">$</span><span class="symbol">$</span><span class="symbol">$</span>*<span class="number">5</span></div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"item001"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"item002"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"item003"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"item004"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"item005"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Changing numbering base and direction<br>With @ modifier, you can change numbering direction (ascending or descending) and base (e.g. start value).</p>
<p>For example, to change direction, add @- after $:</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ul&gt;<span class="selector-tag">li</span>.item$@-*<span class="number">5</span></div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"item5"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"item4"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"item3"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"item2"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"item1"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div></pre></td></tr></table></figure>
<p>To change counter base value, add @N modifier to $:</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ul&gt;li.item$@<span class="number">3</span>*<span class="number">5</span></div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"item3"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"item4"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"item5"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"item6"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"item7"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div></pre></td></tr></table></figure>
<p>You can use these modifiers together:<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ul&gt;li.item$@<span class="number">-3</span>*<span class="number">5</span></div></pre></td></tr></table></figure></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"item7"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"item6"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"item5"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"item4"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"item3"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Text: {}<br>You can use curly braces to add text to element:</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">a&#123;Click <span class="keyword">me</span>&#125;</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>Click me<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">(<span class="selector-tag">header</span> &gt; <span class="selector-tag">ul</span><span class="selector-class">.nav</span> &gt; li*<span class="number">5</span>) + footer</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">header</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"nav"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">header</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">footer</span>&gt;</span><span class="tag">&lt;/<span class="name">footer</span>&gt;</span></div></pre></td></tr></table></figure>

	
	</div>
  <a type="button" href="/2013/12/09/2013-12-09-emmet&vim/#more" class="btn btn-default more">阅读此文</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2013-11-30 </div>
			<div class="article-title"><a href="/2013/11/30/2013-11-30-jQuery源码中的正则表达式学习笔记/" >jQuery源码中的正则表达式学习笔记</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
	
	
		<p>说明这些正则里充斥了大量 (?:) 这样的表达式, 语法规则是这样的: </p>
<p><code>()</code>代表分组,就是多字符匹配,团结的像一个似的. 分组还有个作用: <code>捕获</code>. 就是说()匹配的内容, 会给个号码然后将其缓存起来, 后面的表达式语句能使用号码引用匹配到的文本(见号如见匹配文本)。 作用上，像oracle里的 <code>with</code> 关键字。</p>
<p>再说点题外话:关于行结束符</p>
<ul>
<li>mac:    \r     回车</li>
<li>unix:   \n     换行</li>
<li>window: \r\n   回车换行 </li>
</ul>
<p>换行符起源于机械打字机,当打字机的笔尖走到行末时,有两个动作,回车,return到行首,接着\n,换到下一行。</p>
<p>举例：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> quickExpr = <span class="regexp">/^(?:[^#&lt;]*(&lt;[\w\W]+&gt;)[^&gt;]*$|#([\w\-]*)$)/</span></div></pre></td></tr></table></figure>
<p>分组,外层为第一层分组, 因采用(?:) 匹配但不捕获,没有分组好, 所有最终拿到手的只有两组分组.<br>最外层分组匹配的是选择器selector,可为html标签,或id选择器.  分组 1 匹配标签名,标签内的字符串,不带左右尖括号. 分组2匹配id选择器名,不带#号.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> rnotwhite = <span class="regexp">/\S/</span></div></pre></td></tr></table></figure>
<p>匹配任意非空字符,空格,tab,回车等统统不匹配</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> trimLeft = <span class="regexp">/^\s+/</span></div></pre></td></tr></table></figure>
<p>Used for trimming whitespace, 匹配以空白符开始的行</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> trimRight = <span class="regexp">/\s+$/</span></div></pre></td></tr></table></figure>
<p>匹配以空白符结尾的行,阿里的笔试题就有这个</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> rsingleTag = <span class="regexp">/^&lt;(\w+)\s*\/?&gt;(?:&lt;\/\1&gt;)?$/</span></div></pre></td></tr></table></figure>
<p>Match a standalone tag<br>\w 匹配数字字母下划线<br>第二个分组匹配不捕获(它调用了第一组的捕获内容)没了分组号,最终只剩第一个分组号,用于匹配标签名,这货匹配一组单独标签,闭合单标签或闭合双标签</p>
<p>JSON RegExp<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> rvalidchars = <span class="regexp">/^[\],:&#123;&#125;\s]*$/</span></div></pre></td></tr></table></figure></p>
<p>匹配任意多个  ],:{}和空格,干啥使得后面再说</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> rvalidescape = <span class="regexp">/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]&#123;4&#125;)/g</span></div></pre></td></tr></table></figure>
<p>匹配JSON合理的取值<br>“[^”\\n\r]*” 匹配被双引号包着的字符 双引号抱着的内容不能有(双引号,换行符,回车符,转义符)<br>也匹配为 true或false或null的值<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">-?\d+(?:\.\d*)?(?:[<span class="string">eE</span>][<span class="symbol">+\-</span>]?\d+)</div></pre></td></tr></table></figure></p>
<p>可匹配负值,可匹配带小数的,还匹配科学计数法<br>强大!</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> rvalidtokens = <span class="regexp">/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g</span></div></pre></td></tr></table></figure>
<p>匹配  [  或 , [ 或 :[ </p>
<p>(?:^|:|,) 这货差点让我看走眼,匹配三个 空或:或, ^ 匹配字符串的开始,紧接着就是或,所以它匹配空,这个表达式看起来像 json的左括号</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> rvalidbraces = <span class="regexp">/(?:^|:|,)(?:\s*\[)+/g</span></div></pre></td></tr></table></figure>
<p>Useragent RegExp<br>UserAgent 就是浏览器的标识</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">webkit/ab.c</div><div class="line">var rwebkit = /(webkit)[<span class="string"> \/</span>](<span class="link">[\w.]+</span>)/</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> ropera = <span class="regexp">/(opera)(?:.*version)?[ \/]([\w.]+)/</span>,</div><div class="line"><span class="keyword">var</span> rmsie = <span class="regexp">/(msie) ([\w.]+)/</span>,</div><div class="line"></div><div class="line"><span class="string">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.9; rv:29.0) Gecko/20100101 Firefox/29.0"</span></div><div class="line"><span class="keyword">var</span> rmozilla = <span class="regexp">/(mozilla)(?:.*? rv:([\w.]+))?/</span>,</div><div class="line"></div><div class="line">Matches dashed string <span class="keyword">for</span> camelizing</div><div class="line"><span class="keyword">var</span> rdashAlpha = <span class="regexp">/-([a-z]|[0-9])/ig</span></div></pre></td></tr></table></figure>
<p>微软前缀<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> rmsPrefix = <span class="regexp">/^-ms-/</span>,</div></pre></td></tr></table></figure></p>
<p>匹配大括号和中括号,中间内容不限<br><figure class="highlight taggerscript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">var rbrace = /^(?:<span class="symbol">\&#123;</span>.*<span class="symbol">\&#125;</span>|<span class="symbol">\[</span>.*<span class="symbol">\]</span>)$/</div></pre></td></tr></table></figure></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> rmultiDash = <span class="regexp">/([A-Z])/g</span></div></pre></td></tr></table></figure>
<p>匹配换行,回车,制表符<br><figure class="highlight taggerscript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">var rclass = /[<span class="symbol">\n</span><span class="symbol">\t</span><span class="symbol">\r</span>]/g</div></pre></td></tr></table></figure></p>
<p>匹配空格<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> rspace = <span class="regexp">/\s+/</span></div></pre></td></tr></table></figure></p>
<p>匹配回车<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> rreturn = <span class="regexp">/\r/g</span>,</div></pre></td></tr></table></figure></p>
<figure class="highlight elm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="title">var</span> r<span class="keyword">type</span> = /^(?:button|input)$/i,</div></pre></td></tr></table></figure>
<p>能被focus的, 即按tab可focus的,涨姿势了<br><figure class="highlight coq"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">var rfocusable = /^(?:button|<span class="type">input</span>|<span class="type">object</span>|<span class="type">select</span>|<span class="type">textarea</span>)$/i,</div></pre></td></tr></table></figure></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> rclickable = <span class="regexp">/^a(?:rea)?$/i</span>,</div></pre></td></tr></table></figure>
<p>取值为布尔值的<br><figure class="highlight coq"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">var rboolean = /^(?:autofocus|<span class="type">autoplay</span>|<span class="type">async</span>|<span class="type">checked</span>|<span class="type">controls</span>|<span class="type">defer</span>|<span class="type">disabled</span>|<span class="type">hidden</span>|<span class="type">loop</span>|<span class="type">multiple</span>|<span class="type">open</span>|<span class="type">readonly</span>|<span class="type">required</span>|<span class="type">scoped</span>|<span class="type">selected</span>)$/i,</div></pre></td></tr></table></figure></p>
<p>form元素<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> rformElems = <span class="regexp">/^(?:textarea|input|select)$/i</span>,</div></pre></td></tr></table></figure></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> rtypenamespace = <span class="regexp">/^([^\.]*)?(?:\.(.+))?$/</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> rhoverHack = <span class="regexp">/\bhover(\.\S+)?\b/</span>,</div><div class="line"></div><div class="line"><span class="keyword">var</span> rkeyEvent = <span class="regexp">/^key/</span>,</div></pre></td></tr></table></figure>
<p>点击事件 mouse或contextmenu再无前缀,click可有<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> rmouseEvent = <span class="regexp">/^(?:mouse|contextmenu)|click/</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> rfocusMorph = <span class="regexp">/^(?:focusinfocus|focusoutblur)$/</span>,</div><div class="line"></div><div class="line"><span class="keyword">var</span> rquickIs = <span class="regexp">/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/</span>,</div></pre></td></tr></table></figure></p>
<p>这里是sezzle中的核心<br>大块儿头,分而治之</p>
<figure class="highlight taggerscript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">var c = </div><div class="line"></div><div class="line">/(        			(?#分组1)</div><div class="line">	(?:   			</div><div class="line">		  <span class="symbol">\(</span>(?:<span class="symbol">\(</span>[^()]+<span class="symbol">\)</span>(?#分组3)|[^()]+)+<span class="symbol">\)</span>|    (?#分组2,函数式过滤块儿)</div><div class="line">	      <span class="symbol">\[</span>(?:<span class="symbol">\[</span>[^<span class="symbol">\[</span><span class="symbol">\]</span>]*<span class="symbol">\]</span>|['"][^'"]*['"]|[^<span class="symbol">\[</span><span class="symbol">\]</span>'"]+)+<span class="symbol">\]</span>| (?#属性选择块儿)</div><div class="line">	      <span class="symbol">\\</span>.| </div><div class="line">	      [^ &gt;+~,(<span class="symbol">\[</span><span class="symbol">\\</span>]+ </div><div class="line">	)+|</div><div class="line">    [&gt;+~] (?#层级选择块)</div><div class="line"> )   </div><div class="line"></div><div class="line">(<span class="symbol">\s</span>*,<span class="symbol">\s</span>*)?((?:.|<span class="symbol">\r</span>|<span class="symbol">\n</span>)*)   /g,</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">var chunker = /((?:<span class="symbol">\(</span>(?:<span class="symbol">\(</span>[^()]+<span class="symbol">\)</span>|[^()]+)+<span class="symbol">\)</span>|<span class="symbol">\[</span>(?:<span class="symbol">\[</span>[^<span class="symbol">\[</span><span class="symbol">\]</span>]*<span class="symbol">\]</span>|['"][^'"]*['"]|[^<span class="symbol">\[</span><span class="symbol">\]</span>'"]+)+<span class="symbol">\]</span>|<span class="symbol">\\</span>.|[^ &gt;+~,(<span class="symbol">\[</span><span class="symbol">\\</span>]+)+|[&gt;+~])(<span class="symbol">\s</span>*,<span class="symbol">\s</span>*)?((?:.|<span class="symbol">\r</span>|<span class="symbol">\n</span>)*)/g,</div><div class="line"> </div><div class="line">ID: /#((?:[<span class="symbol">\w</span><span class="symbol">\u</span>00c0-<span class="symbol">\u</span>FFFF<span class="symbol">\-</span>]|<span class="symbol">\\</span>.)+)/,</div><div class="line"></div><div class="line">CLASS: /<span class="symbol">\.</span>((?:[<span class="symbol">\w</span><span class="symbol">\u</span>00c0-<span class="symbol">\u</span>FFFF<span class="symbol">\-</span>]|<span class="symbol">\\</span>.)+)/,</div><div class="line">NAME: /<span class="symbol">\[</span>name=['"]*((?:[<span class="symbol">\w</span><span class="symbol">\u</span>00c0-<span class="symbol">\u</span>FFFF<span class="symbol">\-</span>]|<span class="symbol">\\</span>.)+)['"]*<span class="symbol">\]</span>/,</div><div class="line">ATTR: /<span class="symbol">\[</span><span class="symbol">\s</span>*((?:[<span class="symbol">\w</span><span class="symbol">\u</span>00c0-<span class="symbol">\u</span>FFFF<span class="symbol">\-</span>]|<span class="symbol">\\</span>.)+)<span class="symbol">\s</span>*(?:(<span class="symbol">\S</span>?=)<span class="symbol">\s</span>*(?:(['"])(.*?)<span class="symbol">\3</span>|(#?(?:[<span class="symbol">\w</span><span class="symbol">\u</span>00c0-<span class="symbol">\u</span>FFFF<span class="symbol">\-</span>]|<span class="symbol">\\</span>.)*)|)|)<span class="symbol">\s</span>*<span class="symbol">\]</span>/,</div><div class="line">TAG: /^((?:[<span class="symbol">\w</span><span class="symbol">\u</span>00c0-<span class="symbol">\u</span>FFFF<span class="symbol">\*</span><span class="symbol">\-</span>]|<span class="symbol">\\</span>.)+)/,</div><div class="line">CHILD: /:(only|nth|last|first)-child(?:<span class="symbol">\(</span><span class="symbol">\s</span>*(even|odd|(?:[+<span class="symbol">\-</span>]?<span class="symbol">\d</span>+|(?:[+<span class="symbol">\-</span>]?<span class="symbol">\d</span>*)?n<span class="symbol">\s</span>*(?:[+<span class="symbol">\-</span>]<span class="symbol">\s</span>*<span class="symbol">\d</span>+)?))<span class="symbol">\s</span>*<span class="symbol">\)</span>)?/,</div><div class="line">POS: /:(nth|eq|gt|lt|first|last|even|odd)(?:<span class="symbol">\(</span>(<span class="symbol">\d</span>*)<span class="symbol">\)</span>)?(?=[^<span class="symbol">\-</span>]|$)/,</div><div class="line">PSEUDO: /:((?:[<span class="symbol">\w</span><span class="symbol">\u</span>00c0-<span class="symbol">\u</span>FFFF<span class="symbol">\-</span>]|<span class="symbol">\\</span>.)+)(?:<span class="symbol">\(</span>(['"]?)((?:<span class="symbol">\(</span>[^<span class="symbol">\)</span>]+<span class="symbol">\)</span>|[^<span class="symbol">\(</span><span class="symbol">\)</span>]*)+)<span class="symbol">\2</span><span class="symbol">\)</span>)?/</div></pre></td></tr></table></figure>
<h2 id="类选择器"><a href="#类选择器" class="headerlink" title="类选择器"></a>类选择器</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> match = <span class="regexp">/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/</span>.exec( query );</div><div class="line"></div><div class="line">				   </div><div class="line"><span class="keyword">var</span> runtil = <span class="regexp">/Until$/</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> rparentsprev = <span class="regexp">/^(?:parents|prevUntil|prevAll)/</span>,</div></pre></td></tr></table></figure>
<p>Note: This RegExp should be improved, or likely pulled from Sizzle<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> rmultiselector = <span class="regexp">/,/</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> isSimple = <span class="regexp">/^.[^:#\[\.,]*$/</span>,</div></pre></td></tr></table></figure></p>
<p>h5标签全家福<br><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">var nodeNames</span> = <span class="string">"abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|"</span> +</div><div class="line">				<span class="string">"header|hgroup|mark|meter|nav|output|progress|section|summary|time|video"</span>;</div></pre></td></tr></table></figure></p>
<p>匹配jQuery的”uuid”<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">var</span> rinlinejQuery = / jQuery\d+=<span class="string">"(?:\d+|null)"</span>/g</div><div class="line"></div><div class="line"><span class="selector-tag">var</span> rleadingWhitespace = /^\s+/</div></pre></td></tr></table></figure></p>
<p>good: (?!exp)    匹配后面跟的不是exp的位置<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> rxhtmlTag = <span class="regexp">/&lt;(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^&gt;]*)\/&gt;/ig</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> rtagName = <span class="regexp">/&lt;([\w:]+)/</span></div><div class="line"><span class="keyword">var</span> rtbody = <span class="regexp">/&lt;tbody/i</span></div><div class="line"><span class="keyword">var</span> rhtml = <span class="regexp">/&lt;|&amp;#?\w+;/</span> <span class="comment">// &lt; 或者 &amp;nbsp; &amp;#xxx;</span></div><div class="line"><span class="keyword">var</span> rnoInnerhtml = <span class="regexp">/&lt;(?:script|style)/i</span></div></pre></td></tr></table></figure></p>
<p>html代码中不能含有这些标签,加入dom缓存<br><figure class="highlight livescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> rnocache = <span class="regexp">/&lt;(?:script|object|embed|option|style)/i</span>,       </div><div class="line"></div><div class="line">checked=<span class="string">"checked"</span> <span class="keyword">or</span> checked</div><div class="line"><span class="keyword">var</span> rchecked = <span class="regexp">/checked\s*(?:[^=]|=\s*.checked.)/i</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> rscriptType = <span class="regexp">/\/(java|ecma)script/i</span></div><div class="line"><span class="keyword">var</span> rcleanScript = <span class="regexp">/^\s*&lt;!(?:\[CDATA\[|\-\-)/</span></div><div class="line">								  </div><div class="line"><span class="keyword">var</span> <span class="keyword">var</span> ralpha = <span class="regexp">/alpha\([^)]*\)/i</span></div><div class="line"><span class="keyword">var</span> ropacity = <span class="regexp">/opacity=([^)]*)/</span></div><div class="line"></div><div class="line">fixed <span class="keyword">for</span> IE9, see <span class="comment">#8346</span></div><div class="line"><span class="keyword">var</span> rupper = <span class="regexp">/([A-Z]|^ms)/g</span></div><div class="line"><span class="keyword">var</span> rnumpx = <span class="regexp">/^-?\d+(?:px)?$/i</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> rnum = <span class="regexp">/^-?\d/</span>,</div><div class="line"><span class="keyword">var</span> rrelNum = <span class="regexp">/^([\-+])=([\-+.\de]+)/</span>,</div></pre></td></tr></table></figure></p>
<p>编码后的空格<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> r20 = <span class="regexp">/%20/g</span>,</div><div class="line"><span class="keyword">var</span> rbracket = <span class="regexp">/\[\]$/</span>,</div></pre></td></tr></table></figure></p>
<p>表示 \r,\n 或 \r\n<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> rCRLF = <span class="regexp">/\r?\n/g</span>,</div></pre></td></tr></table></figure></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> rhash = <span class="regexp">/#.*$/</span>,</div></pre></td></tr></table></figure>
<p>IE leaves an \r character at EOL<br><figure class="highlight taggerscript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">var rheaders = /^(.*?):[ <span class="symbol">\t</span>]*([^<span class="symbol">\r</span><span class="symbol">\n</span>]*)<span class="symbol">\r</span>?$/mg,</div></pre></td></tr></table></figure></p>
<p>可输入的标签<br><figure class="highlight coq"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">var rinput = /^(?:color|<span class="type">date</span>|<span class="type">datetime</span>|<span class="type">datetime</span>-local|<span class="type">email</span>|<span class="type">hidden</span>|<span class="type">month</span>|<span class="type">number</span>|<span class="type">password</span>|<span class="type">range</span>|<span class="type">search</span>|<span class="type">tel</span>|<span class="type">text</span>|<span class="type">time</span>|<span class="type">url</span>|<span class="type">week</span>)$/i</div></pre></td></tr></table></figure></p>
<p><code>#7653, #8125, #8152</code>: local protocol detection<br>访问本地资源时,浏览器地址栏可使用的schema<br><figure class="highlight coq"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var rlocalProtocol = /^(?:about|<span class="type">app</span>|<span class="type">app</span>\-storage|<span class="type">.+\-extension</span>|<span class="type">file</span>|<span class="type">res</span>|<span class="type">widget</span>):$/</div><div class="line"></div><div class="line">var rnoContent = /^(?:GET|<span class="type">HEAD</span>)$/</div></pre></td></tr></table></figure></p>
<p>匹配 // </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> rprotocol = <span class="regexp">/^\/\//</span></div><div class="line"><span class="keyword">var</span> rquery = <span class="regexp">/\?/</span></div></pre></td></tr></table></figure>
<p>\b代表单词的开头或结尾,也就是单词的分界处<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> rscript = <span class="regexp">/&lt;script\b[^&lt;]*(?:(?!&lt;\/script&gt;)&lt;[^&lt;]*)*&lt;\/script&gt;/gi</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> rselectTextarea = <span class="regexp">/^(?:select|textarea)/i</span></div><div class="line"><span class="keyword">var</span> rspacesAjax = <span class="regexp">/\s+/</span></div><div class="line"><span class="keyword">var</span> rts = <span class="regexp">/([?&amp;])_=[^&amp;]*/</span></div><div class="line"><span class="keyword">var</span> rurl = <span class="regexp">/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">var</span> rfxtypes = <span class="regexp">/^(?:toggle|show|hide)$/</span></div><div class="line"><span class="keyword">var</span> rfxnum = <span class="regexp">/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> rtable = <span class="regexp">/^t(?:able|d|h)$/i</span></div><div class="line"><span class="keyword">var</span> rroot = <span class="regexp">/^(?:body|html)$/i</span>;</div></pre></td></tr></table></figure></p>

	
	</div>
  <a type="button" href="/2013/11/30/2013-11-30-jQuery源码中的正则表达式学习笔记/#more" class="btn btn-default more">阅读此文</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2013-11-07 </div>
			<div class="article-title"><a href="/2013/11/07/2013-11-07-waht -is-aria/" >What is ARIA</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
	
	
		<blockquote>
<p>WAI-ARIA (Web Accessibility Initiative’s Accessible Rich Internet App)</p>
</blockquote>
<p>无障碍网页倡议-无障碍的富互联网应用,一种技术规范.旨在提高 html 的语义性.</p>
<p>让页面具有无障碍访问功能,现有的 html 标记还不够.</p>
<ol>
<li><p>role=”banner”（横幅）</p>
<p> 面向全站的内容，通常包含网站标志、网站赞助者标志、 全站搜索工具等。横幅通常显示在页面的顶端，而且通 常横跨整个页面的宽度 将其添加到页面级的header 元素，每个页面只用一次</p>
</li>
<li><p>role=”navigation”（导航） </p>
<p> 文档内不同部分或相关文档的导航性元素（通常为链接） 的集合 与nav 元素是对应关系。应将其添加到每个nav 元素， 或其他包含导航性链接的容器。这个角色可在每个页面 上使用多次，但是同nav 一样，不要过度使用该属性</p>
</li>
<li><p>role=”main”（主体）</p>
<p> 文档的主要内容,与main 元素是对应关系。最好将其添加到main 元素， 也可以添加到其他表示主体内容的元素（可能是div）。 在每个页面仅使用一次</p>
</li>
<li><p>role=”complementary”（补充性内容） </p>
<p> 文档中作为主体内容补充的支撑部分。它对区分主体内 容是有意义的 与aside 元素是对应关系。应将其添加到aside 或div 元 素（前提 是该div 仅包含补充性内容）。可以在一个页 面里包含多个complementary 角色，但不要过度使用</p>
</li>
<li><p>role=”contentinfo”（内容信息）</p>
<p> 包含关于文档的信息的大块可感知区域这类信息的例子 包括版权声明和指向隐私权声明的链接等 将其添加至整个页面的页脚（通常为footer 元素）。每 个页面仅使用一次.</p>
<p> o</p>
</li>
</ol>

	
	</div>
  <a type="button" href="/2013/11/07/2013-11-07-waht -is-aria/#more" class="btn btn-default more">阅读此文</a>
</div>

		

		</div>

		<!-- pagination -->
		<div>
  		<center>
		<div class="pagination">
<ul class="pagination">
	 
		
    	<li class="prev"><a href="/page/9/" class="alignleft prev"><i class="fa fa-arrow-circle-o-left"></i> 上一页</a></li>
  		

        <li><a href="/"><i class="fa fa-home"></i>Home</a></li>

		
		   <li class="next"> <a href="/page/11/" class="alignright next">下一页<i class="fa fa-arrow-circle-o-right"></i></a> </li>          
        
	
</ul>
</div>

  		</center>
		</div>

		
		
	</div> <!-- col-md-9 -->

	
		<div class="col-md-3">
	<div id="sidebar">
	
			 

		
			
	<div class="widget">
		<h4>分类</h4>
		<ul class="tag_box inline list-unstyled">
		
			<li><a href="/categories/bom/">bom<span>1</span></a></li>
		
			<li><a href="/categories/css/code/">code<span>1</span></a></li>
		
			<li><a href="/categories/collection/">collection<span>1</span></a></li>
		
			<li><a href="/categories/css/">css<span>2</span></a></li>
		
			<li><a href="/categories/tools/debug/">debug<span>1</span></a></li>
		
			<li><a href="/categories/default/">default<span>1</span></a></li>
		
			<li><a href="/categories/http/">http<span>1</span></a></li>
		
			<li><a href="/categories/javascript-template/">javascript template<span>1</span></a></li>
		
			<li><a href="/categories/javascript-test/">javascript test<span>1</span></a></li>
		
			<li><a href="/categories/jquery/">jquery<span>1</span></a></li>
		
			<li><a href="/categories/js/">js<span>1</span></a></li>
		
			<li><a href="/categories/library/">library<span>2</span></a></li>
		
			<li><a href="/categories/note/">note<span>1</span></a></li>
		
			<li><a href="/categories/note-vim/">note vim<span>2</span></a></li>
		
			<li><a href="/categories/tool/">tool<span>3</span></a></li>
		
			<li><a href="/categories/tools/">tools<span>1</span></a></li>
		
		</ul>
	</div>

		
			
	<div class="widget">
		<h4>标签云</h4>
		<ul class="tag_box inline list-unstyled">		
		
			<li><a href="/tags/seajs/">seajs<span>1</span></a></li>
		
			<li><a href="/tags/tools/">tools<span>2</span></a></li>
		
			<li><a href="/tags/javascript-regexp/">javascript regexp<span>1</span></a></li>
		
			<li><a href="/tags/mac/">mac<span>1</span></a></li>
		
			<li><a href="/tags/git/">git<span>4</span></a></li>
		
			<li><a href="/tags/test/">test<span>3</span></a></li>
		
			<li><a href="/tags/demo/">demo<span>1</span></a></li>
		
			<li><a href="/tags/database-linux/">database linux<span>1</span></a></li>
		
			<li><a href="/tags/jquery/">jquery<span>3</span></a></li>
		
			<li><a href="/tags/mobile/">mobile<span>1</span></a></li>
		
			<li><a href="/tags/code/">code<span>2</span></a></li>
		
			<li><a href="/tags/build/">build<span>1</span></a></li>
		
			<li><a href="/tags/polymer/">polymer<span>3</span></a></li>
		
			<li><a href="/tags/framework/">framework<span>1</span></a></li>
		
			<li><a href="/tags/html5/">html5<span>1</span></a></li>
		
			<li><a href="/tags/javascript-template/">javascript template<span>1</span></a></li>
		
			<li><a href="/tags/linux/">linux<span>5</span></a></li>
		
			<li><a href="/tags/w3c/">w3c<span>1</span></a></li>
		
			<li><a href="/tags/dom-javascript/">dom,javascript<span>1</span></a></li>
		
			<li><a href="/tags/design-pattern/">design pattern<span>1</span></a></li>
		
		
		   <li><a href="/tags">...<span>41</span></a></li>
		 
		</ul>
	</div>


		
			
<div class="widget">
  <h4>最新文章</h4>
  <ul class="entry list-unstyled">
    
      <li>
        <a href="/2017/04/23/css书写规范/" ><i class="fa fa-file-o"></i>css 编写习惯</a>
      </li>
    
      <li>
        <a href="/2017/04/23/消除函数的术语歧义/" ><i class="fa fa-file-o"></i>消除函数的术语歧义</a>
      </li>
    
      <li>
        <a href="/2017/04/23/脚本的第一行/" ><i class="fa fa-file-o"></i>脚本语言的第一行</a>
      </li>
    
      <li>
        <a href="/2017/04/23/设计模式简介/" ><i class="fa fa-file-o"></i>设计模式简介</a>
      </li>
    
      <li>
        <a href="/2017/04/23/2013-11-09-requirejs/" ><i class="fa fa-file-o"></i></a>
      </li>
    
  </ul>
</div>

		
			
<div class="widget">
	<h4>链接</h4>
	<ul class="blogroll list-unstyled">
	
		<li><i class="fa fa-github"></i><a href="https://github.com/chenyakun" title="My Github repository." target="_blank"]);">My Github</a></li>
	
	</ul>
</div>


		
	</div> <!-- sidebar -->
</div> <!-- col-md-3 -->

	
	
</div> <!-- row-fluid -->
	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
  &copy; 2017 yakun.cyk
  
      with help from <a href="http://hexo.io/" target="_blank">Hexo</a> and <a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a>. Theme by <a href="http://github.com/wzpan/hexo-theme-freemind/">Freemind</a>.    
</p> </footer>
</div> <!-- container-narrow -->
  
  
<a id="gotop" href="#">   
  <span>▲</span> 
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>
<!-- <script src="/js/search.js"></script>  -->

<!-- 
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>
 -->

<!-- 
   <script type="text/javascript">      
     var search_path = "search.xml";
	 if (search_path.length == 0) {
	 	search_path = "search.xml";
	 }
	 var path = "/" + search_path;
     searchFunc(path, 'local-search-input', 'local-search-result');
   </script>
 -->

<div class="cb-search-tool" style="position: fixed; top: 0px ; bottom: 0px; left: 0px; right:  0px;
        opacity: 0.95; background-color: #111111; z-index: 9999; display: none;">

    <input type="text" class="cb-search-content" id="cb-search-content" style="position: fixed; top: 60px" placeholder="文章标题 日期 标签" />

    <div style="position: fixed; top: 16px; right: 16px;">
        <img src="/search/img/cb-close.png"  id="cb-close-btn"/>
    </div>
</div>

<!-- <div style="position: fixed; right: 16px; bottom: 20px;">
    <img src="/search/img/cb-search.png"  id="cb-search-btn"  title="双击ctrl试一下"/>
</div> -->

<link rel="stylesheet" href="/search/css/cb-search.css">
<script src="/search/js/bootstrap3-typeahead.min.js"></script>
<script src="/search/js/cb-search.js"></script>

</body>
   </html>
