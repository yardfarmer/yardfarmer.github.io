<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>第 9 页 | output stream</title>
  <meta name="author" content="yakun.cyk">
  
  <meta name="description" content="主要内容可能关于 web 技术，感慨心得...">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="output stream"/>

  
    <meta property="og:image" content="undefined"/>
  

  
  
    <link href="/favicon.png" rel="icon">
  
  
  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  



</head>

 <body>  
  <nav id="main-nav" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
	    <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
	  <a class="navbar-brand" href="/">output stream</a>
      <div class="collapse navbar-collapse nav-menu">
		    <ul class="nav navbar-nav">
    		  
    		  <li>
    			 <a href="/demos" title="Demos.">
            <i class="fa fa-flask"></i>Demos
    			 </a>
    		  </li>
    		  
    		  <li>
    			 <a href="/archives" title="All the articles.">
            <i class="fa fa-archive"></i>归档
    			 </a>
    		  </li>
    		  
    		  <li>
    			 <a href="/about" title="About me.">
            <i class="fa fa-user"></i>关于我
    			 </a>
    		  </li>
    		  
    		  <li>
    			 <a href="/#" title="Search Posts.">
            <i class="fa fa-search"></i>搜索
    			 </a>
    		  </li>
    		  
    		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 <div class="row page">

	
	<div class="col-md-9">
	

		<div class="slogan">
      <!--
        <i class="fa fa-heart"></i> 
      -->
      
</div>    
		<div id="top_search"></div>
		<div class="mypage">
		
		<!-- title and entry -->
		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2014-10-31 </div>
			<div class="article-title"><a href="/2014/10/31/2014-08-20-jquery-event-on/" >jQuery-event-on</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
	
	
		<p><strong>.on()</strong></p>
<p><strong>.on(event,[,selector][,data],handler)</strong></p>
<p>重点在于这里有个 selector，这个 selector 是对前面选择器的一个细化，选择的是前面选择器的子元素。</p>
<p> 好方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> option = <span class="string">"loading"</span>;</div><div class="line"><span class="keyword">var</span> a = <span class="keyword">typeof</span> option == <span class="string">"object"</span> &amp;&amp; option;</div><div class="line"><span class="keyword">var</span> b = <span class="literal">true</span> &amp;&amp; option;  <span class="comment">// return "loading"</span></div><div class="line"><span class="keyword">var</span> c = <span class="literal">false</span> &amp;&amp; option; <span class="comment">// return false;</span></div></pre></td></tr></table></figure>
<blockquote>
<p>Selector context is implemented with the .find() method;<br>therefore:</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">   $( <span class="string">"li.item-ii"</span> ).find( <span class="string">"li"</span> ) </div><div class="line"><span class="comment">// is equivalent to </span></div><div class="line">   $( <span class="string">"li"</span>, <span class="string">"li.item-ii"</span> ).</div></pre></td></tr></table></figure>

	
	</div>
  <a type="button" href="/2014/10/31/2014-08-20-jquery-event-on/#more" class="btn btn-default more">阅读此文</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2014-10-23 </div>
			<div class="article-title"><a href="/2014/10/23/2014-10-23-看待不完美/" >不完美</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
	
	
		<h1 id="不完美"><a href="#不完美" class="headerlink" title="不完美"></a>不完美</h1><p>黄金是不完美的，</p>
<p>钻石是不完美的，</p>
<p>它们都不纯。</p>
<p>手机不是完美的，</p>
<p>平板不是完美的，</p>
<p>他们太小了，他们没有键盘。</p>
<p>书本是不完美的，太沉，没法搜索，</p>
<p>pdf 也是不完美的，看它们的设备太少。</p>
<p>vim 是不完美的，小问题太多。</p>
<p>我，我自己也是不完美的，</p>
<p>对！</p>
<p>通通不完美！</p>
<p>然而，什么东西又是完美的呢？</p>
<p>眼睛里放的总是不完美，那么天空是暗淡的，</p>
<p>可我要的又是什么呢？</p>
<p>我要的就是使用我身边不完美的东西，</p>
<p>去创造出属于我的同样不完美的完美。</p>
<blockquote>
<p>2014年10月23日 跑步归来有感</p>
</blockquote>

	
	</div>
  <a type="button" href="/2014/10/23/2014-10-23-看待不完美/#more" class="btn btn-default more">阅读此文</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2014-10-23 </div>
			<div class="article-title"><a href="/2014/10/23/2014-10-31-regexp/" >regexp_reference</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
	
	
		<h2 id="基础符号"><a href="#基础符号" class="headerlink" title="基础符号"></a>基础符号</h2><p>字符串字面值（string literal），来匹配目标字符串的。所谓字符串字面值，就是字面上看到的值.</p>
<h2 id="使用符号"><a href="#使用符号" class="headerlink" title="使用符号"></a>使用符号</h2><pre><code>？ 表示    可选
+  一个或多个    
*  0或多
|  选择，or
\  转义
</code></pre><p>匹配数字: \d ,要匹配非数字字符，可使用包含以下大写字母 D 的简写式：\D。</p>
<pre><code>\D 匹配非数字，同时包括空格（含回车换行）和标点。

\D 与\w 的区别是

\D 会匹配空格、标点符号（引号、连字符、反斜杠、方括号）等字符，而\w 却不会.
</code></pre><p><strong>\w 匹配 数字，字母和下划线</strong></p>
<pre><code>\W 匹配 空格，标点 和 非字母，非数字
</code></pre><p><strong>\D 和 \W 的共同点是：都可以匹配空格和标点</strong></p>
<pre><code>\s 空白符，空白不是空格，匹配 换行 和 空格,它会匹配：
</code></pre><ol>
<li>空格</li>
<li>制表符（\t）</li>
<li>换行符（\n）</li>
<li><p>回车符（\r）</p>
<p>与</p>
</li>
</ol>
<p>[ \t\n\r] </p>
<p>表示相同。</p>
<p>. 点号 可以 <strong>排除行结束符之外的所有字符</strong></p>
<pre><code>[\w\W] 与 .* 的区别  

[\w\W] 用了互补的集合，来表示“任意字符”，这里和.（点）的概念差不多，但.（点）在默认的情况下是不支持换行符的，用[\w\W]就可以匹配任意的字符，也包括换行符；
</code></pre><p>匹配单词的边界 \b</p>
<p>简写式\b匹配单词边界，不消耗任何字符；<br>可以用在从多个单词中查找指定单词，特点是单词周围是空格，所以如果<br>配置文章中的单词用这个 \bxyz\b, 可以免去 axyz 这种巧合，单独的匹配<br>单词 xyz。</p>
<p> .+ 可以用于计算行数，简单至极！<br>原因是点号通常不会匹配折行符，例如换行符（U+000A）或回车符（U+000D） </p>
<p>sed 是Unix 流编辑器，它支持用正则表达式转换文本。</p>
<h2 id="断言"><a href="#断言" class="headerlink" title="断言"></a>断言</h2><blockquote>
<p>断言标记边界，但是并不耗用字符.</p>
</blockquote>
<p>字符并不会返回到结果中。断言也被称做零宽度断言（zero-widthassertion）。零宽度断言不匹配字符，而是匹配字符串中的位置。</p>
<p>其中的一些，比如^ 和$，也叫做锚位符（anchor）<br>^ 会匹配行或者字符串的起始<strong>位置</strong>。</p>
<pre><code>.^$*+?|(){}[]\-
</code></pre><p>这15 个元字符在正则表达式中有特殊含义，用来编写匹配模式。</p>
<p>如果你在RegExr 上方的文本框中尝试匹配这些字符，则不会看到任何结果.</p>
<p>因为RegExr 会认为这是个正则表达式而不是字符串字面值。现在试一下<br>\Q$\E</p>
<p>它将匹配$，因为\Q 和\E 之间的任意字符都会被解释为普通字符。</p>
<h2 id="捕获分组和向后引用"><a href="#捕获分组和向后引用" class="headerlink" title="捕获分组和向后引用"></a>捕获分组和向后引用</h2><p>当一个模式的全部或者部分内容由一对括号分组时，它就对内容进行<br>捕获并临时存储于内存中。</p>
<h2 id="量词"><a href="#量词" class="headerlink" title="量词"></a>量词</h2><h3 id="贪心、懒惰、占有"><a href="#贪心、懒惰、占有" class="headerlink" title="贪心、懒惰、占有"></a>贪心、懒惰、占有</h3><p>量词自身是贪心的。贪心的量词会首先匹配整个字符串。尝试匹配时，它会选定尽<br>可能多的内容，也就是整个输入。</p>
<blockquote>
<p>量词首次尝试匹配整个字符串，如果失败则回退一个字符后再次尝试。这个过程叫做回溯（backtracking）。</p>
</blockquote>
<p>它会每次回退一个字符，直到找到匹配的内容或者没有字符可尝试为止。</p>
<p>懒惰（有时也说勉强）的量词则使用另一种策略。</p>
<p>它从目标的起始位置开始尝试寻找匹配，每次检查字符串的一个字符，寻找它要匹配的内容,最后，它会尝试匹配整个字符串。</p>
<p>比如 在  666666 在匹配 6{2,6}， 既可以2个6 就能匹配，也可以6个6才匹配，懒惰就去用两个6去匹配，贪心就去母串中匹配直到6个6.</p>
<p>要使一个量词成为懒惰的，必须在普通量词后添加一个问号（?）。它每次只“吃”一点。</p>
<blockquote>
<p>环视是一种非捕获分组，它根据某个模式之前或之后的内容匹配其他模式。环视也<br>称为零宽度断言。</p>
</blockquote>
<h3 id="正前瞻"><a href="#正前瞻" class="headerlink" title="正前瞻"></a>正前瞻</h3><p>a(?=b) 匹配:</p>
<p>c<strong>a</strong>bd   </p>
<p>只有匹配模式的第一部是被标亮的，环视模式不会标亮。用于前面匹配的要求（帮助把关），但是不会作为匹配。</p>
<h3 id="反前瞻"><a href="#反前瞻" class="headerlink" title="反前瞻"></a>反前瞻</h3><p>反前瞻是对正前瞻的取反操作。这意味着要匹配某个模式时，需要在它后面找不到<br>含有给定前瞻模式的内容。</p>
<p>a(?!b) 匹配:</p>
<p><strong>a</strong>ab</p>
<p>sd<strong>a</strong>vdabd</p>
<p>必须满足匹配部分要匹配，但不要匹配括号里的内容。</p>
<h3 id="正后顾-正后顾不适用于-javascript"><a href="#正后顾-正后顾不适用于-javascript" class="headerlink" title="正后顾(正后顾不适用于 javascript)"></a>正后顾(正后顾不适用于 javascript)</h3><p>(?&lt;=a)b</p>
<p>a<strong>b</strong>c</p>
<p>aa<strong>b</strong>d</p>
<h3 id="反后顾-反后顾不适用于-javascript"><a href="#反后顾-反后顾不适用于-javascript" class="headerlink" title="反后顾(反后顾不适用于 javascript)"></a>反后顾(反后顾不适用于 javascript)</h3><p>(?&lt;!a)b</p>

	
	</div>
  <a type="button" href="/2014/10/23/2014-10-31-regexp/#more" class="btn btn-default more">阅读此文</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2014-10-23 </div>
			<div class="article-title"><a href="/2014/10/23/2014-10-23-swing/" >隐形的翅膀</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
	
	
		<p>每一次都在徘徊孤单中坚强</p>
<p>每一次就算受伤害也不闪泪光</p>
<p>不去想他们拥有美丽的太阳</p>
<p>带我飞，给我希望</p>
<p>我终于翱翔，穿过云朵不害怕</p>
<p>我看见每天的夕阳都会由变化</p>
<p>我终于看到， 所有梦想都开花</p>

	
	</div>
  <a type="button" href="/2014/10/23/2014-10-23-swing/#more" class="btn btn-default more">阅读此文</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2014-10-22 </div>
			<div class="article-title"><a href="/2014/10/22/2014-10-22-基本视觉格式化/" >基本视觉格式化</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
	
	
		<h1 id="css基本视觉格式化"><a href="#css基本视觉格式化" class="headerlink" title="css基本视觉格式化"></a>css基本视觉格式化</h1><h2 id="containing-block"><a href="#containing-block" class="headerlink" title="containing block"></a>containing block</h2><p>每个元素都相对于其包含块摆放；也就是说,包含块是一个元素的“<strong>布局上下文</strong>”。</p>
<pre><code>&lt;div&gt;
    &lt;p&gt;
    &lt;/P&gt;
&lt;/div&gt;
</code></pre><p> p 的包含块就是 div，div 的包含块就是 body。</p>
<blockquote>
<p>想想浏览器怎么把一个元素“画”出来，至少要知道定位和尺寸。定位有三种normal flow, floats和 absolute，无论属于哪种首先要找所在的containing block(我翻译为容器块)，相当于一个大箱子里摆很多小盒子，小盒子怎么摆取决于大箱子。</p>
</blockquote>
<p>怎么确定一个元素的containing block，由position属性确定:</p>
<ol>
<li>根元素所在的 containing block 被称为 initial containing block，在我们常用的浏览器环境下，指的是原点与 canvas 重合，大小和 viewport 相同的矩形；</li>
<li>static(默认的)/relative：简单说就是它的父元素的内容框（除 margin, border, padding 外的区域))</li>
<li>absolute: 则是先找到其祖先元素中最近的 position 属性非 static 的元素.</li>
<li>fixed: 它的 containing block一律为根元素(html/body)，根元素也是initial containing block(viewport).</li>
</ol>
<p>一般来说，盒子本身就为其子孙建立了 containing block，用来计算内部盒子的位置、大小，而对内部的盒子，具体采用哪个 containing block 来计算，需要分情况来讨论：</p>
<h2 id="block-formatting-context-BFC"><a href="#block-formatting-context-BFC" class="headerlink" title="block formatting context(BFC)"></a>block formatting context(BFC)</h2><p>block formatting context(块级格式化上下文)是一种布局特性，还是往箱子里放东西，bfc可以理解为打了”隔板”把一组小盒子分离开。</p>
<p>在这种布局方式下，盒子们自所在的 containing block 顶部起一个接一个垂直排列，水平方向上撑满整个宽度 (除非内部的盒子自己内部建立了新的 BFC)。</p>
<h2 id="block-level-box"><a href="#block-level-box" class="headerlink" title="block-level box"></a>block-level box</h2><p>一个 block-level element (‘display’ 属性值为 ‘block’, ‘list-item’ 或是 ‘table’) 会生成一个 block-level box，这样的盒子会参与到 block-formatting context (一种布局的方式) 中。</p>
<p>“block-level box一定会产生block formatting context”是错误的，block-level box须通过设置如overflow不为visible(IE6/7无效，可以设zoom)、float不为none等等来创建block formatting context。</p>
<p>触发了bfc的block level box，没有margin callapse的问题，并且边缘不会和float box的边缘重叠，利用它可以清浮动。</p>
<p>页面上任何一个元素都可以看成box，box 分 block-level，inline-level 和 匿名(anonymous box)的。</p>

	
	</div>
  <a type="button" href="/2014/10/22/2014-10-22-基本视觉格式化/#more" class="btn btn-default more">阅读此文</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2014-10-20 </div>
			<div class="article-title"><a href="/2014/10/20/2014-10-20-css-layout/" >css-layout</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
	
	
		<h1 id="浅谈-css-布局标准"><a href="#浅谈-css-布局标准" class="headerlink" title="浅谈 css 布局标准"></a>浅谈 css 布局标准</h1><p>第一版 CSS1 诞生于96年12月，它是为了辅助 HTML 的展现效果而整出来的。<br>第二版 CSS2 诞生于98年5月。随后发布修订版css2.1,</p>

	
	</div>
  <a type="button" href="/2014/10/20/2014-10-20-css-layout/#more" class="btn btn-default more">阅读此文</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2014-10-04 </div>
			<div class="article-title"><a href="/2014/10/04/2014-10-03-custom_element_draft/" >custom_element_draft</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
	
	
		<h2 id="custom-element"><a href="#custom-element" class="headerlink" title="custom element"></a>custom element</h2><p>参考<br><a href="http://w3c.github.io/webcomponents/spec/custom/" target="_blank" rel="external">http://w3c.github.io/webcomponents/spec/custom/</a></p>

	
	</div>
  <a type="button" href="/2014/10/04/2014-10-03-custom_element_draft/#more" class="btn btn-default more">阅读此文</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2014-10-03 </div>
			<div class="article-title"><a href="/2014/10/03/2014-10-03-shadowdom-draft/" >Shadow trees</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
	
	
		<h2 id="Shadow-trees"><a href="#Shadow-trees" class="headerlink" title="Shadow trees"></a>Shadow trees</h2><p>w3c 中关于 Shadow tress 是这样说的：</p>
<ol>
<li>文档树是根节点为文档(document)的节点树. (A document tree is a node tree [DOM] whose root node is a document.)</li>
<li>任何元素都能拥有一个按顺序排列的关联0到多个节点树的列表.(Any element can have an associated ordered list of zero or more node trees.)</li>
<li>该元素作为此节点树的宿主，如果这个节点树在该元素的节点树列表中.(An element hosts a node tree if the node tree is a member of this associated list.)</li>
<li>shadow host就一个元素 hosts 一个或多个节点树.(A shadow host is an element that hosts one or more node trees.)</li>
<li>shadow root 是一个 shadow tree 的根节点。</li>
<li>如果某个shadow host, hosts 了多个 shadow tree， 最近添加的成为 younger，越早越 older。</li>
</ol>
<p>参考<br><a href="http://w3c.github.io/webcomponents/spec/shadow/#shadow-trees" target="_blank" rel="external">http://w3c.github.io/webcomponents/spec/shadow/#shadow-trees</a></p>

	
	</div>
  <a type="button" href="/2014/10/03/2014-10-03-shadowdom-draft/#more" class="btn btn-default more">阅读此文</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2014-10-01 </div>
			<div class="article-title"><a href="/2014/10/01/2014-11-10-客户端库管理工具-spm/" >spm：客户端库管理工具</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
	
	
		<blockquote>
<p>spm is a powerful and integrated static package manager designed for browser-side solutions including JavaScript, CSS and template.</p>
</blockquote>
<p>spm 中的组件都是以 CommonJs 的组织方式, 并且可以通过 seajs 加载运行.</p>
<p>spm基于node.js，所以安装之前，必须先确保已安装node.js。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install spm -g</div></pre></td></tr></table></figure>
<p>下面的命令可以更新或卸载 spm。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">sudo npm update -g spm</div><div class="line">sudo npm uninstall -global spm</div></pre></td></tr></table></figure>
<h2 id="常用操作"><a href="#常用操作" class="headerlink" title="常用操作"></a>常用操作</h2><h3 id="库的安装"><a href="#库的安装" class="headerlink" title="库的安装"></a>库的安装</h3><p>初始化 package</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">mkdir example</div><div class="line"><span class="built_in">cd</span> example</div><div class="line">spm init</div></pre></td></tr></table></figure>
<p>spm install命令用于安装某个库，需要指明库的名字。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">spm install backbone</div></pre></td></tr></table></figure>
<p>Package Commands:</p>
<pre><code>init           initialize a package
login          login your account
install        install a package
publish        publish a package
unpublish      unpublish a package
tree           show dependencies tree
info           information of a package
search         search packages
test           test a package
doc            documentation manager
build          build package
completion     output completion bash script
</code></pre><p>与 bower 不同的是， spm 增加了 <code>doc</code>，’build’ 功能, 通过 <code>build</code> 用于将编写的 CommonJS 模块编译后兼容多种的加载方式.</p>
<p>build 同时能解决相对依赖和绝对依赖的问题。</p>
<p>###spm build</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">-O [dir]  输出目录,默认为: dist</div><div class="line">-o [file] 输出文件名</div><div class="line"></div><div class="line"><span class="comment"># include 在 spm3.x 已经不再推荐</span></div><div class="line">--include [include]: 指定打包策略</div><div class="line">	- relative 打包相对依赖</div><div class="line">	- all 打包所有依赖</div><div class="line">	- standalone, 打包所有依赖并且自运行(不需要加载器, 比如在浏览器下直接放在 header 下)</div><div class="line"></div><div class="line">--standalone 不需要加载器,等同于 --include -standalone</div><div class="line">--sea 编译成 seajs 用的文件, 等同于老式的 --include[relative/all]</div></pre></td></tr></table></figure>
<p>###package.json<br><code>spm</code> 使用和 <code>npm</code> 基本一致的 <code>package.json</code> 来描述组件.</p>
<figure class="highlight clojure"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">    ...</div><div class="line"></div><div class="line">    <span class="string">"spm"</span>: &#123;</div><div class="line">        <span class="string">"main"</span>: <span class="string">"calendar.js"</span>,</div><div class="line">        <span class="string">"dependencies"</span>: &#123;&#125;,</div><div class="line">        <span class="string">"devDependencies"</span>: &#123;&#125;,</div><div class="line">        <span class="string">"tests"</span>: <span class="string">"tests/*-spec.js"</span>,</div><div class="line">        <span class="string">"ignore"</span>: [</div><div class="line">            <span class="string">"dist"</span>,</div><div class="line">            <span class="string">"_site"</span></div><div class="line">        ],</div><div class="line">        <span class="string">"buildArgs"</span>: <span class="string">"--ignore jquery"</span></div><div class="line">        &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>属性</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td> dest</td>
<td>输出目录, 默认为 dist</td>
</tr>
<tr>
<td> include</td>
<td>指定打包策略, 可选 –sea/–standalone 等方式</td>
</tr>
<tr>
<td> ignore</td>
<td>指定不进行 transport 的依赖</td>
</tr>
<tr>
<td> skip</td>
<td>指定不进行分析的依赖</td>
</tr>
<tr>
<td> idleaing</td>
<td>模块名前缀,默认为 /</td>
</tr>
<tr>
<td> withDeps</td>
<td>同时打包所有依赖, 默认为 false</td>
</tr>
</tbody>
</table>
<h2 id="相关链接"><a href="#相关链接" class="headerlink" title="相关链接"></a>相关链接</h2><p><a href="http://spmjs.io/documentation/spm-commands" target="_blank" rel="external">spm.io</a></p>

	
	</div>
  <a type="button" href="/2014/10/01/2014-11-10-客户端库管理工具-spm/#more" class="btn btn-default more">阅读此文</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2014-09-02 </div>
			<div class="article-title"><a href="/2014/09/02/2014-09-02-modernizr/" >了解 Modernizr</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
	
	
		<h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>为了渐进增强和特性检测，Modernizr 出场.</p>
<p>首先，从modernizr.com下载这个库。下载的时候，可以选择所需要的模块。然后，将它插入HTML页面的头部，放在head标签之中。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">class</span>=<span class="string">"no-js"</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/modernizr.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="CSS的新增class"><a href="#CSS的新增class" class="headerlink" title="CSS的新增class"></a>CSS的新增class</h2><p>使用Modernizr以后，首先会把html元素的class替换掉。以chrome浏览器为例，新增的class大概是下面的样子。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">class</span>=<span class="string">"js no-touch postmessage history multiplebgs boxshadow opacity cssanimations csscolumns cssgradients csstransforms csstransitions fontface localstorage sessionstorage svg inlinesvg blobbuilder blob bloburls download formdata"</span>&gt;</span></div></pre></td></tr></table></figure>
<p>IE 7则是这样：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">class</span>=<span class="string">"js no-touch postmessage no-history no-multiplebgs no-boxshadow no-opacity no-cssanimations no-csscolumns no-cssgradients no-csstransforms no-csstransitions fontface localstorage sessionstorage no-svg no-inlinesvg wf-loading no-blobbuilder no-blob no-bloburls no-download no-formdata"</span>&gt;</span></div></pre></td></tr></table></figure>
<p>然后，就可以针对不同的CSS class，指定不同的样式。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="selector-class">.button</span> &#123;</div><div class="line">   <span class="attribute">background</span>: <span class="number">#000</span>;</div><div class="line">   <span class="attribute">opacity</span>: <span class="number">0.75</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-class">.no-opacity</span> <span class="selector-class">.button</span> &#123;</div><div class="line">   <span class="attribute">background</span>: <span class="number">#444</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="JavaScript侦测"><a href="#JavaScript侦测" class="headerlink" title="JavaScript侦测"></a>JavaScript侦测</h2><p>除了提供新增的CSS class，Modernizr还提供JavaScript方法，用来侦测浏览器是否支持某个功能。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">Modernizr.cssgradients; <span class="comment">//True in Chrome, False in IE7</span></div><div class="line"></div><div class="line">Modernizr.fontface; <span class="comment">//True in Chrome, True in IE7</span></div><div class="line"></div><div class="line">Modernizr.geolocation; <span class="comment">//True in Chrome, False in IE7</span></div><div class="line"></div><div class="line"><span class="keyword">if</span> (Modernizr.canvas)&#123;</div><div class="line">	<span class="comment">// 支持canvas</span></div><div class="line">&#125; <span class="keyword">else</span> &#123;</div><div class="line">   <span class="comment">// 不支持canvas</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">if</span> (Modernizr.touch)&#123;</div><div class="line">	<span class="comment">// 支持触摸屏</span></div><div class="line">&#125; <span class="keyword">else</span> &#123;</div><div class="line">   <span class="comment">// 不支持触摸屏</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="加载器"><a href="#加载器" class="headerlink" title="加载器"></a>加载器</h2><p>Modernizr允许根据Javascript侦测的不同结果，加载不同的脚本文件。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">Modernizr.load(&#123;</div><div class="line">  <span class="attr">test</span> :        Modernizr.localstorage,</div><div class="line">  <span class="attr">yep</span>  :        <span class="string">'localStorage.js'</span>,</div><div class="line">  <span class="attr">nope</span> :        <span class="string">'alt-storageSystem.js'</span>,</div><div class="line">  <span class="attr">complete</span> :    <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; enableStorgeSaveUI();&#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>Modernizr.load方法用来加载脚本。它的属性如下：</p>
<ul>
<li>test：用来测试浏览器是否支持某个属性。</li>
<li>yep：如果浏览器支持该属性，加载的脚本。</li>
<li>nope：如果浏览器不支持该属性，加载的脚本。</li>
<li>complete：加载完成后，运行的JavaScript代码。</li>
</ul>
<p>可以指定在支持某个功能的情况，所要加载的JavaScript脚本和CSS样式。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">Modernizr.load(&#123;</div><div class="line">  <span class="attr">test</span> : Modernizr.touch,</div><div class="line">  <span class="attr">yep</span> :  [<span class="string">'js/touch.js'</span>, <span class="string">'css/touchStyles.css'</span>]</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><ul>
<li>Chris Griffith, <a href="http://www.adobe.com/devnet/html5/articles/up-and-running-with-modernizr.html" target="_blank" rel="external">Up and running with Modernizr</a></li>
</ul>

	
	</div>
  <a type="button" href="/2014/09/02/2014-09-02-modernizr/#more" class="btn btn-default more">阅读此文</a>
</div>

		

		</div>

		<!-- pagination -->
		<div>
  		<center>
		<div class="pagination">
<ul class="pagination">
	 
		
    	<li class="prev"><a href="/page/8/" class="alignleft prev"><i class="fa fa-arrow-circle-o-left"></i> 上一页</a></li>
  		

        <li><a href="/"><i class="fa fa-home"></i>Home</a></li>

		
		   <li class="next"> <a href="/page/10/" class="alignright next">下一页<i class="fa fa-arrow-circle-o-right"></i></a> </li>          
        
	
</ul>
</div>

  		</center>
		</div>

		
		
	</div> <!-- col-md-9 -->

	
		<div class="col-md-3">
	<div id="sidebar">
	
			 

		
			
	<div class="widget">
		<h4>分类</h4>
		<ul class="tag_box inline list-unstyled">
		
			<li><a href="/categories/Sports/Baseball/">Baseball<span>2</span></a></li>
		
			<li><a href="/categories/Sports/">Sports<span>2</span></a></li>
		
			<li><a href="/categories/bom/">bom<span>1</span></a></li>
		
			<li><a href="/categories/collection/">collection<span>1</span></a></li>
		
			<li><a href="/categories/css/">css<span>1</span></a></li>
		
			<li><a href="/categories/http/">http<span>1</span></a></li>
		
			<li><a href="/categories/javascript-template/">javascript template<span>1</span></a></li>
		
			<li><a href="/categories/javascript-test/">javascript test<span>1</span></a></li>
		
			<li><a href="/categories/jquery/">jquery<span>1</span></a></li>
		
			<li><a href="/categories/library/">library<span>2</span></a></li>
		
			<li><a href="/categories/note/">note<span>1</span></a></li>
		
			<li><a href="/categories/note-vim/">note vim<span>2</span></a></li>
		
			<li><a href="/categories/tool/">tool<span>3</span></a></li>
		
		</ul>
	</div>

		
			
	<div class="widget">
		<h4>标签云</h4>
		<ul class="tag_box inline list-unstyled">		
		
			<li><a href="/tags/html5/">html5<span>1</span></a></li>
		
			<li><a href="/tags/library/">library<span>3</span></a></li>
		
			<li><a href="/tags/default/">default<span>1</span></a></li>
		
			<li><a href="/tags/mobile/">mobile<span>1</span></a></li>
		
			<li><a href="/tags/test/">test<span>2</span></a></li>
		
			<li><a href="/tags/Shocking/">Shocking<span>2</span></a></li>
		
			<li><a href="/tags/w3c/">w3c<span>1</span></a></li>
		
			<li><a href="/tags/javascript/">javascript<span>9</span></a></li>
		
			<li><a href="/tags/webcomponent/">webcomponent<span>2</span></a></li>
		
			<li><a href="/tags/hg/">hg<span>1</span></a></li>
		
			<li><a href="/tags/vim/">vim<span>3</span></a></li>
		
			<li><a href="/tags/demo/">demo<span>1</span></a></li>
		
			<li><a href="/tags/javascript-template/">javascript template<span>1</span></a></li>
		
			<li><a href="/tags/jquery/">jquery<span>3</span></a></li>
		
			<li><a href="/tags/Injury/">Injury<span>2</span></a></li>
		
			<li><a href="/tags/javascript-regexp/">javascript regexp<span>1</span></a></li>
		
			<li><a href="/tags/dom-javascript/">dom,javascript<span>1</span></a></li>
		
			<li><a href="/tags/html-优化/">html 优化<span>1</span></a></li>
		
			<li><a href="/tags/css/">css<span>7</span></a></li>
		
			<li><a href="/tags/polymer/">polymer<span>3</span></a></li>
		
		
		   <li><a href="/tags">...<span>39</span></a></li>
		 
		</ul>
	</div>


		
			
<div class="widget">
  <h4>最新文章</h4>
  <ul class="entry list-unstyled">
    
      <li>
        <a href="/2017/04/23/javascript/" ><i class="fa fa-file-o"></i></a>
      </li>
    
      <li>
        <a href="/2017/04/23/设计模式简介/" ><i class="fa fa-file-o"></i></a>
      </li>
    
      <li>
        <a href="/2017/04/23/消除函数的术语歧义/" ><i class="fa fa-file-o"></i></a>
      </li>
    
      <li>
        <a href="/2017/04/23/前端新人入门/" ><i class="fa fa-file-o"></i></a>
      </li>
    
      <li>
        <a href="/2017/04/23/代码质量的分类/" ><i class="fa fa-file-o"></i></a>
      </li>
    
  </ul>
</div>

		
			
<div class="widget">
	<h4>链接</h4>
	<ul class="blogroll list-unstyled">
	
		<li><i class="fa fa-github"></i><a href="https://github.com/chenyakun" title="My Github repository." target="_blank"]);">My Github</a></li>
	
	</ul>
</div>


		
	</div> <!-- sidebar -->
</div> <!-- col-md-3 -->

	
	
</div> <!-- row-fluid -->
	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
  &copy; 2017 yakun.cyk
  
      with help from <a href="http://hexo.io/" target="_blank">Hexo</a> and <a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a>. Theme by <a href="http://github.com/wzpan/hexo-theme-freemind/">Freemind</a>.    
</p> </footer>
</div> <!-- container-narrow -->
  
  
<a id="gotop" href="#">   
  <span>▲</span> 
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>
<!-- <script src="/js/search.js"></script>  -->

<!-- 
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>
 -->

<!-- 
   <script type="text/javascript">      
     var search_path = "search.xml";
	 if (search_path.length == 0) {
	 	search_path = "search.xml";
	 }
	 var path = "/" + search_path;
     searchFunc(path, 'local-search-input', 'local-search-result');
   </script>
 -->

<div class="cb-search-tool" style="position: fixed; top: 0px ; bottom: 0px; left: 0px; right:  0px;
        opacity: 0.95; background-color: #111111; z-index: 9999; display: none;">

    <input type="text" class="cb-search-content" id="cb-search-content" style="position: fixed; top: 60px" placeholder="文章标题 日期 标签" />

    <div style="position: fixed; top: 16px; right: 16px;">
        <img src="/search/img/cb-close.png"  id="cb-close-btn"/>
    </div>
</div>

<!-- <div style="position: fixed; right: 16px; bottom: 20px;">
    <img src="/search/img/cb-search.png"  id="cb-search-btn"  title="双击ctrl试一下"/>
</div> -->

<link rel="stylesheet" href="/search/css/cb-search.css">
<script src="/search/js/bootstrap3-typeahead.min.js"></script>
<script src="/search/js/cb-search.js"></script>

</body>
   </html>
